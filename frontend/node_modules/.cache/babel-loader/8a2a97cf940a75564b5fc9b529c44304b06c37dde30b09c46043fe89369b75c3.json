{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import Layout from'@/components/Layout';import{IoChatbubbles,IoCheckmark as Check,IoCheckmarkCircle,IoClose,IoCloudUpload,IoDocument,IoSend,IoTime,IoWarning}from'react-icons/io5';import axios from'axios';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=BACKEND_URL;export default function OrderDetails(){var _order$fiat_amount;const{orderId}=useParams();const navigate=useNavigate();const[order,setOrder]=useState(null);const[dispute,setDispute]=useState(null);const[loading,setLoading]=useState(true);const[showDisputeDialog,setShowDisputeDialog]=useState(false);const[showEvidenceDialog,setShowEvidenceDialog]=useState(false);const[disputeReason,setDisputeReason]=useState('');const[evidenceDescription,setEvidenceDescription]=useState('');const[evidenceType,setEvidenceType]=useState('screenshot');const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[processing,setProcessing]=useState(false);const[currentUser,setCurrentUser]=useState(null);useEffect(()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/');return;}const user=JSON.parse(userData);setCurrentUser(user);fetchOrderDetails(user.user_id);},[orderId,navigate]);const fetchOrderDetails=async userId=>{try{const ordersResp=await axios.get(\"\".concat(API,\"/api/crypto-market/orders/\").concat(userId));const allOrders=[...ordersResp.data.buy_orders,...ordersResp.data.sell_orders];const foundOrder=allOrders.find(o=>o.order_id===orderId);if(foundOrder){setOrder(foundOrder);}}catch(error){console.error('Error fetching order:',error);toast.error('Failed to load order details');}finally{setLoading(false);}};const handleInitiateDispute=async()=>{if(!disputeReason.trim()){toast.error('Please provide a reason for the dispute');return;}setProcessing(true);try{const response=await axios.post(\"\".concat(API,\"/api/disputes/initiate\"),{user_address:currentUser.user_id,order_id:orderId,reason:disputeReason});if(response.data.success){toast.success('Dispute opened! Crypto is now locked in escrow.');setShowDisputeDialog(false);setDisputeReason('');setDispute(response.data.dispute);fetchOrderDetails(currentUser.user_id);}}catch(error){var _error$response,_error$response$data;console.error('Error initiating dispute:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to initiate dispute');}finally{setProcessing(false);}};const handleUploadEvidence=async()=>{if(!evidenceDescription.trim()){toast.error('Please provide evidence description');return;}if(!dispute){toast.error('No active dispute found');return;}setProcessing(true);try{const response=await axios.post(\"\".concat(API,\"/api/disputes/evidence\"),{dispute_id:dispute.dispute_id,uploaded_by:currentUser.user_id,evidence_type:evidenceType,description:evidenceDescription,file_url:null});if(response.data.success){toast.success('Evidence uploaded successfully');setShowEvidenceDialog(false);setEvidenceDescription('');}}catch(error){console.error('Error uploading evidence:',error);toast.error('Failed to upload evidence');}finally{setProcessing(false);}};const handleSendMessage=async()=>{if(!newMessage.trim()||!dispute)return;try{const userRole=order.buyer_id===currentUser.user_id?'buyer':'seller';const response=await axios.post(\"\".concat(API,\"/api/disputes/message\"),{dispute_id:dispute.dispute_id,sender_address:currentUser.user_id,sender_role:userRole,message:newMessage});if(response.data.success){setMessages([...messages,response.data.message]);setNewMessage('');}}catch(error){console.error('Error sending message:',error);toast.error('Failed to send message');}};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'60vh'},\"data-testid\":\"loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',border:'4px solid rgba(0, 240, 255, 0.3)',borderTopColor:'#00F0FF',borderRadius:'50%',animation:'spin 1s linear infinite'}})})});}if(!order){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',margin:'4rem auto',padding:'3rem 2rem',textAlign:'center',background:'linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))',border:'2px solid rgba(239, 68, 68, 0.3)',borderRadius:'16px'},children:[/*#__PURE__*/_jsx(IoWarning,{size:64,color:\"#EF4444\",style:{marginBottom:'1.5rem'}}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'1rem'},children:\"Order Not Found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-orders'),style:{padding:'0.75rem 2rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'10px',color:'#000000',fontSize:'1rem',fontWeight:'600',cursor:'pointer',marginTop:'1rem'},children:\"Go Back\"})]})});}const isBuyer=order.buyer_id===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id);const getStatusColor=status=>{switch(status){case'completed':return'#22C55E';case'disputed':return'#F59E0B';case'cancelled':return'#EF4444';default:return'#00F0FF';}};const getStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:20});case'disputed':return/*#__PURE__*/_jsx(IoWarning,{size:20});default:return/*#__PURE__*/_jsx(IoTime,{size:20});}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',padding:'2rem 1rem'},\"data-testid\":\"order-details-page\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem',display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'900',marginBottom:'0.5rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},\"data-testid\":\"order-title\",children:\"Order Details\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'rgba(255,255,255,0.6)',fontSize:'0.875rem'},children:[\"Order ID: \",orderId.slice(0,12),\"...\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-orders'),style:{padding:'0.75rem 1.5rem',background:'rgba(0, 240, 255, 0.1)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#00F0FF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer'},children:\"Back to Orders\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))',border:'2px solid rgba(0, 240, 255, 0.2)',borderRadius:'16px',padding:'2rem',marginBottom:'2rem'},\"data-testid\":\"order-status\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.375rem',fontWeight:'700',color:'#FFFFFF'},children:\"Order Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:\"\".concat(getStatusColor(order.status),\"20\"),border:\"2px solid \".concat(getStatusColor(order.status)),borderRadius:'10px',color:getStatusColor(order.status),fontWeight:'700',fontSize:'0.875rem',textTransform:'uppercase'},children:[getStatusIcon(order.status),/*#__PURE__*/_jsx(\"span\",{children:order.status.replace(/_/g,' ')})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1.25rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:\"Amount\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#FFFFFF'},children:[order.crypto_amount,\" \",order.crypto_currency]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:\"Total Price\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#FFFFFF'},children:[\"\\xA3\",(_order$fiat_amount=order.fiat_amount)===null||_order$fiat_amount===void 0?void 0:_order$fiat_amount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:isBuyer?'Seller':'Buyer'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#FFFFFF',fontFamily:'monospace'},children:isBuyer?\"\".concat(order.seller_id.slice(0,8),\"...\"):\"\".concat(order.buyer_id.slice(0,8),\"...\")})]})]}),order.status==='disputed'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',padding:'1rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'10px',display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(IoWarning,{size:24,color:\"#F59E0B\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:'700',color:'#F59E0B',marginBottom:'0.25rem'},children:\"Crypto Locked in Escrow\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.7)'},children:\"This order is under dispute. Crypto is securely held in escrow until admin resolution.\"})]})]}),order.status!=='disputed'&&order.status!=='completed'&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1.5rem'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDisputeDialog(true),\"data-testid\":\"open-dispute-btn\",style:{padding:'0.875rem 1.5rem',background:'linear-gradient(135deg, #EF4444, #DC2626)',border:'none',borderRadius:'10px',color:'#FFFFFF',fontSize:'1rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoWarning,{size:20}),\"Open Dispute\"]})})]}),order.status==='disputed'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(245, 158, 11, 0.05), rgba(251, 191, 36, 0.05))',border:'2px solid rgba(245, 158, 11, 0.2)',borderRadius:'16px',padding:'2rem'},\"data-testid\":\"dispute-section\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.375rem',fontWeight:'700',color:'#FFFFFF'},children:\"Dispute & Evidence\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowEvidenceDialog(true),\"data-testid\":\"upload-evidence-btn\",style:{padding:'0.75rem 1.25rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'10px',color:'#F59E0B',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:18}),\"Upload Evidence\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.25rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px',marginBottom:'1.5rem',display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(IoDocument,{size:28,color:\"#F59E0B\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'0.25rem'},children:\"Provide Evidence\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.7)'},children:\"Upload bank transfer screenshots, receipts, or any proof to support your case. Admin will review all evidence.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px',padding:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(IoChatbubbles,{size:20,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#FFFFFF'},children:\"Dispute Chat\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'200px',maxHeight:'400px',overflowY:'auto',marginBottom:'1rem',padding:'1rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px'},children:messages.length>0?messages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',padding:'0.875rem',background:msg.sender_address===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id)?'rgba(0, 240, 255, 0.1)':'rgba(168, 85, 247, 0.1)',borderRadius:'8px',borderLeft:\"4px solid \".concat(msg.sender_address===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id)?'#00F0FF':'#A855F7')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'700',color:msg.sender_address===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id)?'#00F0FF':'#A855F7',textTransform:'uppercase'},children:msg.sender_role}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.6)'},children:new Date(msg.created_at).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#FFFFFF',fontSize:'0.9375rem'},children:msg.message})]},msg.message_id)):/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255,255,255,0.6)',textAlign:'center',padding:'2rem'},children:\"No messages yet. Start the conversation.\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message...\",value:newMessage,onChange:e=>setNewMessage(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSendMessage(),\"data-testid\":\"chat-input\",style:{flex:1,padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none'}}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendMessage,\"data-testid\":\"send-message-btn\",style:{padding:'0.875rem 1.5rem',background:'linear-gradient(135deg, #00F0FF, #00B8E6)',border:'none',borderRadius:'8px',color:'#000000',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoSend,{size:18}),\"Send\"]})]})]})]}),showDisputeDialog&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},onClick:()=>setShowDisputeDialog(false),\"data-testid\":\"dispute-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',width:'100%',background:'linear-gradient(135deg, rgba(30, 39, 73, 0.95), rgba(20, 27, 50, 0.95))',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'2rem',maxHeight:'90vh',overflowY:'auto'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF'},children:\"Open Dispute\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDisputeDialog(false),style:{background:'none',border:'none',color:'rgba(255,255,255,0.6)',cursor:'pointer'},children:/*#__PURE__*/_jsx(IoClose,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',marginBottom:'1.5rem',display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoWarning,{size:20,color:\"#F59E0B\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.9)'},children:\"Only open a dispute if there is a genuine issue. False disputes may affect your account.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.9375rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Reason for Dispute *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Explain the issue (e.g., Payment sent but seller not releasing crypto, No payment received, etc.)\",value:disputeReason,onChange:e=>setDisputeReason(e.target.value),rows:5,\"data-testid\":\"dispute-reason-input\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDisputeDialog(false),style:{flex:1,padding:'0.875rem',background:'rgba(255, 255, 255, 0.1)',border:'2px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleInitiateDispute,disabled:processing,\"data-testid\":\"submit-dispute-btn\",style:{flex:1,padding:'0.875rem',background:processing?'rgba(239, 68, 68, 0.5)':'linear-gradient(135deg, #EF4444, #DC2626)',border:'none',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',fontWeight:'600',cursor:processing?'not-allowed':'pointer'},children:processing?'Opening...':'Open Dispute'})]})]})}),showEvidenceDialog&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},onClick:()=>setShowEvidenceDialog(false),\"data-testid\":\"evidence-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',width:'100%',background:'linear-gradient(135deg, rgba(30, 39, 73, 0.95), rgba(20, 27, 50, 0.95))',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'16px',padding:'2rem',maxHeight:'90vh',overflowY:'auto'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF'},children:\"Upload Evidence\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEvidenceDialog(false),style:{background:'none',border:'none',color:'rgba(255,255,255,0.6)',cursor:'pointer'},children:/*#__PURE__*/_jsx(IoClose,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.9375rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Evidence Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:evidenceType,onChange:e=>setEvidenceType(e.target.value),\"data-testid\":\"evidence-type-select\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"screenshot\",children:\"Screenshot\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bank_statement\",children:\"Bank Statement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"message\",children:\"Message/Email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.9375rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Describe this evidence (e.g., Bank transfer confirmation showing payment of \\xA33000 to seller's account)\",value:evidenceDescription,onChange:e=>setEvidenceDescription(e.target.value),rows:4,\"data-testid\":\"evidence-description-input\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',marginBottom:'1.5rem',display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:20,color:\"#F59E0B\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.9)'},children:\"In production: Upload actual files here. For this demo, description is sufficient.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEvidenceDialog(false),style:{flex:1,padding:'0.875rem',background:'rgba(255, 255, 255, 0.1)',border:'2px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUploadEvidence,disabled:processing,\"data-testid\":\"submit-evidence-btn\",style:{flex:1,padding:'0.875rem',background:processing?'rgba(245, 158, 11, 0.5)':'linear-gradient(135deg, #F59E0B, #F97316)',border:'none',borderRadius:'8px',color:'#000000',fontSize:'0.9375rem',fontWeight:'600',cursor:processing?'not-allowed':'pointer'},children:processing?'Uploading...':'Upload Evidence'})]})]})})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}