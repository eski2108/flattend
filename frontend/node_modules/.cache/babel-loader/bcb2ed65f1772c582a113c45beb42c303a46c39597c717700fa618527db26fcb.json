{"ast":null,"code":"/* eslint-disable */import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'sonner';import{IoCopyOutline,IoLogoWhatsapp,IoLogoFacebook,IoLogoTwitter,IoCheckmarkCircleOutline,IoInformationCircleOutline,IoTrendingUpOutline,IoPeopleOutline,IoTimeOutline,IoTrophyOutline,IoQrCodeOutline,IoScanOutline,IoPhonePortraitOutline}from'react-icons/io5';import QRCode from'qrcode';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;// API already defined\nexport default function ReferralDashboardNew(){const navigate=useNavigate();const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[referralData,setReferralData]=useState(null);const[commissions,setCommissions]=useState([]);const[stats,setStats]=useState({total_earned:0,pending:0,completed:0,this_month:0,last_30_days:[]});const[showInfoTooltip,setShowInfoTooltip]=useState(false);const[showUsersList,setShowUsersList]=useState(null);const[copySuccess,setCopySuccess]=useState('');const[qrCodeUrl,setQrCodeUrl]=useState('');useEffect(()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/login');return;}setUser(JSON.parse(userData));},[navigate]);useEffect(()=>{if(user!==null&&user!==void 0&&user.user_id){fetchReferralData();}},[user===null||user===void 0?void 0:user.user_id]);const fetchReferralData=async()=>{try{var _data$total_earnings,_data$earnings_by_per,_data$earnings_by_per2,_data$referral_stats,_data$referral_stats2,_data$earnings_by_per3,_data$earnings_by_per4,_data$earnings_by_per5,_data$earnings_by_per6,_data$earnings_by_per7,_data$earnings_by_per8;setLoading(true);// ðŸ”¥ USE COMPREHENSIVE ENDPOINT - 100% REAL DATA FROM ALL SOURCES\nconst comprehensiveRes=await axios.get(\"\".concat(API,\"/api/referral/dashboard/comprehensive/\").concat(user.user_id));const data=comprehensiveRes.data;if(!data.success){throw new Error(data.error||'Failed to load dashboard');}// Set referral basic info\nsetReferralData({referral_code:data.referral_code,referral_link:data.referral_link,tier:data.tier});// Set real-time stats from ALL revenue streams\nsetStats({total_earned:((_data$total_earnings=data.total_earnings)===null||_data$total_earnings===void 0?void 0:_data$total_earnings.total_gbp)||0,this_month:((_data$earnings_by_per=data.earnings_by_period)===null||_data$earnings_by_per===void 0?void 0:(_data$earnings_by_per2=_data$earnings_by_per.month)===null||_data$earnings_by_per2===void 0?void 0:_data$earnings_by_per2.amount)||0,completed:((_data$referral_stats=data.referral_stats)===null||_data$referral_stats===void 0?void 0:_data$referral_stats.active_referrals)||0,pending:((_data$referral_stats2=data.referral_stats)===null||_data$referral_stats2===void 0?void 0:_data$referral_stats2.pending_signups)||0,today:((_data$earnings_by_per3=data.earnings_by_period)===null||_data$earnings_by_per3===void 0?void 0:(_data$earnings_by_per4=_data$earnings_by_per3.today)===null||_data$earnings_by_per4===void 0?void 0:_data$earnings_by_per4.amount)||0,week:((_data$earnings_by_per5=data.earnings_by_period)===null||_data$earnings_by_per5===void 0?void 0:(_data$earnings_by_per6=_data$earnings_by_per5.week)===null||_data$earnings_by_per6===void 0?void 0:_data$earnings_by_per6.amount)||0,year:((_data$earnings_by_per7=data.earnings_by_period)===null||_data$earnings_by_per7===void 0?void 0:(_data$earnings_by_per8=_data$earnings_by_per7.year)===null||_data$earnings_by_per8===void 0?void 0:_data$earnings_by_per8.amount)||0});// Set activity timeline (real transactions)\nsetCommissions(data.activity_timeline||[]);// Store comprehensive data for advanced features\nwindow.referralAnalytics={earnings_by_stream:data.earnings_by_stream||[],referral_tree:data.referral_tree||{},conversion_metrics:data.conversion_metrics||{},geographic_breakdown:data.geographic_breakdown||[],tier_progress:data.tier_progress||{}};// Generate QR code for referral link\nif(data.referral_link){try{const qrUrl=await QRCode.toDataURL(data.referral_link,{width:300,margin:2,color:{dark:'#00F0FF',light:'#0a0b1a'},errorCorrectionLevel:'M'});setQrCodeUrl(qrUrl);}catch(error){console.error('Error generating QR code:',error);}}}catch(error){console.error('Error fetching referral data:',error);toast.error('Failed to load referral data');}finally{setLoading(false);}};const copyToClipboard=(text,type)=>{navigator.clipboard.writeText(text);setCopySuccess(type);toast.success(\"\".concat(type==='code'?'Referral code':'Referral link',\" copied!\"));setTimeout(()=>setCopySuccess(''),2000);};const shareVia=platform=>{const link=(referralData===null||referralData===void 0?void 0:referralData.referral_link)||'';const text=\"Join CoinHub X and start trading crypto! Use my referral link: \".concat(link);const urls={whatsapp:\"https://wa.me/?text=\".concat(encodeURIComponent(text)),telegram:\"https://t.me/share/url?url=\".concat(encodeURIComponent(link),\"&text=\").concat(encodeURIComponent('Join CoinHub X with my referral')),twitter:\"https://twitter.com/intent/tweet?text=\".concat(encodeURIComponent(text)),facebook:\"https://www.facebook.com/sharer/sharer.php?u=\".concat(encodeURIComponent(link))};if(urls[platform]){window.open(urls[platform],'_blank');}};const calculateGoldenValue=()=>{var _window$referralAnaly;// Use REAL tier progress data from backend\nconst tierProgress=((_window$referralAnaly=window.referralAnalytics)===null||_window$referralAnaly===void 0?void 0:_window$referralAnaly.tier_progress)||{};return{goldenEarnings:tierProgress.golden_potential_earnings||stats.total_earned*2.5,difference:tierProgress.difference||stats.total_earned*1.5,breakEvenNeeded:tierProgress.break_even_needed||Math.max(0,150-stats.total_earned*1.5),progress_percentage:tierProgress.progress_percentage||0,is_worth_upgrading:tierProgress.is_worth_upgrading||false};};const getTierInfo=tier=>{if(!tier)return{name:'Standard',rate:'20%',color:'#00F0FF'};const tierLower=tier.toLowerCase();if(tierLower==='golden')return{name:'Golden',rate:'50%',color:'#FFD700'};return{name:'Standard',rate:'20%',color:'#00F0FF'};};const tierInfo=getTierInfo(referralData===null||referralData===void 0?void 0:referralData.tier);const{goldenEarnings,difference,breakEvenNeeded}=calculateGoldenValue();if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',border:'4px solid rgba(0, 240, 255, 0.1)',borderTop:'4px solid #00F0FF',borderRadius:'50%',animation:'spin 1s linear infinite',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#00F0FF',fontSize:'18px',fontWeight:'600'},children:\"Loading...\"})]})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes pulse {\\n            0%, 100% { opacity: 0.8; transform: scale(1); }\\n            50% { opacity: 1; transform: scale(1.05); }\\n          }\\n          @keyframes float {\\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\\n            33% { transform: translateY(-10px) rotate(1deg); }\\n            66% { transform: translateY(5px) rotate(-1deg); }\\n          }\\n          @keyframes scan {\\n            0% { top: 2rem; opacity: 0; }\\n            10% { opacity: 1; }\\n            90% { opacity: 1; }\\n            100% { top: calc(100% - 4rem); opacity: 0; }\\n          }\\n          @keyframes spin {\\n            from { transform: rotate(0deg); }\\n            to { transform: rotate(360deg); }\\n          }\\n        \"}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',padding:'1rem',paddingTop:'80px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'28px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'0.5rem'},children:\"Referral Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px'},children:\"Invite friends and earn commission on every transaction\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.1))',borderRadius:'16px',padding:'1.25rem',border:'1px solid rgba(0, 240, 255, 0.3)',marginBottom:'1rem',display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTrendingUpOutline,{size:18,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'11px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Total Earned\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'28px',fontWeight:'900',color:'#00F0FF'},children:[\"\\xA3\",stats.total_earned.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTimeOutline,{size:18,color:\"#A855F7\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'11px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"This Month\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'28px',fontWeight:'900',color:'#A855F7'},children:[\"\\xA3\",stats.this_month.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#666',fontSize:'10px',marginTop:'4px'},children:[\"From \",stats.completed,\" active referrals\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.25rem',border:\"2px solid \".concat(tierInfo.color),marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px',marginBottom:'4px',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Your Tier\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'900',color:tierInfo.color},children:tierInfo.name})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"\".concat(tierInfo.color,\"20\"),borderRadius:'50%',width:'50px',height:'50px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'24px'},children:tierInfo.name==='Golden'?'â­':'ðŸŽ¯'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',borderRadius:'12px',padding:'1rem',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px',marginBottom:'4px',textTransform:'uppercase'},children:\"Commission Rate\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'900',color:tierInfo.color},children:tierInfo.rate})]}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setShowInfoTooltip(!showInfoTooltip),style:{cursor:'pointer',color:'#00F0FF'},children:/*#__PURE__*/_jsx(IoInformationCircleOutline,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#aaa',fontSize:'12px',marginTop:'0.5rem',lineHeight:'1.4'},children:[\"You earn \",tierInfo.rate,\" of the trading fees your referrals generate, for life.\"]}),showInfoTooltip&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.75rem',padding:'0.75rem',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Example:\"}),\" If your referral pays \\xA310 in trading fees, you earn \\xA3\",tierInfo.name==='Golden'?'5.00':'2.00',\".\"]})]}),tierInfo.name!=='Golden'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'10px',color:'#888',marginBottom:'6px',textTransform:'uppercase',letterSpacing:'0.5px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Standard\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Golden\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'rgba(255, 215, 0, 0.2)',borderRadius:'4px',overflow:'hidden',position:'relative'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:'30%',background:'linear-gradient(90deg, #00F0FF, #FFD700)',borderRadius:'4px'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',color:'#aaa',marginTop:'6px',textAlign:'center'},children:\"Upgrade available anytime \\u2013 one-time \\xA3150\"})]})]}),tierInfo.name!=='Golden'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.1))',border:'2px solid rgba(255, 215, 0, 0.5)',borderRadius:'16px',padding:'1.25rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(IoTrophyOutline,{size:24,color:\"#FFD700\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'18px',fontWeight:'900',color:'#FFD700',margin:0},children:\"Upgrade to GOLDEN TIER\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#FFD700',fontSize:'14px',marginBottom:'1rem',fontWeight:'600'},children:\"Lifetime 50% commission\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255, 255, 255, 0.9)',fontSize:'13px',marginBottom:'1rem'},children:\"Pay once. Earn 2.5\\xD7 commission on every trade, forever.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.4)',borderRadius:'12px',padding:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',fontWeight:'900',color:'#FFD700',marginBottom:'0.5rem'},children:\"\\xA3150\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#aaa',marginBottom:'1rem'},children:\"One-time payment, no subscription\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#fff',lineHeight:'1.8'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'6px'},children:\"\\u2714 50% of all referral trading fees\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'6px'},children:\"\\u2714 Applies to all current + future referrals\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u2714 One-time payment, no subscription\"})]})]}),stats.total_earned>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 215, 0, 0.1)',border:'1px solid rgba(255, 215, 0, 0.3)',borderRadius:'8px',padding:'0.75rem',marginBottom:'1rem',fontSize:'12px',color:'#fff'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#FFD700'},children:\"Value Comparison:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"With your current referrals, Golden Tier would have earned you \\xA3\",goldenEarnings.toFixed(2),\" instead of \\xA3\",stats.total_earned.toFixed(2),\".\",breakEvenNeeded>0?/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'6px',color:'#aaa'},children:[\"You need only \\xA3\",breakEvenNeeded.toFixed(2),\" more commission to break even on the upgrade.\"]}):/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'6px',color:'#00FF88'},children:\"\\u2705 You've already earned enough to justify the upgrade!\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await axios.post(\"\".concat(API,\"/api/referrals/purchase-vip\"),{user_id:user.user_id});if(response.data.success){toast.success('ðŸŽ‰ Upgraded to GOLDEN TIER!');fetchReferralData();}else{toast.error(response.data.message||'Upgrade failed');}}catch(error){toast.error('Failed to upgrade');}},style:{width:'100%',padding:'14px',background:'linear-gradient(135deg, #FFD700, #FFA500)',border:'none',borderRadius:'12px',color:'#000',fontSize:'16px',fontWeight:'900',cursor:'pointer',boxShadow:'0 4px 20px rgba(255, 215, 0, 0.4)'},children:\"\\uD83C\\uDFC6 UPGRADE NOW\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0.75rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setShowUsersList(showUsersList==='active'?null:'active'),style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 240, 255, 0.05))',borderRadius:'12px',padding:'1rem',border:'1px solid rgba(0, 240, 255, 0.3)',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoPeopleOutline,{size:16,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'10px',fontWeight:'600',textTransform:'uppercase'},children:\"Active Referrals\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'900',color:'#00F0FF'},children:stats.completed})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setShowUsersList(showUsersList==='pending'?null:'pending'),style:{background:'linear-gradient(135deg, rgba(255, 165, 0, 0.1), rgba(255, 165, 0, 0.05))',borderRadius:'12px',padding:'1rem',border:'1px solid rgba(255, 165, 0, 0.3)',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTimeOutline,{size:16,color:\"#FFA500\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'10px',fontWeight:'600',textTransform:'uppercase'},children:\"Pending Sign-ups\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'900',color:'#FFA500'},children:stats.pending})]})]}),showUsersList&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.95)',borderRadius:'12px',padding:'1rem',marginBottom:'1rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'700',color:'#00F0FF',marginBottom:'0.75rem'},children:showUsersList==='active'?'Active Referrals':'Pending Sign-ups'}),(_window$referralAnaly2=>{const referralTree=((_window$referralAnaly2=window.referralAnalytics)===null||_window$referralAnaly2===void 0?void 0:_window$referralAnaly2.referral_tree)||{};const referrals=referralTree.referrals||[];const filteredReferrals=showUsersList==='active'?referrals.filter(r=>r.status==='active'):referrals.filter(r=>r.status==='pending');if(filteredReferrals.length===0){return/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px',textAlign:'center',padding:'1rem'},children:[\"No \",showUsersList,\" referrals yet. Start sharing your link!\"]});}return filteredReferrals.slice(0,10).map((referral,idx)=>{var _referral$total_earne;return/*#__PURE__*/_jsx(\"div\",{style:{padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px',marginBottom:'0.5rem',fontSize:'12px',color:'#fff'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:referral.username||\"User \".concat(idx+1)}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px'},children:referral.email_masked}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px'},children:referral.last_activity?\"Last: \".concat(new Date(referral.last_activity).toLocaleDateString()):'Joined: '+new Date(referral.joined_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'700'},children:[\"\\xA3\",((_referral$total_earne=referral.total_earned_from_user)===null||_referral$total_earne===void 0?void 0:_referral$total_earne.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'10px'},children:[referral.transaction_count||0,\" txns\"]})]})]})},idx);});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.08), rgba(168, 85, 247, 0.08))',borderRadius:'20px',padding:'2rem',border:'2px solid rgba(0, 240, 255, 0.3)',marginBottom:'1rem',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'radial-gradient(circle at 20% 80%, rgba(0,240,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(168,85,247,0.1) 0%, transparent 50%)',animation:'float 6s ease-in-out infinite',pointerEvents:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',zIndex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',borderRadius:'50%',background:'linear-gradient(135deg, #00F0FF, #A855F7)',display:'flex',alignItems:'center',justifyContent:'center',boxShadow:'0 0 40px rgba(0,240,255,0.6)',animation:'pulse 2s ease-in-out infinite'},children:/*#__PURE__*/_jsx(IoQrCodeOutline,{size:32,style:{color:'#000'}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'28px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',margin:0,textShadow:'0 0 30px rgba(0,240,255,0.3)'},children:\"Share & Earn\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#A3AEC2',fontSize:'16px',margin:0,fontWeight:'600'},children:\"Scan to join \\u2022 Lifetime commission\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'300px 1fr',gap:'2rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0,0,0,0.6)',borderRadius:'20px',padding:'2rem',border:'3px solid transparent',backgroundImage:'linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), linear-gradient(135deg, #00F0FF, #A855F7)',backgroundOrigin:'border-box',backgroundClip:'content-box, border-box',position:'relative',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'2rem',left:'2rem',right:'2rem',height:'2px',background:'linear-gradient(90deg, transparent, #00F0FF, transparent)',animation:'scan 3s ease-in-out infinite',zIndex:2}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'900',color:'#00F0FF',marginBottom:'1rem',textTransform:'uppercase',letterSpacing:'2px',textShadow:'0 0 20px rgba(0,240,255,0.5)'},children:\"SCAN TO JOIN\"}),qrCodeUrl?/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:qrCodeUrl,alt:\"Referral QR Code\",style:{width:'200px',height:'200px',borderRadius:'12px',border:'2px solid rgba(0,240,255,0.3)',boxShadow:'0 0 30px rgba(0,240,255,0.3)',background:'#0a0b1a'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-5px',left:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderRight:'none',borderBottom:'none',borderRadius:'8px 0 0 0'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-5px',right:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderLeft:'none',borderBottom:'none',borderRadius:'0 8px 0 0'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'-5px',left:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderRight:'none',borderTop:'none',borderRadius:'0 0 0 8px'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'-5px',right:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderLeft:'none',borderTop:'none',borderRadius:'0 0 8px 0'}})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:'200px',height:'200px',borderRadius:'12px',border:'2px dashed rgba(0,240,255,0.3)',display:'flex',alignItems:'center',justifyContent:'center',color:'#00F0FF',fontSize:'14px',fontWeight:'600'},children:\"Generating QR...\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#A855F7',marginTop:'1rem',fontWeight:'700',textShadow:'0 0 15px rgba(168,85,247,0.5)'},children:\"Point camera here\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'900',color:'#FFFFFF',marginBottom:'1rem',textTransform:'uppercase',letterSpacing:'1px'},children:\"Share on Social Media\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(5, 1fr)',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('whatsapp'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #25D366, #128C7E)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',boxShadow:'0 8px 32px rgba(37,211,102,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsx(IoLogoWhatsapp,{size:28})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('telegram'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #0088cc, #005577)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',fontSize:'24px',fontWeight:'700',boxShadow:'0 8px 32px rgba(0,136,204,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:\"\\u2708\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('twitter'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #1DA1F2, #0d8bd9)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',boxShadow:'0 8px 32px rgba(29,161,242,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsx(IoLogoTwitter,{size:28})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('facebook'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #1877F2, #166fe5)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',boxShadow:'0 8px 32px rgba(24,119,242,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsx(IoLogoFacebook,{size:28})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.referral_link,'link'),style:{width:'60px',height:'60px',borderRadius:'16px',background:copySuccess==='link'?'linear-gradient(135deg, #00FF88, #00cc6a)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#000',boxShadow:copySuccess==='link'?'0 8px 32px rgba(0,255,136,0.4)':'0 8px 32px rgba(0,240,255,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:copySuccess==='link'?/*#__PURE__*/_jsx(IoCheckmarkCircleOutline,{size:28}):/*#__PURE__*/_jsx(IoCopyOutline,{size:28})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#A3AEC2',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'1px',fontWeight:'700'},children:\"Your Referral Code\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',background:'rgba(0,0,0,0.4)',padding:'1rem',borderRadius:'12px',border:'2px solid rgba(0,240,255,0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,fontSize:'20px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #FFFFFF)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',textShadow:'0 0 20px rgba(0,240,255,0.5)'},children:(referralData===null||referralData===void 0?void 0:referralData.referral_code)||'Loading...'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.referral_code,'code'),style:{padding:'12px 20px',background:copySuccess==='code'?'linear-gradient(135deg, #00FF88, #00cc6a)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'8px',color:'#000',cursor:'pointer',fontSize:'14px',fontWeight:'900',textTransform:'uppercase',letterSpacing:'0.5px',boxShadow:'0 4px 16px rgba(0,240,255,0.3)'},children:copySuccess==='code'?'âœ“ COPIED':'COPY'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#A3AEC2',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'1px',fontWeight:'700'},children:\"Your Referral Link\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',background:'rgba(0,0,0,0.4)',padding:'1rem',borderRadius:'12px',border:'2px solid rgba(168,85,247,0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,color:'#A855F7',fontSize:'14px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',fontWeight:'600'},children:(referralData===null||referralData===void 0?void 0:referralData.referral_link)||'Loading...'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.referral_link,'link'),style:{padding:'12px 20px',background:copySuccess==='link'?'linear-gradient(135deg, #00FF88, #00cc6a)':'linear-gradient(135deg, #A855F7, #00F0FF)',border:'none',borderRadius:'8px',color:'#000',cursor:'pointer',fontSize:'14px',fontWeight:'900',textTransform:'uppercase',letterSpacing:'0.5px',boxShadow:'0 4px 16px rgba(168,85,247,0.3)'},children:copySuccess==='link'?'âœ“ COPIED':'COPY'})]})]})]})]})]})]}),commissions.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.25rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'700',color:'#00F0FF',marginBottom:'1rem'},children:\"Recent Activity\"}),commissions.slice(0,10).map((activity,idx)=>{var _activity$amount;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px',marginBottom:'0.5rem',fontSize:'12px',border:'1px solid rgba(0, 240, 255, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'600',marginBottom:'4px'},children:activity.transaction_type||'Transaction'}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'11px'},children:[activity.referred_user||'User',\" \\u2022 \",(()=>{try{const date=new Date(activity.date);if(isNaN(date.getTime())){return'Recent';}return date.toLocaleDateString('en-GB',{day:'2-digit',month:'short',hour:'2-digit',minute:'2-digit'});}catch(e){return'Recent';}})()]}),/*#__PURE__*/_jsx(\"div\",{style:{color:activity.status==='completed'?'#00FF88':'#FFA500',fontSize:'10px',marginTop:'4px',textTransform:'uppercase',fontWeight:'600'},children:activity.status||'completed'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'900',fontSize:'16px',textAlign:'right'},children:[\"+\\xA3\",((_activity$amount=activity.amount)===null||_activity$amount===void 0?void 0:_activity$amount.toFixed(2))||'0.00']})]},idx);}),commissions.length>10&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'1rem',color:'#888',fontSize:'12px'},children:[\"Showing 10 of \",commissions.length,\" transactions\"]})]})]})})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}