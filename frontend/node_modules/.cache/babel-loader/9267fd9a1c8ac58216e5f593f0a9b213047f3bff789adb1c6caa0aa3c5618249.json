{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Layout from'../components/Layout';import{IoTrendingUp,IoSwapHorizontal,IoWarning,IoTime,IoTrophy}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;function AdminP2PDashboard(){var _stats$total_volume,_stats$dispute_rate,_stats$maker_fees,_stats$taker_fees,_stats$dispute_fees;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[timeframe,setTimeframe]=useState('week');useEffect(()=>{fetchStats();},[timeframe]);const fetchStats=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/admin/p2p/stats?timeframe=\").concat(timeframe));if(response.data.success){setStats(response.data.stats);}}catch(error){console.error('Error fetching P2P stats:',error);}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',padding:'40px',textAlign:'center'},children:\"Loading...\"})});if(!stats)return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',padding:'40px',textAlign:'center'},children:\"No data\"})});return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',background:'linear-gradient(180deg, #05121F 0%, #071E2C 100%)',minHeight:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'700',color:'#00C6FF',marginBottom:'8px'},children:\"\\uD83D\\uDCB1 P2P Admin Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#8F9BB3'},children:\"Monitor P2P marketplace performance and metrics\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'12px',marginBottom:'2rem'},children:['day','week','month','all'].map(t=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTimeframe(t),style:{padding:'12px 24px',background:timeframe===t?'linear-gradient(135deg, #00C6FF, #0096CC)':'rgba(143, 155, 179, 0.1)',border:timeframe===t?'none':'1px solid rgba(143, 155, 179, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontWeight:timeframe===t?'700':'400',cursor:'pointer',textTransform:'capitalize'},children:t==='all'?'All Time':\"This \".concat(t.charAt(0).toUpperCase()+t.slice(1))},t))}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(0, 198, 255, 0.3)',borderRadius:'12px',padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(IoTrendingUp,{size:24,color:\"#00C6FF\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#8F9BB3'},children:\"Total Volume\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'32px',fontWeight:'700',color:'#00C6FF'},children:[\"\\xA3\",((_stats$total_volume=stats.total_volume)===null||_stats$total_volume===void 0?void 0:_stats$total_volume.toLocaleString())||'0']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(34, 197, 94, 0.3)',borderRadius:'12px',padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(IoSwapHorizontal,{size:24,color:\"#22C55E\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#8F9BB3'},children:\"Total Trades\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'700',color:'#22C55E'},children:stats.total_trades||0}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginTop:'8px'},children:[stats.completed_trades||0,\" completed \\xB7 \",stats.cancelled_trades||0,\" cancelled\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(255, 165, 0, 0.3)',borderRadius:'12px',padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(IoWarning,{size:24,color:\"#FFA500\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#8F9BB3'},children:\"Dispute Rate\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'32px',fontWeight:'700',color:'#FFA500'},children:[((_stats$dispute_rate=stats.dispute_rate)===null||_stats$dispute_rate===void 0?void 0:_stats$dispute_rate.toFixed(1))||'0',\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginTop:'8px'},children:[stats.disputed_trades||0,\" disputes\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(168, 85, 247, 0.3)',borderRadius:'12px',padding:'24px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(IoTime,{size:24,color:\"#A855F7\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#8F9BB3'},children:\"Avg Completion Time\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'32px',fontWeight:'700',color:'#A855F7'},children:[stats.avg_completion_time||'0',\" min\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(0, 198, 255, 0.2)',borderRadius:'12px',padding:'24px',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'20px',fontWeight:'700',color:'#FFFFFF',marginBottom:'20px'},children:\"Volume by Crypto\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:stats.volume_by_crypto&&Object.entries(stats.volume_by_crypto).map(_ref=>{let[crypto,volume]=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'12px',background:'rgba(0, 198, 255, 0.05)',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#FFFFFF',fontWeight:'600'},children:crypto}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00C6FF',fontWeight:'700'},children:[\"\\xA3\",volume.toLocaleString()]})]},crypto);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(255, 215, 0, 0.3)',borderRadius:'12px',padding:'24px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'20px',fontWeight:'700',color:'#FFFFFF',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(IoTrophy,{size:24,color:\"#FFD700\",style:{marginRight:'8px'}}),\"Top Merchants\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px'},children:stats.top_merchants&&stats.top_merchants.map((merchant,idx)=>{var _merchant$rating,_merchant$completion_,_merchant$total_volum;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'16px',background:idx===0?'rgba(255, 215, 0, 0.1)':'rgba(0, 198, 255, 0.05)',border:idx===0?'1px solid rgba(255, 215, 0, 0.3)':'none',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#FFFFFF',fontWeight:'700'},children:[\"#\",idx+1,\" \",merchant.username]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginTop:'4px'},children:[merchant.total_trades,\" trades \\xB7 \",(_merchant$rating=merchant.rating)===null||_merchant$rating===void 0?void 0:_merchant$rating.toFixed(1),\"\\u2B50 \\xB7 \",(_merchant$completion_=merchant.completion_rate)===null||_merchant$completion_===void 0?void 0:_merchant$completion_.toFixed(0),\"% completion\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00C6FF',fontWeight:'700'},children:[\"\\xA3\",(_merchant$total_volum=merchant.total_volume)===null||_merchant$total_volum===void 0?void 0:_merchant$total_volum.toLocaleString()]})]},merchant.user_id);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #0A1929 0%, #051018 100%)',border:'1px solid rgba(34, 197, 94, 0.3)',borderRadius:'12px',padding:'24px',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'20px',fontWeight:'700',color:'#FFFFFF',marginBottom:'20px'},children:\"\\uD83D\\uDCB0 P2P Fee Revenue\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginBottom:'4px'},children:\"Maker Fees\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'700',color:'#22C55E'},children:[\"\\xA3\",((_stats$maker_fees=stats.maker_fees)===null||_stats$maker_fees===void 0?void 0:_stats$maker_fees.toLocaleString())||'0']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginBottom:'4px'},children:\"Taker Fees\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'700',color:'#22C55E'},children:[\"\\xA3\",((_stats$taker_fees=stats.taker_fees)===null||_stats$taker_fees===void 0?void 0:_stats$taker_fees.toLocaleString())||'0']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginBottom:'4px'},children:\"Dispute Fees\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'700',color:'#FFA500'},children:[\"\\xA3\",((_stats$dispute_fees=stats.dispute_fees)===null||_stats$dispute_fees===void 0?void 0:_stats$dispute_fees.toLocaleString())||'0']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginBottom:'4px'},children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'700',color:'#00C6FF'},children:[\"\\xA3\",((stats.maker_fees||0)+(stats.taker_fees||0)+(stats.dispute_fees||0)).toLocaleString()]})]})]})]})]})});}export default AdminP2PDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}