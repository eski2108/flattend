{"ast":null,"code":"import React,{useState}from'react';import{useCurrency}from'@/contexts/CurrencyContext';import{Check,Globe,IoCheckmark,IoGlobe,IoSearch,Search}from'react-icons/io5';import{Card}from'@/components/ui/card';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CurrencySelector(){const{currency,currencies,updateCurrency,loading}=useCurrency();const[isOpen,setIsOpen]=useState(false);const[searchTerm,setSearchTerm]=useState('');const handleCurrencyChange=async newCurrency=>{try{await updateCurrency(newCurrency);toast.success(\"Currency changed to \".concat(newCurrency));setIsOpen(false);}catch(error){toast.error('Failed to update currency');}};const filteredCurrencies=currencies.filter(curr=>curr.name.toLowerCase().includes(searchTerm.toLowerCase())||curr.code.toLowerCase().includes(searchTerm.toLowerCase()));if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading currencies...\"});}const currentCurrencyInfo=currencies.find(c=>c.code===currency);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(!isOpen),style:{width:'100%',display:'flex',alignItems:'center',justifyContent:'space-between',padding:'1rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',cursor:'pointer',transition:'all 0.3s'},onMouseEnter:e=>{e.currentTarget.style.borderColor='#00F0FF';e.currentTarget.style.background='rgba(0, 240, 255, 0.1)';},onMouseLeave:e=>{e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.3)';e.currentTarget.style.background='rgba(0, 0, 0, 0.3)';},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(IoGlobe,{size:24,color:\"#00F0FF\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)',marginBottom:'0.25rem'},children:\"Display Currency\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'18px',fontWeight:'600',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'24px'},children:currentCurrencyInfo===null||currentCurrencyInfo===void 0?void 0:currentCurrencyInfo.flag}),/*#__PURE__*/_jsxs(\"span\",{children:[currentCurrencyInfo===null||currentCurrencyInfo===void 0?void 0:currentCurrencyInfo.code,\" - \",currentCurrencyInfo===null||currentCurrencyInfo===void 0?void 0:currentCurrencyInfo.name]})]})]})]}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'20px',transform:isOpen?'rotate(180deg)':'rotate(0)',transition:'transform 0.3s'},children:\"\\u25BC\"})]}),isOpen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>setIsOpen(false),style:{position:'fixed',top:0,left:0,right:0,bottom:0,zIndex:999}}),/*#__PURE__*/_jsxs(Card,{style:{position:'absolute',top:'100%',left:0,right:0,marginTop:'0.5rem',background:'rgba(15, 15, 24, 0.98)',border:'2px solid #00F0FF',borderRadius:'12px',maxHeight:'400px',overflow:'hidden',zIndex:1000,boxShadow:'0 10px 40px rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',borderBottom:'1px solid rgba(0, 240, 255, 0.2)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(IoSearch,{size:20,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search currency...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),style:{flex:1,background:'transparent',border:'none',color:'#fff',fontSize:'14px',outline:'none'},autoFocus:true})]})}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'320px',overflowY:'auto',padding:'0.5rem'},children:filteredCurrencies.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem',textAlign:'center',color:'rgba(255, 255, 255, 0.5)',fontSize:'14px'},children:\"No currencies found\"}):filteredCurrencies.map(curr=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleCurrencyChange(curr.code),style:{width:'100%',display:'flex',alignItems:'center',justifyContent:'space-between',padding:'0.75rem 1rem',background:curr.code===currency?'rgba(0, 240, 255, 0.1)':'transparent',border:'none',borderRadius:'8px',color:'#fff',cursor:'pointer',transition:'all 0.2s',marginBottom:'0.25rem'},onMouseEnter:e=>{if(curr.code!==currency){e.currentTarget.style.background='rgba(0, 240, 255, 0.05)';}},onMouseLeave:e=>{if(curr.code!==currency){e.currentTarget.style.background='transparent';}},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'28px'},children:curr.flag}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'0.125rem'},children:curr.code}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.6)'},children:curr.name})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px',fontWeight:'700',color:'#00F0FF'},children:curr.symbol}),curr.code===currency&&/*#__PURE__*/_jsx(IoCheckmark,{size:20,color:\"#00F0FF\"})]})]},curr.code))})]})]})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}