{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate,useSearchParams}from'react-router-dom';import axios from'axios';import{toast}from'sonner';import{IoCheckmark as Check,IoCheckmarkCircle,IoEye,IoEyeOff,IoLockClosed}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=BACKEND_URL;export default function ResetPassword(){const navigate=useNavigate();const[searchParams]=useSearchParams();const[newPassword,setNewPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[loading,setLoading]=useState(false);const[success,setSuccess]=useState(false);const resetToken=searchParams.get('token');useEffect(()=>{if(!resetToken){toast.error('Invalid reset link');navigate('/login');}},[resetToken,navigate]);const handleSubmit=async e=>{e.preventDefault();if(newPassword.length<6){toast.error('Password must be at least 6 characters');return;}if(newPassword!==confirmPassword){toast.error('Passwords do not match');return;}setLoading(true);try{const response=await axios.post(\"\".concat(API,\"/api/auth/reset-password\"),{reset_token:resetToken,new_password:newPassword});if(response.data.success){setSuccess(true);toast.success('Password reset successfully!');setTimeout(()=>{navigate('/login');},2000);}}catch(error){var _error$response,_error$response$data;console.error('Reset password error:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to reset password');}finally{setLoading(false);}};if(success){return/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:/*#__PURE__*/_jsx(\"div\",{style:styles.formCard,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.successContainer,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.successIcon,children:/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:60,style:{color:'#10B981'}})}),/*#__PURE__*/_jsx(\"h1\",{style:styles.successTitle,children:\"Password Reset Complete!\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.successText,children:\"Your password has been successfully reset. Redirecting to login...\"})]})})});}return/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.formCard,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.header,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.iconWrapper,children:/*#__PURE__*/_jsx(IoLockClosed,{size:40,style:{color:'#00D9FF'}})}),/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.subtitle,children:\"Enter your new password below\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.form,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputWrapper,children:[/*#__PURE__*/_jsx(IoLockClosed,{size:20,style:styles.inputIcon}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:newPassword,onChange:e=>setNewPassword(e.target.value),placeholder:\"Enter new password\",style:styles.input,required:true,disabled:loading}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),style:styles.eyeButton,children:showPassword?/*#__PURE__*/_jsx(IoEyeOff,{size:20}):/*#__PURE__*/_jsx(IoEye,{size:20})})]}),/*#__PURE__*/_jsx(\"span\",{style:styles.hint,children:\"Minimum 6 characters\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Confirm Password\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputWrapper,children:[/*#__PURE__*/_jsx(IoLockClosed,{size:20,style:styles.inputIcon}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),placeholder:\"Confirm new password\",style:styles.input,required:true,disabled:loading})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:_objectSpread(_objectSpread({},styles.submitButton),{},{opacity:loading?0.7:1,cursor:loading?'not-allowed':'pointer'}),disabled:loading,children:loading?'Resetting...':'Reset Password'})]})]})});}const styles={container:{minHeight:'100vh',background:'linear-gradient(135deg, #0A0E27 0%, #1A1F3A 100%)',display:'flex',alignItems:'center',justifyContent:'center',padding:'20px'},formCard:{background:'linear-gradient(135deg, #1A1F3A 0%, #0F1629 100%)',borderRadius:'20px',padding:'40px',maxWidth:'480px',width:'100%',boxShadow:'0 20px 60px rgba(0, 217, 255, 0.15)',border:'1px solid rgba(0, 217, 255, 0.2)'},header:{textAlign:'center',marginBottom:'40px'},iconWrapper:{width:'80px',height:'80px',background:'linear-gradient(135deg, #00D9FF20, #A855F720)',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 20px',border:'2px solid #00D9FF40'},title:{fontSize:'32px',fontWeight:'700',color:'#fff',marginBottom:'10px'},subtitle:{color:'#8B9DC3',fontSize:'16px'},form:{display:'flex',flexDirection:'column',gap:'24px'},formGroup:{display:'flex',flexDirection:'column',gap:'8px'},label:{color:'#8B9DC3',fontSize:'14px',fontWeight:'600'},inputWrapper:{position:'relative',display:'flex',alignItems:'center'},inputIcon:{position:'absolute',left:'15px',color:'#00D9FF',pointerEvents:'none'},input:{width:'100%',padding:'15px 50px 15px 45px',background:'#0A0E27',border:'2px solid #00D9FF40',borderRadius:'12px',color:'#fff',fontSize:'16px',outline:'none',transition:'all 0.3s ease'},eyeButton:{position:'absolute',right:'15px',background:'none',border:'none',color:'#8B9DC3',cursor:'pointer',padding:'5px',display:'flex',alignItems:'center'},hint:{color:'#8B9DC3',fontSize:'12px'},submitButton:{background:'linear-gradient(135deg, #00D9FF, #A855F7)',color:'#fff',border:'none',borderRadius:'12px',padding:'16px',fontSize:'16px',fontWeight:'700',transition:'all 0.3s ease',marginTop:'10px'},successContainer:{textAlign:'center',padding:'20px'},successIcon:{marginBottom:'20px'},successTitle:{fontSize:'28px',fontWeight:'700',color:'#fff',marginBottom:'15px'},successText:{color:'#8B9DC3',fontSize:'16px',lineHeight:'1.6'}};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}