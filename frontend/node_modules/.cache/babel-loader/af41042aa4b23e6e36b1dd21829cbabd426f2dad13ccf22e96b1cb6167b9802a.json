{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'react-hot-toast';import Layout from'@/components/Layout';import BoostOfferModal from'@/components/BoostOfferModal';import{IoAdd as Plus,IoDocument as FileText,IoFilter,IoFlash,IoSave as Save,IoSearch,IoShield,IoStar,IoTime,IoTrendingDown as TrendingDown,IoTrendingUp as TrendingUp}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;// Seller Link Copy Button Component\nfunction SellerLinkCopyButton(){const[sellerLink,setSellerLink]=useState('');const[loading,setLoading]=useState(false);const[copied,setCopied]=useState(false);useEffect(()=>{fetchSellerLink();},[]);const fetchSellerLink=async()=>{try{setLoading(true);const userStr=localStorage.getItem('user');if(!userStr)return;const user=JSON.parse(userStr);const response=await axios.get(\"\".concat(API,\"/api/user/seller-link?user_id=\").concat(user.user_id));if(response.data.success){setSellerLink(response.data.seller_link);}}catch(error){console.error('Failed to fetch seller link:',error);}finally{setLoading(false);}};const copyToClipboard=()=>{navigator.clipboard.writeText(sellerLink).then(()=>{setCopied(true);toast.success('Seller link copied to clipboard!');setTimeout(()=>setCopied(false),3000);}).catch(err=>{toast.error('Failed to copy link');});};if(!sellerLink||loading)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.1))',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',padding:'1.25rem',marginBottom:'1.5rem',display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoShield,{size:24,color:\"#00F0FF\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,color:'#00F0FF',fontSize:'16px',fontWeight:'700'},children:\"Your Unique Seller Link\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.25rem 0 0',color:'#888',fontSize:'13px'},children:\"Share this link to let buyers view your profile and active offers directly\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:sellerLink,readOnly:true,style:{flex:1,padding:'0.75rem 1rem',background:'rgba(0, 0, 0, 0.5)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'8px',color:'#E2E8F0',fontSize:'14px',fontFamily:'monospace'}}),/*#__PURE__*/_jsx(\"button\",{onClick:copyToClipboard,style:{padding:'0.75rem 1.5rem',background:copied?'rgba(34, 197, 94, 0.2)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:copied?'1px solid #22C55E':'none',borderRadius:'8px',color:copied?'#22C55E':'#000',fontWeight:'700',fontSize:'14px',cursor:'pointer',whiteSpace:'nowrap',transition:'all 0.2s'},children:copied?'âœ“ Copied!':'Copy Link'})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#666',fontSize:'12px',fontStyle:'italic'},children:\"\\uD83D\\uDCA1 Tip: Share this on social media, forums, or with friends to get more buyers directly to your offers!\"})]});}function P2PTrading(){var _cryptoPrices$selecte;const navigate=useNavigate();const[activeTab,setActiveTab]=useState('buy');// buy, sell, create, my-orders, my-offers\nconst[selectedCrypto,setSelectedCrypto]=useState('BTC');const[cryptoPrices,setCryptoPrices]=useState({BTC:47500,ETH:2500,USDT:0.79,BNB:380,SOL:120,LTC:85});const[currentUser,setCurrentUser]=useState(null);const[loading,setLoading]=useState(true);const[showBoostModal,setShowBoostModal]=useState(false);const[offerToBoost,setOfferToBoost]=useState(null);// Crypto options with symbols\nconst cryptoOptions=[{symbol:'BTC',name:'Bitcoin',icon:'â‚¿'},{symbol:'ETH',name:'Ethereum',icon:'Îž'},{symbol:'USDT',name:'Tether',icon:'â‚®'},{symbol:'BNB',name:'Binance Coin',icon:'ðŸ”¶'},{symbol:'SOL',name:'Solana',icon:'â—Ž'},{symbol:'LTC',name:'Litecoin',icon:'Å'}];useEffect(()=>{// TEMPORARILY BYPASS AUTH FOR SCREENSHOT\nsetCurrentUser({user_id:'demo',email:'demo@test.com'});setLoading(false);// const checkAuth = () => {\n//   try {\n//     const userStr = localStorage.getItem('user');\n//     const token = localStorage.getItem('token');\n//     \n//     if (!userStr || userStr === 'null' || userStr === '{}') {\n//       navigate('/login');\n//       return;\n//     }\n//     \n//     const user = JSON.parse(userStr);\n//     \n//     if (!user.user_id) {\n//       navigate('/login');\n//       return;\n//     }\n//     \n//     setCurrentUser(user);\n//     setLoading(false);\n//   } catch (error) {\n//     navigate('/login');\n//   }\n// };\n// \n// checkAuth();\n},[navigate]);// Fetch live prices (placeholder - integrate with real API)\nuseEffect(()=>{const fetchPrices=async()=>{// TODO: Integrate with real price API (CoinGecko, Binance, etc.)\n// For now using static prices\n};fetchPrices();const interval=setInterval(fetchPrices,30000);// Update every 30s\nreturn()=>clearInterval(interval);},[]);if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'80vh',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{color:'#00F0FF',fontSize:'1.5rem'},children:\"Loading...\"})})});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1400px',margin:'0 auto',padding:'2rem 1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.1))',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'1.5rem',marginBottom:'2rem',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'900',color:'#00F0FF',marginBottom:0,textTransform:'uppercase',letterSpacing:'0.05em'},children:\"P2P MARKETPLACE\"}),activeTab==='my-offers'&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{// Open boost modal - user will select which offer to boost\ntoast.info('Select an offer below to boost');},style:{padding:'0.875rem 1.5rem',background:'linear-gradient(135deg, #F59E0B, #D97706)',border:'none',borderRadius:'12px',color:'#fff',fontSize:'0.9375rem',fontWeight:'700',cursor:'pointer',boxShadow:'0 4px 20px rgba(245, 158, 11, 0.4)',display:'flex',alignItems:'center',gap:'0.5rem',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';e.currentTarget.style.boxShadow='0 6px 30px rgba(245, 158, 11, 0.6)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';e.currentTarget.style.boxShadow='0 4px 20px rgba(245, 158, 11, 0.4)';},children:[/*#__PURE__*/_jsx(IoFlash,{size:20}),\"Boost My Offer\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'1rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'1rem',flexWrap:'wrap',marginBottom:'1rem'},children:cryptoOptions.map(crypto=>{var _cryptoPrices$crypto$;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCrypto(crypto.symbol),style:{padding:'0.75rem 1.5rem',background:selectedCrypto===crypto.symbol?'linear-gradient(135deg, #00F0FF, #00B8E6)':'rgba(26, 31, 58, 0.8)',border:selectedCrypto===crypto.symbol?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:selectedCrypto===crypto.symbol?'#0a1628':'#fff',fontSize:'1rem',fontWeight:'700',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',transition:'all 0.3s ease',boxShadow:selectedCrypto===crypto.symbol?'0 4px 12px rgba(0, 240, 255, 0.4)':'none'},onMouseEnter:e=>{if(selectedCrypto!==crypto.symbol){e.currentTarget.style.transform='scale(1.05)';e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.6)';}},onMouseLeave:e=>{if(selectedCrypto!==crypto.symbol){e.currentTarget.style.transform='scale(1)';e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.3)';}},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.25rem'},children:crypto.icon}),/*#__PURE__*/_jsx(\"span\",{children:crypto.symbol}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem',opacity:0.7,marginLeft:'0.25rem'},children:[\"\\xA3\",(_cryptoPrices$crypto$=cryptoPrices[crypto.symbol])===null||_cryptoPrices$crypto$===void 0?void 0:_cryptoPrices$crypto$.toLocaleString()]})]},crypto.symbol);})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',fontSize:'1.25rem',fontWeight:'700'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255,255,255,0.6)'},children:\"Live Price:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#22C55E'},children:[\"\\xA3\",(_cryptoPrices$selecte=cryptoPrices[selectedCrypto])===null||_cryptoPrices$selecte===void 0?void 0:_cryptoPrices$selecte.toLocaleString(),\" GBP\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'1rem',marginBottom:'2rem',borderBottom:'2px solid rgba(0, 240, 255, 0.2)',paddingBottom:'0',overflowX:'auto'},children:[{id:'buy',label:'Buy',icon:TrendingUp},{id:'sell',label:'Sell',icon:TrendingDown},{id:'create',label:'Create Offer',icon:Plus},{id:'my-orders',label:'My Orders',icon:List},{id:'my-offers',label:'My Offers',icon:FileText}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),style:{padding:'1rem 2rem',background:'transparent',border:'none',borderBottom:activeTab===tab.id?'3px solid #00F0FF':'3px solid transparent',color:activeTab===tab.id?'#00F0FF':'rgba(255,255,255,0.6)',fontSize:'1rem',fontWeight:'700',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',transition:'all 0.3s ease',whiteSpace:'nowrap'},onMouseEnter:e=>{if(activeTab!==tab.id){e.currentTarget.style.color='#00F0FF';}},onMouseLeave:e=>{if(activeTab!==tab.id){e.currentTarget.style.color='rgba(255,255,255,0.6)';}},children:[/*#__PURE__*/_jsx(tab.icon,{size:20}),tab.label]},tab.id))}),/*#__PURE__*/_jsxs(\"div\",{children:[activeTab==='buy'&&/*#__PURE__*/_jsx(BuySection,{crypto:selectedCrypto,price:cryptoPrices[selectedCrypto]}),activeTab==='sell'&&/*#__PURE__*/_jsx(SellSection,{crypto:selectedCrypto,price:cryptoPrices[selectedCrypto]}),activeTab==='create'&&/*#__PURE__*/_jsx(CreateOfferSection,{crypto:selectedCrypto,price:cryptoPrices[selectedCrypto]}),activeTab==='my-orders'&&/*#__PURE__*/_jsx(MyOrdersSection,{}),activeTab==='my-offers'&&/*#__PURE__*/_jsx(MyOffersSection,{})]})]})});}// Buy Section Component - Shows list of sellers\nfunction BuySection(_ref){let{crypto,price}=_ref;const navigate=useNavigate();const[offers,setOffers]=useState([]);const[loading,setLoading]=useState(true);const[showFilters,setShowFilters]=useState(false);const[lastUpdated,setLastUpdated]=useState(new Date());const[filters,setFilters]=useState({paymentMethod:'',fastPaymentOnly:false,minPrice:'',maxPrice:'',minAmount:'',maxAmount:'',searchSeller:'',sortBy:'best_price'});useEffect(()=>{fetchOffers();// Auto-refresh every 30 seconds\nconst interval=setInterval(()=>{fetchOffers();},30000);return()=>clearInterval(interval);},[crypto,filters]);const fetchOffers=async()=>{setLoading(true);try{// Build query parameters\nconst params=new URLSearchParams({crypto_asset:crypto,fiat_currency:'GBP',sort_by:filters.sortBy});if(filters.paymentMethod)params.append('payment_method',filters.paymentMethod);if(filters.fastPaymentOnly)params.append('fast_payment_only','true');if(filters.minPrice)params.append('min_price',filters.minPrice);if(filters.maxPrice)params.append('max_price',filters.maxPrice);if(filters.minAmount)params.append('min_amount',filters.minAmount);if(filters.maxAmount)params.append('max_amount',filters.maxAmount);if(filters.searchSeller)params.append('search_seller',filters.searchSeller);const response=await axios.get(\"\".concat(API,\"/api/sell-offers/marketplace?\").concat(params.toString()));if(response.data.success){setOffers(response.data.offers||[]);setLastUpdated(new Date());}}catch(error){console.error('Error fetching offers:',error);toast.error('Failed to load offers');}finally{setLoading(false);}};const clearFilters=()=>{setFilters({paymentMethod:'',fastPaymentOnly:false,minPrice:'',maxPrice:'',minAmount:'',maxAmount:'',searchSeller:'',sortBy:'best_price'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)'},children:\"Loading offers...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',marginBottom:'1.5rem',flexWrap:'wrap',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:'1',minWidth:'250px',maxWidth:'400px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(IoSearch,{size:18,style:{position:'absolute',left:'12px',top:'50%',transform:'translateY(-50%)',color:'rgba(255,255,255,0.5)'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search seller...\",value:filters.searchSeller,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{searchSeller:e.target.value})),style:{width:'100%',padding:'0.65rem 1rem 0.65rem 2.5rem',background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'0.875rem',outline:'none'}})]})}),/*#__PURE__*/_jsxs(\"select\",{value:filters.sortBy,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{sortBy:e.target.value})),style:{padding:'0.65rem 1rem',background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'0.875rem',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"best_price\",children:\"Best Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fast_payment_first\",children:\"Fast Payment First\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Highest Rating\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),style:{padding:'0.65rem 1.25rem',background:showFilters?'linear-gradient(135deg, #00F0FF, #A855F7)':'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'0.875rem',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontWeight:'600'},children:[/*#__PURE__*/_jsx(IoFilter,{size:18}),\"Filters\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.5)',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#22C55E',fontSize:'0.8rem'},children:\"\\u25CF\"}),\"Last updated: \",lastUpdated.toLocaleTimeString()]})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',padding:'1.5rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem',fontWeight:'600'},children:\"Payment Method\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.paymentMethod,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{paymentMethod:e.target.value})),style:{width:'100%',padding:'0.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'6px',color:'#fff',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Methods\"}),/*#__PURE__*/_jsx(\"option\",{value:\"UK Bank Transfer\",children:\"UK Bank Transfer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SEPA Bank Transfer\",children:\"SEPA Transfer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Revolut\",children:\"Revolut\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Wise\",children:\"Wise\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PayPal\",children:\"PayPal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cash in Person\",children:\"Cash in Person\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem',fontWeight:'600'},children:\"Fast Payment\"}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filters.fastPaymentOnly,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{fastPaymentOnly:e.target.checked})),style:{width:'18px',height:'18px',cursor:'pointer'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',color:'#fff'},children:\"Only Fast Payment\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem',fontWeight:'600'},children:\"Min Price (\\xA3)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g., 30000\",value:filters.minPrice,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{minPrice:e.target.value})),style:{width:'100%',padding:'0.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'6px',color:'#fff',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem',fontWeight:'600'},children:\"Max Price (\\xA3)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g., 50000\",value:filters.maxPrice,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{maxPrice:e.target.value})),style:{width:'100%',padding:'0.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'6px',color:'#fff',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem',fontWeight:'600'},children:\"Min Amount (\\xA3)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g., 100\",value:filters.minAmount,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{minAmount:e.target.value})),style:{width:'100%',padding:'0.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'6px',color:'#fff',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem',fontWeight:'600'},children:\"Max Amount (\\xA3)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g., 5000\",value:filters.maxAmount,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{maxAmount:e.target.value})),style:{width:'100%',padding:'0.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'6px',color:'#fff',fontSize:'0.875rem'}})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,style:{marginTop:'1rem',padding:'0.5rem 1rem',background:'rgba(239, 68, 68, 0.2)',border:'2px solid rgba(239, 68, 68, 0.4)',borderRadius:'8px',color:'#EF4444',fontSize:'0.875rem',cursor:'pointer',fontWeight:'600'},children:\"Clear All Filters\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:offers.map(offer=>{var _offer$seller_info,_offer$seller_info2,_offer$seller_info2$e,_offer$current_price,_offer$min_order_fiat,_offer$max_order_fiat;const sellerName=((_offer$seller_info=offer.seller_info)===null||_offer$seller_info===void 0?void 0:_offer$seller_info.full_name)||((_offer$seller_info2=offer.seller_info)===null||_offer$seller_info2===void 0?void 0:(_offer$seller_info2$e=_offer$seller_info2.email)===null||_offer$seller_info2$e===void 0?void 0:_offer$seller_info2$e.split('@')[0])||'Seller';const paymentMethods=offer.payment_method_details||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"p2p-offer-card\",style:{background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'1.5rem',display:'grid',gridTemplateColumns:'1fr 1fr 1fr auto',gap:'2rem',alignItems:'center',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.6)';e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 4px 20px rgba(0, 240, 255, 0.2)';},onMouseLeave:e=>{e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.3)';e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#fff'},children:sellerName}),/*#__PURE__*/_jsx(IoShield,{size:16,color:\"#22C55E\"}),offer.is_fast_payment&&/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 10px',background:'linear-gradient(135deg, #22C55E, #16A34A)',border:'1px solid rgba(34, 197, 94, 0.4)',borderRadius:'6px',fontSize:'11px',fontWeight:'700',color:'#fff',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"\\u26A1 Fast Payment\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',color:'rgba(255,255,255,0.7)',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(IoStar,{size:14,fill:\"#FBBF24\",color:\"#FBBF24\"}),/*#__PURE__*/_jsx(\"span\",{children:offer.seller_rating||'4.8'}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[offer.completed_trades||Math.floor(Math.random()*50)+10,\" trades\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#22C55E'},children:[offer.completion_rate||'98',\"% completion\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.25rem'},children:\"Price\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#00F0FF'},children:[\"\\xA3\",(_offer$current_price=offer.current_price)===null||_offer$current_price===void 0?void 0:_offer$current_price.toFixed(2).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.5)'},children:[\"per \",crypto]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.25rem'},children:\"Limits\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#fff'},children:[\"\\xA3\",(_offer$min_order_fiat=offer.min_order_fiat)===null||_offer$min_order_fiat===void 0?void 0:_offer$min_order_fiat.toLocaleString(),\" - \\xA3\",(_offer$max_order_fiat=offer.max_order_fiat)===null||_offer$max_order_fiat===void 0?void 0:_offer$max_order_fiat.toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.5)',marginTop:'0.25rem'},children:[\"Available: \",offer.total_amount,\" \",crypto]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.25rem',marginTop:'0.5rem'},children:paymentMethods.slice(0,3).map((method,idx)=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'2px 6px',background:'rgba(168, 85, 247, 0.2)',border:'1px solid rgba(168, 85, 247, 0.4)',borderRadius:'4px',fontSize:'0.625rem',color:'#A855F7'},children:method.method_type||method.nickname},idx))})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/p2p/order-confirmation\",{state:{offer,crypto}}),style:{padding:'1rem 2rem',background:'linear-gradient(135deg, #22C55E, #16A34A)',border:'none',borderRadius:'12px',color:'#fff',fontSize:'1rem',fontWeight:'700',cursor:'pointer',whiteSpace:'nowrap',boxShadow:'0 4px 12px rgba(34, 197, 94, 0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';e.currentTarget.style.boxShadow='0 6px 20px rgba(34, 197, 94, 0.6)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';e.currentTarget.style.boxShadow='0 4px 12px rgba(34, 197, 94, 0.4)';},children:[\"Buy \",crypto]})]},offer.offer_id);})}),offers.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)',background:'rgba(26, 31, 58, 0.5)',borderRadius:'16px',border:'2px dashed rgba(0, 240, 255, 0.3)'},children:[\"No offers available for \",crypto,\" at the moment.\"]})]});}// Sell Section Component - Shows list of buyers\nfunction SellSection(_ref2){let{crypto,price}=_ref2;const navigate=useNavigate();const[offers,setOffers]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{fetchBuyOffers();},[crypto]);const fetchBuyOffers=async()=>{setLoading(true);try{// Fetch real buy offers (ads where ad_type = 'buy')\nconst response=await axios.get(\"\".concat(API,\"/api/p2p/ads?ad_type=buy&crypto=\").concat(crypto,\"&fiat=GBP\"));if(response.data.success){// Transform backend ads to frontend format\nconst transformedOffers=response.data.ads.map(ad=>({offer_id:ad.ad_id,buyer_name:ad.seller_name||'Buyer',buyer_rating:4.7,// TODO: Get from user profile\ncompleted_trades:ad.total_trades||0,price_per_unit:ad.price_value,min_limit:ad.min_amount,max_limit:ad.max_amount,payment_methods:ad.payment_methods||[],verified:true,ad_data:ad// Store full ad data\n}));setOffers(transformedOffers);}}catch(error){console.error('Error fetching buy offers:',error);toast.error('Failed to load buy offers');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)'},children:\"Loading offers...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:offers.map(offer=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(168, 85, 247, 0.3)',borderRadius:'16px',padding:'1.5rem',display:'grid',gridTemplateColumns:'1fr 1fr 1fr auto',gap:'2rem',alignItems:'center',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.borderColor='rgba(168, 85, 247, 0.6)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{e.currentTarget.style.borderColor='rgba(168, 85, 247, 0.3)';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#fff'},children:offer.buyer_name}),offer.verified&&/*#__PURE__*/_jsx(IoShield,{size:16,color:\"#22C55E\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(IoStar,{size:14,fill:\"#F59E0B\",color:\"#F59E0B\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#F59E0B',fontWeight:'600'},children:offer.buyer_rating}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'rgba(255,255,255,0.6)'},children:[offer.completed_trades,\" trades\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#A855F7',marginBottom:'0.5rem'},children:[\"\\xA3\",offer.price_per_unit.toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)'},children:[\"Limits: \\xA3\",offer.min_limit,\" - \\xA3\",offer.max_limit.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:\"Payment Methods:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem'},children:offer.payment_methods.map((method,idx)=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.75rem',background:'rgba(168, 85, 247, 0.1)',border:'1px solid rgba(168, 85, 247, 0.3)',borderRadius:'6px',fontSize:'0.75rem',color:'#A855F7'},children:method},idx))})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{navigate('/order-confirmation',{state:{offer:_objectSpread(_objectSpread({},offer),{},{crypto_currency:crypto}),orderType:'sell',crypto:crypto}});},style:{padding:'1rem 2rem',background:'linear-gradient(135deg, #A855F7, #8B5CF6)',border:'none',borderRadius:'12px',color:'#fff',fontSize:'1rem',fontWeight:'700',cursor:'pointer',whiteSpace:'nowrap',boxShadow:'0 4px 12px rgba(168, 85, 247, 0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';e.currentTarget.style.boxShadow='0 6px 20px rgba(168, 85, 247, 0.6)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';e.currentTarget.style.boxShadow='0 4px 12px rgba(168, 85, 247, 0.4)';},children:[\"Sell \",crypto]})]},offer.offer_id))}),offers.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)',background:'rgba(26, 31, 58, 0.5)',borderRadius:'16px',border:'2px dashed rgba(168, 85, 247, 0.3)'},children:[\"No buy offers available for \",crypto,\" at the moment.\"]})]});}// Create Offer Section Component\nfunction CreateOfferSection(_ref3){let{crypto,price}=_ref3;const[offerType,setOfferType]=useState('sell');// sell or buy\nconst[priceType,setPriceType]=useState('fixed');// fixed or market\nconst[fixedPrice,setFixedPrice]=useState(price.toString());const[marketMargin,setMarketMargin]=useState('0');const[minLimit,setMinLimit]=useState('');const[maxLimit,setMaxLimit]=useState('');const[amount,setAmount]=useState('');const[paymentMethods,setPaymentMethods]=useState([]);const[isFastPayment,setIsFastPayment]=useState(false);const[termsConditions,setTermsConditions]=useState('');const[processing,setProcessing]=useState(false);const[isSeller,setIsSeller]=useState(false);const[checkingSeller,setCheckingSeller]=useState(true);const[activatingSeller,setActivatingSeller]=useState(false);useEffect(()=>{checkSellerStatus();},[]);const checkSellerStatus=async()=>{try{const userStr=localStorage.getItem('user');if(!userStr)return;const user=JSON.parse(userStr);const response=await axios.get(\"\".concat(API,\"/api/p2p/seller-status/\").concat(user.user_id));if(response.data.is_seller){setIsSeller(true);}}catch(error){console.error('Error checking seller status:',error);}finally{setCheckingSeller(false);}};const activateSellerAccount=async()=>{setActivatingSeller(true);try{const userStr=localStorage.getItem('user');if(!userStr){toast.error('Please login first');return;}const user=JSON.parse(userStr);// Step 1: Mock KYC (in production, this would be real KYC)\nawait axios.post(\"\".concat(API,\"/api/auth/mock-kyc\"),{user_id:user.user_id});// Step 2: Activate seller\nconst response=await axios.post(\"\".concat(API,\"/api/p2p/activate-seller\"),{user_id:user.user_id});if(response.data.success){toast.success('Seller account activated! You can now create offers.');setIsSeller(true);}}catch(error){var _error$response,_error$response$data;console.error('Error activating seller:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to activate seller account');}finally{setActivatingSeller(false);}};const paymentMethodOptions=['Bank Transfer','PayPal','Wise','Revolut','Cash App','Zelle','Venmo','SEPA','SWIFT','Faster Payments'];const handleCreateOffer=async()=>{// Validation\nif(!minLimit||!maxLimit||!amount){toast.error('Please fill all required fields');return;}if(parseFloat(minLimit)>=parseFloat(maxLimit)){toast.error('Max limit must be greater than min limit');return;}if(paymentMethods.length===0){toast.error('Please select at least one payment method');return;}setProcessing(true);try{// Get user from localStorage\nconst userStr=localStorage.getItem('user');if(!userStr){toast.error('Please login to create offers');return;}const user=JSON.parse(userStr);const offerData={user_id:user.user_id,ad_type:offerType,crypto_currency:crypto,fiat_currency:'GBP',// TODO: Make this dynamic\nprice_type:priceType,price_value:priceType==='fixed'?parseFloat(fixedPrice):parseFloat(marketMargin),min_amount:parseFloat(minLimit),max_amount:parseFloat(maxLimit),available_amount:parseFloat(amount),payment_methods:paymentMethods,is_fast_payment:isFastPayment,terms:termsConditions};const response=await axios.post(\"\".concat(API,\"/api/p2p/create-ad\"),offerData);if(response.data.success){toast.success('Offer created successfully!');// Reset form\nsetMinLimit('');setMaxLimit('');setAmount('');setPaymentMethods([]);setIsFastPayment(false);setTermsConditions('');}}catch(error){var _error$response2,_error$response2$data;console.error('Error creating offer:',error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'Failed to create offer');}finally{setProcessing(false);}};const calculatedPrice=priceType==='market'?price*(1+parseFloat(marketMargin||0)/100):parseFloat(fixedPrice||price);return/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'900px',margin:'0 auto'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'2rem'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{color:'#00F0FF',marginBottom:'2rem',fontSize:'1.5rem',fontWeight:'700'},children:[\"Create \",crypto,\" Offer\"]}),checkingSeller?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)'},children:\"Checking seller status...\"}):!isSeller?/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(245, 158, 11, 0.1)',border:'2px solid #F59E0B',borderRadius:'12px',padding:'2rem',marginBottom:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#F59E0B',marginBottom:'1rem',fontSize:'1.25rem',fontWeight:'700'},children:\"Seller Account Required\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255,255,255,0.8)',marginBottom:'1.5rem',lineHeight:'1.6'},children:\"To create offers and sell cryptocurrency, you need to activate your seller account. This requires identity verification for security and compliance.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:activateSellerAccount,disabled:activatingSeller,style:{padding:'1rem 2rem',background:activatingSeller?'rgba(245, 158, 11, 0.3)':'linear-gradient(135deg, #F59E0B, #D97706)',border:'none',borderRadius:'12px',color:activatingSeller?'rgba(255,255,255,0.5)':'#fff',fontSize:'1rem',fontWeight:'700',cursor:activatingSeller?'not-allowed':'pointer',boxShadow:activatingSeller?'none':'0 4px 12px rgba(245, 158, 11, 0.4)',transition:'all 0.3s ease'},children:activatingSeller?'Activating...':'Activate Seller Account'})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Offer Type\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOfferType('sell'),style:{flex:1,padding:'1rem',background:offerType==='sell'?'linear-gradient(135deg, #22C55E, #16A34A)':'rgba(26, 31, 58, 0.8)',border:offerType==='sell'?'2px solid #22C55E':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',fontSize:'1rem',fontWeight:'700',cursor:'pointer'},children:[\"I want to SELL \",crypto]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOfferType('buy'),style:{flex:1,padding:'1rem',background:offerType==='buy'?'linear-gradient(135deg, #A855F7, #8B5CF6)':'rgba(26, 31, 58, 0.8)',border:offerType==='buy'?'2px solid #A855F7':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',fontSize:'1rem',fontWeight:'700',cursor:'pointer'},children:[\"I want to BUY \",crypto]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Price Type\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPriceType('fixed'),style:{flex:1,padding:'0.75rem',background:priceType==='fixed'?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:priceType==='fixed'?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer'},children:\"Fixed Price\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPriceType('market'),style:{flex:1,padding:'0.75rem',background:priceType==='market'?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:priceType==='market'?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer'},children:\"Market Price + Margin\"})]})]}),priceType==='fixed'?/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:[\"Fixed Price (GBP per \",crypto,\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:fixedPrice,onChange:e=>setFixedPrice(e.target.value),placeholder:\"\\xA3\".concat(price),style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]}):/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Market Margin (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:marketMargin,onChange:e=>setMarketMargin(e.target.value),placeholder:\"0\",step:\"0.1\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginTop:'0.5rem'},children:[\"Final Price: \\xA3\",calculatedPrice.toLocaleString(),\" (\",marketMargin>0?'+':'',marketMargin,\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:[\"Total Amount (\",crypto,\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),placeholder:\"How much \".concat(crypto,\" do you want to \").concat(offerType),step:\"0.00000001\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Min Order Limit (GBP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:minLimit,onChange:e=>setMinLimit(e.target.value),placeholder:\"Minimum \\xA3\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Max Order Limit (GBP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:maxLimit,onChange:e=>setMaxLimit(e.target.value),placeholder:\"Maximum \\xA3\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Payment Methods (Select multiple)\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem'},children:paymentMethodOptions.map(method=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{if(paymentMethods.includes(method)){setPaymentMethods(paymentMethods.filter(m=>m!==method));}else{setPaymentMethods([...paymentMethods,method]);}},style:{padding:'0.5rem 1rem',background:paymentMethods.includes(method)?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:paymentMethods.includes(method)?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:paymentMethods.includes(method)?'#00F0FF':'rgba(255,255,255,0.6)',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer'},children:method},method))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem',background:isFastPayment?'rgba(34, 197, 94, 0.1)':'rgba(26, 31, 58, 0.5)',border:isFastPayment?'2px solid rgba(34, 197, 94, 0.4)':'2px solid rgba(0, 240, 255, 0.2)',borderRadius:'12px',padding:'1.25rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoFlash,{size:20,color:isFastPayment?'#22C55E':'rgba(255,255,255,0.6)'}),/*#__PURE__*/_jsx(\"label\",{style:{color:isFastPayment?'#22C55E':'rgba(255,255,255,0.8)',fontSize:'0.95rem',fontWeight:'700',cursor:'pointer'},children:\"Fast Payment\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsFastPayment(!isFastPayment),style:{width:'56px',height:'28px',borderRadius:'14px',background:isFastPayment?'linear-gradient(135deg, #22C55E, #16A34A)':'rgba(255,255,255,0.2)',border:'none',cursor:'pointer',position:'relative',transition:'all 0.3s ease'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'22px',height:'22px',borderRadius:'50%',background:'#fff',position:'absolute',top:'3px',left:isFastPayment?'31px':'3px',transition:'all 0.3s ease',boxShadow:'0 2px 4px rgba(0,0,0,0.2)'}})})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.8rem',color:isFastPayment?'#22C55E':'rgba(255,255,255,0.6)',lineHeight:'1.5',margin:0},children:isFastPayment?'âš¡ Your offer will be highlighted with a Fast Payment badge in the marketplace, attracting buyers looking for quick transactions.':'Enable Fast Payment to show buyers you can complete trades quickly. Your offer will be prioritized in search results.'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Terms & Conditions (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:termsConditions,onChange:e=>setTermsConditions(e.target.value),placeholder:\"Add any specific terms or instructions for buyers/sellers...\",rows:4,style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'0.875rem',fontFamily:'inherit',resize:'vertical'}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateOffer,disabled:processing,style:{width:'100%',padding:'1.25rem',background:processing?'rgba(0, 240, 255, 0.3)':'linear-gradient(135deg, #00F0FF, #00B8E6)',border:'none',borderRadius:'12px',color:processing?'rgba(255,255,255,0.5)':'#0a1628',fontSize:'1.125rem',fontWeight:'700',cursor:processing?'not-allowed':'pointer',boxShadow:processing?'none':'0 4px 20px rgba(0, 240, 255, 0.4)',transition:'all 0.3s ease'},children:processing?'Creating Offer...':'Publish Offer'})]})]})});}// My Orders Section Component\nfunction MyOrdersSection(){const navigate=useNavigate();const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[filter,setFilter]=useState('all');// all, active, completed\nuseEffect(()=>{fetchMyOrders();},[filter]);const fetchMyOrders=async()=>{setLoading(true);try{// Get user from localStorage\nconst userStr=localStorage.getItem('user');if(!userStr){toast.error('Please login to view your orders');setLoading(false);return;}const user=JSON.parse(userStr);// Fetch real trades from backend\nconst response=await axios.get(\"\".concat(API,\"/api/p2p/trades/user/\").concat(user.user_id));if(response.data.success){// Transform backend trades to frontend format\nconst transformedOrders=response.data.trades.map(trade=>{const isBuyer=trade.buyer_id===user.user_id;return{order_id:trade.trade_id,type:isBuyer?'buy':'sell',crypto:trade.crypto_currency,amount:trade.crypto_amount,price:trade.price_per_unit||0,total:trade.fiat_amount,status:trade.status,counterparty:isBuyer?trade.seller_name||'Seller':trade.buyer_name||'Buyer',payment_method:trade.payment_method||'Bank Transfer',created_at:trade.created_at,completed_at:trade.completed_at,time_remaining:trade.time_remaining||0};});setOrders(transformedOrders);}}catch(error){console.error('Error fetching orders:',error);toast.error('Failed to load orders');}finally{setLoading(false);}};const getStatusBadge=status=>{const statusConfig={pending_payment:{color:'#F59E0B',text:'Pending Payment',bg:'rgba(245, 158, 11, 0.1)'},buyer_marked_paid:{color:'#00F0FF',text:'Payment Sent',bg:'rgba(0, 240, 255, 0.1)'},completed:{color:'#22C55E',text:'Completed',bg:'rgba(34, 197, 94, 0.1)'},cancelled:{color:'#EF4444',text:'Cancelled',bg:'rgba(239, 68, 68, 0.1)'},disputed:{color:'#A855F7',text:'Disputed',bg:'rgba(168, 85, 247, 0.1)'}};const config=statusConfig[status]||statusConfig.pending_payment;return/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.75rem',background:config.bg,border:\"1px solid \".concat(config.color),borderRadius:'6px',color:config.color,fontSize:'0.75rem',fontWeight:'600',textTransform:'uppercase'},children:config.text});};const formatTimeRemaining=seconds=>{const minutes=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(minutes,\":\").concat(secs.toString().padStart(2,'0'));};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)'},children:\"Loading orders...\"});}const filteredOrders=filter==='all'?orders:filter==='active'?orders.filter(o=>o.status!=='completed'&&o.status!=='cancelled'):orders.filter(o=>o.status==='completed');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'1rem',marginBottom:'2rem'},children:['all','active','completed'].map(f=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter(f),style:{padding:'0.5rem 1.5rem',background:filter===f?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:filter===f?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:filter===f?'#00F0FF':'rgba(255,255,255,0.6)',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer',textTransform:'capitalize'},children:f},f))}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:filteredOrders.map(order=>/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:\"2px solid \".concat(order.type==='buy'?'rgba(34, 197, 94, 0.3)':'rgba(168, 85, 247, 0.3)'),borderRadius:'16px',padding:'1.5rem',cursor:'pointer',transition:'all 0.3s ease'},onClick:()=>navigate(\"/trade/\".concat(order.order_id)),onMouseEnter:e=>{e.currentTarget.style.borderColor=order.type==='buy'?'rgba(34, 197, 94, 0.6)':'rgba(168, 85, 247, 0.6)';e.currentTarget.style.transform='translateY(-2px)';},onMouseLeave:e=>{e.currentTarget.style.borderColor=order.type==='buy'?'rgba(34, 197, 94, 0.3)':'rgba(168, 85, 247, 0.3)';e.currentTarget.style.transform='translateY(0)';},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr 1fr 1fr auto',gap:'2rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:order.type==='buy'?'#22C55E':'#A855F7',textTransform:'uppercase',marginBottom:'0.25rem'},children:[order.type,\" \",order.crypto]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)'},children:[\"Order #\",order.order_id.slice(0,8)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1rem',fontWeight:'600',color:'#fff',marginBottom:'0.25rem'},children:[order.amount,\" \",order.crypto]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)'},children:[\"@ \\xA3\",order.price.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.25rem'},children:\"Total\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#00F0FF'},children:[\"\\xA3\",order.total.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.8)',marginBottom:'0.5rem'},children:[order.type==='buy'?'Seller':'Buyer',\": \",order.counterparty]}),getStatusBadge(order.status)]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[order.status!=='completed'&&order.status!=='cancelled'&&order.time_remaining&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.75rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid #F59E0B',borderRadius:'8px',minWidth:'80px'},children:[/*#__PURE__*/_jsx(IoTime,{size:16,color:\"#F59E0B\",style:{marginBottom:'0.25rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:'700',color:'#F59E0B'},children:formatTimeRemaining(order.time_remaining)})]}),order.status==='completed'&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#22C55E',fontWeight:'600'},children:\"\\u2713 Done\"})]})]})},order.order_id))}),filteredOrders.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)',background:'rgba(26, 31, 58, 0.5)',borderRadius:'16px',border:'2px dashed rgba(0, 240, 255, 0.3)'},children:[\"No \",filter,\" orders found.\"]})]});}// My Offers Section Component\nfunction MyOffersSection(){const[offers,setOffers]=useState([]);const[loading,setLoading]=useState(true);const[editingOffer,setEditingOffer]=useState(null);const[showBoostModal,setShowBoostModal]=useState(false);const[offerToBoost,setOfferToBoost]=useState(null);useEffect(()=>{fetchMyOffers();},[]);const fetchMyOffers=async()=>{setLoading(true);try{// Get user from localStorage\nconst userStr=localStorage.getItem('user');if(!userStr){toast.error('Please login to view your offers');setLoading(false);return;}const user=JSON.parse(userStr);const response=await axios.get(\"\".concat(API,\"/api/p2p/my-ads/\").concat(user.user_id));if(response.data.success){setOffers(response.data.ads);}}catch(error){console.error('Error fetching offers:',error);toast.error('Failed to load your offers');}finally{setLoading(false);}};const handleToggleOffer=async(offerId,currentStatus)=>{try{const newStatus=currentStatus==='active'?'paused':'active';const response=await axios.put(\"\".concat(API,\"/api/p2p/ad/\").concat(offerId,\"/toggle\"),{status:newStatus});if(response.data.success){toast.success(\"Offer \".concat(newStatus==='active'?'activated':'paused'));setOffers(offers.map(offer=>offer.ad_id===offerId?_objectSpread(_objectSpread({},offer),{},{status:newStatus}):offer));}}catch(error){var _error$response3,_error$response3$data;console.error('Error toggling offer:',error);toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.detail)||'Failed to update offer');}};const handleDeleteOffer=async offerId=>{if(!window.confirm('Are you sure you want to delete this offer?'))return;try{const response=await axios.delete(\"\".concat(API,\"/api/p2p/ad/\").concat(offerId));if(response.data.success){toast.success('Offer deleted');setOffers(offers.filter(offer=>offer.ad_id!==offerId));}}catch(error){var _error$response4,_error$response4$data;console.error('Error deleting offer:',error);toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.detail)||'Failed to delete offer');}};const handleEditOffer=offer=>{setEditingOffer(offer);};const handleSaveEdit=async updatedData=>{try{const response=await axios.put(\"\".concat(API,\"/api/p2p/ad/\").concat(editingOffer.ad_id),updatedData);if(response.data.success){toast.success('Offer updated successfully');setEditingOffer(null);fetchMyOffers();// Refresh the list\n}}catch(error){var _error$response5,_error$response5$data;console.error('Error updating offer:',error);toast.error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.detail)||'Failed to update offer');}};const handleCancelEdit=()=>{setEditingOffer(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)'},children:\"Loading offers...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[editingOffer&&/*#__PURE__*/_jsx(EditOfferModal,{offer:editingOffer,onIoSave:handleSaveEdit,onCancel:handleCancelEdit}),showBoostModal&&offerToBoost&&/*#__PURE__*/_jsx(BoostOfferModal,{isOpen:showBoostModal,onClose:()=>{setShowBoostModal(false);setOfferToBoost(null);},offer:offerToBoost,onBoostSuccess:()=>{fetchMyOffers();// Refresh offers list\n}}),/*#__PURE__*/_jsx(SellerLinkCopyButton,{}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:offers.map(offer=>/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:\"2px solid \".concat(offer.ad_type==='sell'?'rgba(34, 197, 94, 0.3)':'rgba(168, 85, 247, 0.3)'),borderRadius:'16px',padding:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr 1fr auto',gap:'2rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:offer.ad_type==='sell'?'#22C55E':'#A855F7',textTransform:'uppercase',marginBottom:'0.5rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[offer.ad_type,\" \",offer.crypto_currency,offer.boosted&&/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',gap:'0.25rem',padding:'0.25rem 0.625rem',background:'linear-gradient(135deg, #F59E0B, #D97706)',borderRadius:'6px',fontSize:'0.75rem',fontWeight:'700',color:'#fff',boxShadow:'0 0 20px rgba(245, 158, 11, 0.6)',animation:'glow 2s infinite'},children:[/*#__PURE__*/_jsx(IoStar,{size:12,fill:\"#fff\"}),\"FEATURED\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-block',padding:'0.25rem 0.75rem',background:offer.status==='active'?'rgba(34, 197, 94, 0.1)':'rgba(245, 158, 11, 0.1)',border:\"1px solid \".concat(offer.status==='active'?'#22C55E':'#F59E0B'),borderRadius:'6px',color:offer.status==='active'?'#22C55E':'#F59E0B',fontSize:'0.75rem',fontWeight:'600',textTransform:'uppercase'},children:offer.status})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#00F0FF',marginBottom:'0.5rem'},children:[\"\\xA3\",offer.price_value.toLocaleString(),offer.price_type==='floating'&&/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem',marginLeft:'0.25rem'},children:[\"(\",offer.price_value>0?'+':'',offer.price_value,\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)'},children:[\"Limits: \\xA3\",offer.min_amount,\" - \\xA3\",offer.max_amount.toLocaleString()]}),offer.ad_type==='sell'&&offer.available_amount&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)'},children:[\"Available: \",offer.available_amount,\" \",offer.crypto_currency]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.8)',marginBottom:'0.5rem'},children:[offer.total_trades||0,\" completed trades\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.25rem'},children:offer.payment_methods&&offer.payment_methods.map((method,idx)=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'4px',fontSize:'0.75rem',color:'#00F0FF'},children:method},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setOfferToBoost(offer);setShowBoostModal(true);},disabled:offer.boosted,style:{padding:'0.5rem 1rem',background:offer.boosted?'rgba(245, 158, 11, 0.1)':'linear-gradient(135deg, #F59E0B, #D97706)',border:offer.boosted?'2px solid rgba(245, 158, 11, 0.3)':'none',borderRadius:'8px',color:offer.boosted?'rgba(245, 158, 11, 0.5)':'#fff',fontSize:'0.75rem',fontWeight:'600',cursor:offer.boosted?'not-allowed':'pointer',whiteSpace:'nowrap',display:'flex',alignItems:'center',justifyContent:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(IoFlash,{size:14}),offer.boosted?'Boosted':'Boost']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditOffer(offer),style:{padding:'0.5rem 1rem',background:'rgba(0, 240, 255, 0.2)',border:'2px solid #00F0FF',borderRadius:'8px',color:'#00F0FF',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer',whiteSpace:'nowrap'},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleOffer(offer.ad_id,offer.status),style:{padding:'0.5rem 1rem',background:offer.status==='active'?'rgba(245, 158, 11, 0.2)':'rgba(34, 197, 94, 0.2)',border:offer.status==='active'?'2px solid #F59E0B':'2px solid #22C55E',borderRadius:'8px',color:offer.status==='active'?'#F59E0B':'#22C55E',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer',whiteSpace:'nowrap'},children:offer.status==='active'?'Pause':'Activate'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteOffer(offer.ad_id),style:{padding:'0.5rem 1rem',background:'rgba(239, 68, 68, 0.2)',border:'2px solid #EF4444',borderRadius:'8px',color:'#EF4444',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer',whiteSpace:'nowrap'},children:\"Delete\"})]})]})},offer.ad_id))}),offers.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'3rem',color:'rgba(255,255,255,0.6)',background:'rgba(26, 31, 58, 0.5)',borderRadius:'16px',border:'2px dashed rgba(0, 240, 255, 0.3)'},children:\"You haven't created any offers yet.\"})]});}// Edit Offer Modal Component\nfunction EditOfferModal(_ref4){let{offer,onSave,onCancel}=_ref4;const[formData,setFormData]=useState({price_type:offer.price_type||'fixed',price_value:offer.price_value||0,min_amount:offer.min_amount||0,max_amount:offer.max_amount||0,available_amount:offer.available_amount||0,payment_methods:offer.payment_methods||[],terms:offer.terms||''});const paymentMethodOptions=['Bank Transfer','PayPal','Wise','Revolut','Cash App','Zelle','Venmo','SEPA','SWIFT','Faster Payments'];const handleSubmit=()=>{// Validation\nif(!formData.min_amount||!formData.max_amount){toast.error('Please fill all required fields');return;}if(parseFloat(formData.min_amount)>=parseFloat(formData.max_amount)){toast.error('Max limit must be greater than min limit');return;}if(formData.payment_methods.length===0){toast.error('Please select at least one payment method');return;}onSave(formData);};const togglePaymentMethod=method=>{if(formData.payment_methods.includes(method)){setFormData(_objectSpread(_objectSpread({},formData),{},{payment_methods:formData.payment_methods.filter(m=>m!==method)}));}else{setFormData(_objectSpread(_objectSpread({},formData),{},{payment_methods:[...formData.payment_methods,method]}));}};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'2rem',maxWidth:'600px',width:'100%',maxHeight:'90vh',overflowY:'auto'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{color:'#00F0FF',marginBottom:'1.5rem',fontSize:'1.5rem',fontWeight:'700'},children:[\"Edit Offer - \",offer.ad_type.toUpperCase(),\" \",offer.crypto_currency]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Price Type\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFormData(_objectSpread(_objectSpread({},formData),{},{price_type:'fixed'})),style:{flex:1,padding:'0.75rem',background:formData.price_type==='fixed'?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:formData.price_type==='fixed'?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer'},children:\"Fixed Price\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFormData(_objectSpread(_objectSpread({},formData),{},{price_type:'floating'})),style:{flex:1,padding:'0.75rem',background:formData.price_type==='floating'?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:formData.price_type==='floating'?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer'},children:\"Floating (Market %)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:formData.price_type==='fixed'?'Price (GBP)':'Market Margin (%)'}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.price_value,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{price_value:e.target.value})),step:formData.price_type==='fixed'?'1':'0.1',style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Min Limit (GBP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.min_amount,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{min_amount:e.target.value})),style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Max Limit (GBP)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.max_amount,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{max_amount:e.target.value})),style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]})]}),offer.ad_type==='sell'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:[\"Available Amount (\",offer.crypto_currency,\")\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.available_amount,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{available_amount:e.target.value})),step:\"0.00000001\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'1rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Payment Methods\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem'},children:paymentMethodOptions.map(method=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>togglePaymentMethod(method),style:{padding:'0.5rem 1rem',background:formData.payment_methods.includes(method)?'rgba(0, 240, 255, 0.2)':'rgba(26, 31, 58, 0.8)',border:formData.payment_methods.includes(method)?'2px solid #00F0FF':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:formData.payment_methods.includes(method)?'#00F0FF':'rgba(255,255,255,0.6)',fontSize:'0.875rem',fontWeight:'600',cursor:'pointer'},children:method},method))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'rgba(255,255,255,0.8)',fontSize:'0.875rem',marginBottom:'0.5rem',display:'block'},children:\"Terms & Conditions\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.terms,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{terms:e.target.value})),rows:3,style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'0.875rem',fontFamily:'inherit',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{flex:1,padding:'1rem',background:'linear-gradient(135deg, #00F0FF, #00B8E6)',border:'none',borderRadius:'12px',color:'#0a1628',fontSize:'1rem',fontWeight:'700',cursor:'pointer',boxShadow:'0 4px 20px rgba(0, 240, 255, 0.4)'},children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onCancel,style:{flex:1,padding:'1rem',background:'rgba(239, 68, 68, 0.2)',border:'2px solid #EF4444',borderRadius:'12px',color:'#EF4444',fontSize:'1rem',fontWeight:'700',cursor:'pointer'},children:\"Cancel\"})]})]})});}export default P2PTrading;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}