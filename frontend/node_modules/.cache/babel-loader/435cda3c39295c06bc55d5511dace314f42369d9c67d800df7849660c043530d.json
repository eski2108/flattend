{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'sonner';import{IoCopyOutline,IoLogoWhatsapp,IoLogoFacebook,IoLogoTwitter,IoCheckmarkCircleOutline,IoInformationCircleOutline,IoTrendingUpOutline,IoPeopleOutline,IoTimeOutline,IoTrophyOutline,IoFilterOutline,IoQrCodeOutline,IoGlobeOutline,IoPhonePortraitOutline}from'react-icons/io5';import QRCode from'qrcode';import{Line}from'react-chartjs-2';import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,Filler}from'chart.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend,Filler);// API already defined\nexport default function ReferralDashboardComprehensive(){var _comprehensiveData$to,_comprehensiveData$ea,_comprehensiveData$ea2,_comprehensiveData$re,_comprehensiveData$re2,_comprehensiveData$ea3,_comprehensiveData$ne,_comprehensiveData$ne2,_comprehensiveData$ne3,_comprehensiveData$ne4,_comprehensiveData$ne7,_comprehensiveData$ne8,_comprehensiveData$ne9;const navigate=useNavigate();const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[comprehensiveData,setComprehensiveData]=useState(null);const[activeTab,setActiveTab]=useState('overview');const[commissionFilter,setCommissionFilter]=useState('all');const[dateFilter,setDateFilter]=useState('all');const[qrCodeUrl,setQrCodeUrl]=useState('');const[copySuccess,setCopySuccess]=useState('');const[chartPeriod,setChartPeriod]=useState('weekly');useEffect(()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/login');return;}setUser(JSON.parse(userData));},[navigate]);useEffect(()=>{if(user!==null&&user!==void 0&&user.user_id){fetchComprehensiveData();}},[user]);useEffect(()=>{if(comprehensiveData!==null&&comprehensiveData!==void 0&&comprehensiveData.referral_link){generateQRCode(comprehensiveData.referral_link);}},[comprehensiveData]);const fetchComprehensiveData=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(API,\"/api/referral/dashboard/comprehensive/\").concat(user.user_id));// Also fetch NEW referral links (Standard + Golden if applicable)\nconst linksResponse=await axios.get(\"\".concat(API,\"/api/referral/links/\").concat(user.user_id));if(response.data.success){setComprehensiveData(_objectSpread(_objectSpread({},response.data),{},{newReferralLinks:linksResponse.data// Store new links separately\n}));}}catch(error){console.error('Error fetching data:',error);toast.error('Failed to load dashboard');}finally{setLoading(false);}};const generateQRCode=async text=>{try{const url=await QRCode.toDataURL(text,{width:200,margin:2,color:{dark:'#000000',light:'#FFFFFF'}});setQrCodeUrl(url);}catch(error){console.error('QR Code generation error:',error);}};const copyToClipboard=(text,type)=>{navigator.clipboard.writeText(text);setCopySuccess(type);toast.success(\"\".concat(type,\" copied!\"));setTimeout(()=>setCopySuccess(''),2000);};const shareVia=platform=>{const link=(comprehensiveData===null||comprehensiveData===void 0?void 0:comprehensiveData.referral_link)||'';const text=\"Join CoinHub X and start trading! Use my link: \".concat(link);const urls={whatsapp:\"https://wa.me/?text=\".concat(encodeURIComponent(text)),telegram:\"https://t.me/share/url?url=\".concat(encodeURIComponent(link),\"&text=\").concat(encodeURIComponent('Join CoinHub X')),twitter:\"https://twitter.com/intent/tweet?text=\".concat(encodeURIComponent(text)),facebook:\"https://www.facebook.com/sharer/sharer.php?u=\".concat(encodeURIComponent(link))};if(urls[platform])window.open(urls[platform],'_blank');};const getEarningsChartData=()=>{const period=chartPeriod;let labels=[];let data=[];// Use REAL earnings data from backend\nconst earningsHistory=(comprehensiveData===null||comprehensiveData===void 0?void 0:comprehensiveData.earnings_history)||[];if(period==='daily'){// Last 7 days\nfor(let i=6;i>=0;i--){const date=new Date();date.setDate(date.getDate()-i);const dateStr=date.toISOString().split('T')[0];labels.push(date.toLocaleDateString('en-GB',{day:'2-digit',month:'short'}));// Sum earnings for this day\nconst dayEarnings=earningsHistory.filter(e=>e.date&&e.date.startsWith(dateStr)).reduce((sum,e)=>sum+(e.amount||0),0);data.push(dayEarnings);}}else if(period==='weekly'){// Last 8 weeks\nfor(let i=7;i>=0;i--){const date=new Date();date.setDate(date.getDate()-i*7);labels.push(\"Week \".concat(8-i));// Sum earnings for this week\nconst weekStart=new Date(date);weekStart.setDate(weekStart.getDate()-7);const weekStartStr=weekStart.toISOString().split('T')[0];const weekEndStr=date.toISOString().split('T')[0];const weekEarnings=earningsHistory.filter(e=>e.date&&e.date>=weekStartStr&&e.date<=weekEndStr).reduce((sum,e)=>sum+(e.amount||0),0);data.push(weekEarnings);}}else{// Last 12 months\nlabels=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];const currentYear=new Date().getFullYear();for(let month=0;month<12;month++){const monthStr=\"\".concat(currentYear,\"-\").concat(String(month+1).padStart(2,'0'));const monthEarnings=earningsHistory.filter(e=>e.date&&e.date.startsWith(monthStr)).reduce((sum,e)=>sum+(e.amount||0),0);data.push(monthEarnings);}}return{labels,datasets:[{label:'Earnings (Â£)',data,fill:true,backgroundColor:'rgba(0, 240, 255, 0.1)',borderColor:'#00F0FF',borderWidth:3,tension:0.4,pointBackgroundColor:'#00F0FF',pointBorderColor:'#000',pointBorderWidth:2,pointRadius:5,pointHoverRadius:7}]};};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',border:'4px solid rgba(0, 240, 255, 0.1)',borderTop:'4px solid #00F0FF',borderRadius:'50%',animation:'spin 1s linear infinite',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#00F0FF',fontSize:'18px',fontWeight:'600'},children:\"Loading Dashboard...\"})]})});}const totalEarnings=(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$to=comprehensiveData.total_earnings)===null||_comprehensiveData$to===void 0?void 0:_comprehensiveData$to.total_gbp)||0;const monthEarnings=(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ea=comprehensiveData.earnings_by_period)===null||_comprehensiveData$ea===void 0?void 0:(_comprehensiveData$ea2=_comprehensiveData$ea.month)===null||_comprehensiveData$ea2===void 0?void 0:_comprehensiveData$ea2.amount)||0;const activeReferrals=(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$re=comprehensiveData.referral_stats)===null||_comprehensiveData$re===void 0?void 0:_comprehensiveData$re.active_referrals)||0;const pendingSignups=(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$re2=comprehensiveData.referral_stats)===null||_comprehensiveData$re2===void 0?void 0:_comprehensiveData$re2.pending_signups)||0;const tier=(comprehensiveData===null||comprehensiveData===void 0?void 0:comprehensiveData.tier)||'standard';return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',padding:'1rem',paddingTop:'80px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #FFD700, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'0.5rem'},children:\"\\uD83D\\uDE80 Referral Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px'},children:\"Complete referral analytics and earnings tracker\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.5rem',marginBottom:'2rem',overflowX:'auto',padding:'0.5rem',background:'rgba(26, 31, 58, 0.5)',borderRadius:'12px'},children:[{id:'overview',label:'Overview',icon:'ðŸ“‹'},{id:'earnings',label:'Earnings',icon:'ðŸ’°'},{id:'activity',label:'Activity',icon:'ðŸ“Š'},{id:'leaderboard',label:'Leaderboard',icon:'ðŸ†'},{id:'links',label:'Links & QR',icon:'ðŸ”—'}].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab.id),style:{flex:1,minWidth:'120px',padding:'0.75rem 1rem',background:activeTab===tab.id?'linear-gradient(135deg, #00F0FF, #A855F7)':'rgba(0, 0, 0, 0.3)',border:activeTab===tab.id?'none':'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'8px',color:activeTab===tab.id?'#000':'#fff',fontSize:'13px',fontWeight:'700',cursor:'pointer',transition:'all 0.3s ease'},children:[tab.icon,\" \",tab.label]},tab.id))}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 240, 255, 0.05))',borderRadius:'16px',padding:'1.5rem',border:'2px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'12px',marginBottom:'0.5rem',textTransform:'uppercase',fontWeight:'700'},children:\"Total Lifetime Earnings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'36px',fontWeight:'900',color:'#00F0FF',marginBottom:'0.5rem'},children:[\"\\xA3\",totalEarnings.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontSize:'12px',fontWeight:'600'},children:[\"\\u2191 +\\xA3\",monthEarnings.toFixed(2),\" this month\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 215, 0, 0.05))',borderRadius:'16px',padding:'1.5rem',border:'2px solid rgba(255, 215, 0, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'12px',marginBottom:'0.5rem',textTransform:'uppercase',fontWeight:'700'},children:\"Active Referrals\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'36px',fontWeight:'900',color:'#FFD700'},children:activeReferrals}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px',fontWeight:'600'},children:[pendingSignups,\" pending\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(168, 85, 247, 0.05))',borderRadius:'16px',padding:'1.5rem',border:'2px solid rgba(168, 85, 247, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'12px',marginBottom:'0.5rem',textTransform:'uppercase',fontWeight:'700'},children:\"Your Tier\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'28px',fontWeight:'900',color:'#A855F7',textTransform:'capitalize'},children:tier==='golden'?'ðŸ† Golden':'ðŸŽ¯ Standard'}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px',fontWeight:'600'},children:[tier==='golden'?'50%':'20%',\" commission rate\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(255, 107, 157, 0.1), rgba(255, 107, 157, 0.05))',borderRadius:'16px',padding:'1.5rem',border:'2px solid rgba(255, 107, 157, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'12px',marginBottom:'0.5rem',textTransform:'uppercase',fontWeight:'700'},children:\"Projected Monthly\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'36px',fontWeight:'900',color:'#FF6B9D'},children:[\"\\xA3\",(monthEarnings*1.2).toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'12px',fontWeight:'600'},children:\"Based on current activity\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.5rem',border:'1px solid rgba(0, 240, 255, 0.3)',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'18px',fontWeight:'900',margin:0},children:\"\\uD83D\\uDCCA Lifetime Earnings Graph\"}),/*#__PURE__*/_jsxs(\"select\",{value:chartPeriod,onChange:e=>setChartPeriod(e.target.value),style:{padding:'0.5rem 1rem',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#00F0FF',fontSize:'12px',fontWeight:'700',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Weekly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"Monthly\"})]})]}),/*#__PURE__*/_jsx(Line,{data:getEarningsChartData(),options:{responsive:true,plugins:{legend:{display:false},tooltip:{backgroundColor:'rgba(0, 0, 0, 0.8)',titleColor:'#00F0FF',bodyColor:'#fff',borderColor:'#00F0FF',borderWidth:1}},scales:{x:{grid:{color:'rgba(255, 255, 255, 0.05)'},ticks:{color:'#888'}},y:{grid:{color:'rgba(255, 255, 255, 0.05)'},ticks:{color:'#888'}}}}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.5rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'18px',fontWeight:'900',marginBottom:'1rem'},children:\"\\uD83D\\uDCCB Commission Breakdown by Fee Type\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'0.75rem'},children:(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ea3=comprehensiveData.earnings_by_stream)===null||_comprehensiveData$ea3===void 0?void 0:_comprehensiveData$ea3.slice(0,5).map((stream,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'12px',border:'1px solid rgba(0, 240, 255, 0.2)'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'700',fontSize:'14px',textTransform:'capitalize'},children:stream.stream.replace('_',' ')}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px'},children:[stream.count,\" transactions\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'900',fontSize:'18px'},children:[\"\\xA3\",stream.amount.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00F0FF',fontSize:'11px'},children:[stream.percentage.toFixed(1),\"%\"]})]})]},idx)))||/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',textAlign:'center',padding:'2rem'},children:\"No commission data yet\"})})]})]}),activeTab==='links'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'2rem',border:'2px solid rgba(0, 240, 255, 0.3)',marginBottom:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'20px',fontWeight:'900',marginBottom:'1.5rem'},children:\"\\uD83D\\uDD17 Your Referral QR Code\"}),qrCodeUrl&&/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-block',padding:'1rem',background:'#fff',borderRadius:'12px',boxShadow:'0 8px 32px rgba(0, 240, 255, 0.4)'},children:/*#__PURE__*/_jsx(\"img\",{src:qrCodeUrl,alt:\"QR Code\",style:{width:'200px',height:'200px'}})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',marginTop:'1rem',fontSize:'13px'},children:\"Scan this QR code to join via your referral link\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.5rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'18px',fontWeight:'900',marginBottom:'1rem'},children:\"\\uD83D\\uDD17 Your Referral Links\"}),(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ne=comprehensiveData.newReferralLinks)===null||_comprehensiveData$ne===void 0?void 0:_comprehensiveData$ne.is_golden_referrer)&&/*#__PURE__*/_jsx(\"div\",{style:{display:'inline-flex',alignItems:'center',gap:'0.5rem',background:'linear-gradient(135deg, #FFD700 0%, #FFA500 100%)',padding:'0.5rem 1rem',borderRadius:'6px',marginBottom:'1rem',fontWeight:'800',color:'#000',fontSize:'12px',boxShadow:'0 2px 8px rgba(255, 215, 0, 0.3)'},children:\"\\u2B50 Golden Referrer Active\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:comprehensiveData!==null&&comprehensiveData!==void 0&&(_comprehensiveData$ne2=comprehensiveData.newReferralLinks)!==null&&_comprehensiveData$ne2!==void 0&&_comprehensiveData$ne2.golden?'1.5rem':'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#888',textTransform:'uppercase',fontWeight:'700'},children:\"Standard Referral Link\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#00FF88',fontWeight:'700',background:'rgba(0, 255, 136, 0.1)',padding:'4px 8px',borderRadius:'4px'},children:\"20% Commission\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',background:'rgba(0, 0, 0, 0.3)',padding:'0.75rem',borderRadius:'8px',border:'1px solid rgba(0, 240, 255, 0.2)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,color:'#00F0FF',fontSize:'11px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ne3=comprehensiveData.newReferralLinks)===null||_comprehensiveData$ne3===void 0?void 0:(_comprehensiveData$ne4=_comprehensiveData$ne3.standard)===null||_comprehensiveData$ne4===void 0?void 0:_comprehensiveData$ne4.link)||(comprehensiveData===null||comprehensiveData===void 0?void 0:comprehensiveData.referral_link)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _comprehensiveData$ne5,_comprehensiveData$ne6;return copyToClipboard((comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ne5=comprehensiveData.newReferralLinks)===null||_comprehensiveData$ne5===void 0?void 0:(_comprehensiveData$ne6=_comprehensiveData$ne5.standard)===null||_comprehensiveData$ne6===void 0?void 0:_comprehensiveData$ne6.link)||(comprehensiveData===null||comprehensiveData===void 0?void 0:comprehensiveData.referral_link),'StandardLink');},style:{padding:'8px 16px',background:copySuccess==='StandardLink'?'#00FF88':'rgba(0, 240, 255, 0.2)',border:'none',borderRadius:'6px',color:copySuccess==='StandardLink'?'#000':'#00F0FF',cursor:'pointer',fontSize:'12px',fontWeight:'600'},children:copySuccess==='StandardLink'?'âœ“':'Copy'})]})]}),(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ne7=comprehensiveData.newReferralLinks)===null||_comprehensiveData$ne7===void 0?void 0:_comprehensiveData$ne7.golden)&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',padding:'1rem',background:'linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 165, 0, 0.05) 100%)',borderRadius:'12px',border:'2px solid rgba(255, 215, 0, 0.3)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#FFD700',textTransform:'uppercase',fontWeight:'900'},children:\"\\u2B50 GOLDEN VIP LINK (Exclusive)\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#FFD700',fontWeight:'900',background:'rgba(255, 215, 0, 0.2)',padding:'4px 8px',borderRadius:'4px'},children:\"50% Commission\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',background:'rgba(0, 0, 0, 0.5)',padding:'0.75rem',borderRadius:'8px',border:'1px solid rgba(255, 215, 0, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,color:'#FFD700',fontSize:'11px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'},children:comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ne8=comprehensiveData.newReferralLinks)===null||_comprehensiveData$ne8===void 0?void 0:(_comprehensiveData$ne9=_comprehensiveData$ne8.golden)===null||_comprehensiveData$ne9===void 0?void 0:_comprehensiveData$ne9.link}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _comprehensiveData$ne0,_comprehensiveData$ne1;return copyToClipboard(comprehensiveData===null||comprehensiveData===void 0?void 0:(_comprehensiveData$ne0=comprehensiveData.newReferralLinks)===null||_comprehensiveData$ne0===void 0?void 0:(_comprehensiveData$ne1=_comprehensiveData$ne0.golden)===null||_comprehensiveData$ne1===void 0?void 0:_comprehensiveData$ne1.link,'GoldenLink');},style:{padding:'8px 16px',background:copySuccess==='GoldenLink'?'#FFD700':'rgba(255, 215, 0, 0.2)',border:'none',borderRadius:'6px',color:copySuccess==='GoldenLink'?'#000':'#FFD700',cursor:'pointer',fontSize:'12px',fontWeight:'900'},children:copySuccess==='GoldenLink'?'âœ“':'Copy'})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#FFD700',fontSize:'11px',marginTop:'0.5rem',fontStyle:'italic'},children:\"Share this with VIP partners for 50% lifetime commission on their trades!\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#888',marginBottom:'0.75rem',textTransform:'uppercase',fontWeight:'700'},children:\"Share Via\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.75rem',justifyContent:'center'},children:[{platform:'whatsapp',color:'#25D366',icon:/*#__PURE__*/_jsx(IoLogoWhatsapp,{size:24})},{platform:'telegram',color:'#0088cc',label:'âœˆï¸'},{platform:'twitter',color:'#1DA1F2',icon:/*#__PURE__*/_jsx(IoLogoTwitter,{size:24})},{platform:'facebook',color:'#1877F2',icon:/*#__PURE__*/_jsx(IoLogoFacebook,{size:24})}].map(_ref=>{let{platform,color,icon,label}=_ref;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia(platform),style:{width:'60px',height:'60px',borderRadius:'12px',background:color,border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',fontSize:label?'24px':'inherit',fontWeight:'700',boxShadow:\"0 4px 12px \".concat(color,\"40\")},children:icon||label},platform);})})]})]})]}),activeTab==='earnings'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'2rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'24px',fontWeight:'900',marginBottom:'1.5rem',display:'flex',alignItems:'center',gap:'12px'},children:\"\\uD83D\\uDCB0 Detailed Earnings History\"}),comprehensiveData!==null&&comprehensiveData!==void 0&&comprehensiveData.commissions&&comprehensiveData.commissions.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:comprehensiveData.commissions.map((commission,idx)=>{var _commission$fee_type,_commission$commissio;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'16px',background:'rgba(0, 0, 0, 0.3)',borderRadius:'12px',border:'1px solid rgba(0, 240, 255, 0.2)'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'700',fontSize:'14px'},children:((_commission$fee_type=commission.fee_type)===null||_commission$fee_type===void 0?void 0:_commission$fee_type.replace('_',' ').toUpperCase())||'Commission'}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'12px'},children:new Date(commission.created_at).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric',hour:'2-digit',minute:'2-digit'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'900',fontSize:'20px'},children:[\"+\\xA3\",((_commission$commissio=commission.commission_amount)===null||_commission$commissio===void 0?void 0:_commission$commissio.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00F0FF',fontSize:'11px'},children:[commission.commission_rate,\"% rate\"]})]})]},idx);})}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#888'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'1rem'},children:\"\\uD83D\\uDCB8\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px'},children:\"No earnings yet\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',marginTop:'8px'},children:\"Share your referral link to start earning commissions!\"})]})]}),activeTab==='activity'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'2rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'24px',fontWeight:'900',marginBottom:'1.5rem',display:'flex',alignItems:'center',gap:'12px'},children:\"\\uD83D\\uDCCA Referral Activity Timeline\"}),comprehensiveData!==null&&comprehensiveData!==void 0&&comprehensiveData.recent_referrals&&comprehensiveData.recent_referrals.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:comprehensiveData.recent_referrals.map((ref,idx)=>{var _ref$referred_usernam;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'16px',background:'rgba(0, 0, 0, 0.3)',borderRadius:'12px',border:'1px solid rgba(0, 240, 255, 0.2)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',background:'linear-gradient(135deg, #00F0FF, #A855F7)',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:'900',color:'#000'},children:((_ref$referred_usernam=ref.referred_username)===null||_ref$referred_usernam===void 0?void 0:_ref$referred_usernam.charAt(0).toUpperCase())||'?'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'700',fontSize:'14px'},children:ref.referred_username||'New User'}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px'},children:[\"Joined \",new Date(ref.referred_at).toLocaleDateString('en-GB',{day:'2-digit',month:'short',year:'numeric'})]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'6px 12px',background:ref.status==='active'?'rgba(0, 255, 136, 0.2)':'rgba(255, 215, 0, 0.2)',border:\"1px solid \".concat(ref.status==='active'?'#00FF88':'#FFD700'),borderRadius:'20px',color:ref.status==='active'?'#00FF88':'#FFD700',fontSize:'11px',fontWeight:'700',textTransform:'uppercase'},children:ref.status||'Pending'})]},idx);})}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#888'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'1rem'},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px'},children:\"No activity yet\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',marginTop:'8px'},children:\"Your referral activity will appear here once people join using your link\"})]})]}),activeTab==='leaderboard'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'2rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',fontSize:'24px',fontWeight:'900',marginBottom:'1.5rem',display:'flex',alignItems:'center',gap:'12px'},children:\"\\uD83C\\uDFC6 Top Referrers This Month\"}),comprehensiveData!==null&&comprehensiveData!==void 0&&comprehensiveData.leaderboard&&comprehensiveData.leaderboard.length>0?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:comprehensiveData.leaderboard.slice(0,10).map((leader,idx)=>{var _leader$total_earning;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'16px',background:idx===0?'linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 215, 0, 0.05))':idx===1?'linear-gradient(135deg, rgba(192, 192, 192, 0.15), rgba(192, 192, 192, 0.05))':idx===2?'linear-gradient(135deg, rgba(205, 127, 50, 0.15), rgba(205, 127, 50, 0.05))':'rgba(0, 0, 0, 0.3)',borderRadius:'12px',border:\"2px solid \".concat(idx===0?'#FFD700':idx===1?'#C0C0C0':idx===2?'#CD7F32':'rgba(0, 240, 255, 0.2)')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{width:'36px',height:'36px',borderRadius:'50%',background:idx===0?'linear-gradient(135deg, #FFD700, #FFA500)':idx===1?'linear-gradient(135deg, #C0C0C0, #808080)':idx===2?'linear-gradient(135deg, #CD7F32, #8B4513)':'linear-gradient(135deg, #00F0FF, #A855F7)',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:'900',color:'#000',fontSize:'16px'},children:[\"#\",idx+1]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'700',fontSize:'14px'},children:leader.username||\"User \".concat(idx+1)}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px'},children:[leader.referral_count||0,\" referrals\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'900',fontSize:'18px'},children:[\"\\xA3\",((_leader$total_earning=leader.total_earnings)===null||_leader$total_earning===void 0?void 0:_leader$total_earning.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#00F0FF',fontSize:'11px'},children:\"Total earned\"})]})]},idx);})}):/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#888'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'1rem'},children:\"\\uD83D\\uDC51\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px'},children:\"Leaderboard loading...\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',marginTop:'8px'},children:\"Top referrers will be displayed here\"})]})]})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}