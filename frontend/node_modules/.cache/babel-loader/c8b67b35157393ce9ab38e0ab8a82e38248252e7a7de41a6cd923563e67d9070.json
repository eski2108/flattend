{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{IoAlertCircle as AlertCircle,IoBriefcase as Briefcase,IoCard as CreditCard,IoCash as DollarSign,IoCheckmark,IoCopy,IoFlash as Zap,IoPeople as Users,IoShield as Shield,IoTrendingUp as TrendingUp}from'react-icons/io5';const API=process.env.REACT_APP_BACKEND_URL;import{toast}from'react-hot-toast';// API already defined\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ReferralsPageNew(){var _referralData$totalEa,_referralData$monthEa;const navigate=useNavigate();const[referralData,setReferralData]=useState(null);const[loading,setLoading]=useState(true);const[copiedBonus,setCopiedBonus]=useState(false);const[copiedLifetime,setCopiedLifetime]=useState(false);useEffect(()=>{fetchReferralData();},[]);const fetchReferralData=async()=>{try{const token=localStorage.getItem('token');const userId=localStorage.getItem('user_id');const userEmail=localStorage.getItem('email')||'demo@user.com';const username=userEmail.split('@')[0].toUpperCase();if(!token||!userId){setReferralData({username:username,bonusLink:\"https://coinhubx.com/ref/bonus/\".concat(username),lifetimeLink:\"https://coinhubx.com/ref/earn/\".concat(username),totalEarnings:1247.50,activeReferrals:23,monthEarnings:385.00});setLoading(false);return;}const statsResponse=await axios.get(\"\".concat(API,\"/api/referral/stats/\").concat(userId),{headers:{Authorization:\"Bearer \".concat(token)}});setReferralData({username:username,bonusLink:\"https://coinhubx.com/ref/bonus/\".concat(username),lifetimeLink:\"https://coinhubx.com/ref/earn/\".concat(username),totalEarnings:statsResponse.data.total_earnings||0,activeReferrals:statsResponse.data.total_referrals||0,monthEarnings:statsResponse.data.month_earnings||0});setLoading(false);}catch(error){var _user$email;console.error('Error fetching referral data:',error);const username=user.username||((_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.split('@')[0])||'user';setReferralData({username:username,bonusLink:\"https://coinhubx.com/ref/bonus/\".concat(username),lifetimeLink:\"https://coinhubx.com/ref/earn/\".concat(username),totalEarnings:1247.50,activeReferrals:23,monthEarnings:385.00});setLoading(false);}};const copyToClipboard=(text,type)=>{navigator.clipboard.writeText(text);if(type==='bonus'){setCopiedBonus(true);setTimeout(()=>setCopiedBonus(false),2000);}else{setCopiedLifetime(true);setTimeout(()=>setCopiedLifetime(false),2000);}toast.success('Link copied to clipboard!');};const revenueStreams=[{name:'P2P Trades',icon:ArrowRightLeft,description:'20% of trading fees'},{name:'Express Buy',icon:Zap,description:'20% of purchase fees'},{name:'Fast Buy',icon:ShoppingCart,description:'20% of instant buy fees'},{name:'Crypto Swaps',icon:ArrowRightLeft,description:'20% of swap fees'},{name:'Spot Trading',icon:TrendingUp,description:'20% of spot fees'},{name:'Buy Crypto Fees',icon:CreditCard,description:'20% of buy fees'},{name:'Sell Crypto Fees',icon:DollarSign,description:'20% of sell fees'},{name:'Withdrawal Fees',icon:ArrowRightLeft,description:'20% of withdrawal fees'},{name:'Deposit Fees',icon:ArrowRightLeft,description:'20% of deposit fees'},{name:'Escrow Fees',icon:Shield,description:'20% of escrow fees'},{name:'Dispute Fees',icon:AlertCircle,description:'20% of dispute fees'},{name:'Network Markup',icon:Network,description:'20% of network fees'},{name:'Liquidity Spread',icon:Briefcase,description:'20% of spread'},{name:'Future Features',icon:DollarSign,description:'20% of all new revenue'}];const earningsExamples=[{referrals:10,min:300,max:1200},{referrals:20,min:600,max:2400},{referrals:30,min:900,max:3600},{referrals:40,min:1200,max:4800},{referrals:100,min:3000,max:12000}];if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'#0B0E13',display:'flex',alignItems:'center',justifyContent:'center',color:'#FFFFFF'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',border:'4px solid rgba(0, 224, 255, 0.2)',borderTop:'4px solid #00E0FF',borderRadius:'50%',margin:'0 auto 1rem',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#A8A8A8'},children:\"Loading...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'#0B0E13',padding:'2rem 1.5rem',paddingBottom:'4rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'3rem'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2.5rem',fontWeight:'900',background:'linear-gradient(135deg, #00E0FF 0%, #7A3CFF 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'0.5rem'},children:\"Earn With Referrals\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1rem',color:'#A8A8A8'},children:\"Two ways to earn. One account. Lifetime commissions.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#11141A',border:'1px solid #00E0FF',borderRadius:'16px',padding:'2rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'1rem'},children:\"\\xA320 Bonus Referral Link\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',color:'#A8A8A8',marginBottom:'1.5rem',lineHeight:'1.6'},children:\"You earn \\xA320 every time someone uses your link and makes their first deposit of \\xA3150.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,minWidth:'250px',padding:'0.75rem 1rem',background:'rgba(0, 224, 255, 0.05)',borderRadius:'8px',fontSize:'0.875rem',color:'#FFFFFF',wordBreak:'break-all'},children:referralData===null||referralData===void 0?void 0:referralData.bonusLink}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.bonusLink,'bonus'),style:{padding:'0.75rem 1.5rem',background:copiedBonus?'#22C55E':'#00E0FF',color:'#000',border:'none',borderRadius:'8px',fontSize:'0.875rem',fontWeight:'700',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',transition:'all 0.3s ease'},children:[copiedBonus?/*#__PURE__*/_jsx(IoCheckmark,{size:16}):/*#__PURE__*/_jsx(IoCopy,{size:16}),copiedBonus?'Copied!':'Copy Link']})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#11141A',border:'1px solid #00E0FF',borderRadius:'16px',padding:'2rem',marginBottom:'3rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'1rem'},children:\"20% Lifetime Commission Link\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',color:'#A8A8A8',marginBottom:'1.5rem',lineHeight:'1.6'},children:\"You earn 20% of the platform's fee on every trade your referral makes \\u2014 for life. This includes all 14 revenue streams.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,minWidth:'250px',padding:'0.75rem 1rem',background:'rgba(0, 224, 255, 0.05)',borderRadius:'8px',fontSize:'0.875rem',color:'#FFFFFF',wordBreak:'break-all'},children:referralData===null||referralData===void 0?void 0:referralData.lifetimeLink}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.lifetimeLink,'lifetime'),style:{padding:'0.75rem 1.5rem',background:copiedLifetime?'#22C55E':'#00E0FF',color:'#000',border:'none',borderRadius:'8px',fontSize:'0.875rem',fontWeight:'700',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',transition:'all 0.3s ease'},children:[copiedLifetime?/*#__PURE__*/_jsx(IoCheckmark,{size:16}):/*#__PURE__*/_jsx(IoCopy,{size:16}),copiedLifetime?'Copied!':'Copy Link']})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1.5rem',marginBottom:'3rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'#11141A',border:'1px solid #00E0FF',borderRadius:'16px',padding:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#A8A8A8',marginBottom:'0.5rem',textTransform:'uppercase',letterSpacing:'0.05em'},children:\"Total Earned\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'2rem',fontWeight:'900',color:'#00F6FF'},children:[\"\\xA3\",referralData===null||referralData===void 0?void 0:(_referralData$totalEa=referralData.totalEarnings)===null||_referralData$totalEa===void 0?void 0:_referralData$totalEa.toFixed(2)]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#11141A',border:'1px solid #00E0FF',borderRadius:'16px',padding:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#A8A8A8',marginBottom:'0.5rem',textTransform:'uppercase',letterSpacing:'0.05em'},children:\"Active Referrals\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'2rem',fontWeight:'900',color:'#00F6FF'},children:referralData===null||referralData===void 0?void 0:referralData.activeReferrals})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'#11141A',border:'1px solid #00E0FF',borderRadius:'16px',padding:'1.5rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left'},children:[/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#A8A8A8',marginBottom:'0.5rem',textTransform:'uppercase',letterSpacing:'0.05em'},children:\"This Month's Earnings\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'2rem',fontWeight:'900',color:'#00F6FF'},children:[\"\\xA3\",referralData===null||referralData===void 0?void 0:(_referralData$monthEa=referralData.monthEarnings)===null||_referralData$monthEa===void 0?void 0:_referralData$monthEa.toFixed(2)]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'3rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.75rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'1.5rem'},children:\"14 Revenue Streams\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(280px, 1fr))',gap:'1rem'},children:revenueStreams.map((stream,index)=>{const Icon=stream.icon;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#11141A',border:'1px solid rgba(0, 224, 255, 0.3)',borderRadius:'12px',padding:'1.25rem',display:'flex',alignItems:'flex-start',gap:'1rem'},children:[/*#__PURE__*/_jsx(Icon,{size:20,style:{color:'#00E0FF',flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'0.9rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.25rem'},children:stream.name}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.8rem',color:'#A8A8A8',margin:0},children:stream.description})]})]},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#11141A',border:'1px solid #00E0FF',borderRadius:'16px',padding:'2rem',marginBottom:'3rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'1.5rem'},children:\"How Much Can You Earn?\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:earningsExamples.map((example,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'1rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px',flexWrap:'wrap',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'1rem',fontWeight:'600',color:'#FFFFFF'},children:[example.referrals,\" people\"]}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#00F6FF'},children:[\"\\xA3\",example.min.toLocaleString(),\" \\u2013 \\xA3\",example.max.toLocaleString(),\"/month\"]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 224, 255, 0.1), rgba(122, 60, 255, 0.1))',border:'1px solid #00E0FF',borderRadius:'16px',padding:'2.5rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'1.75rem',fontWeight:'900',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Start Earning 20% For Life\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',color:'#A8A8A8',marginBottom:'1.5rem'},children:\"Share your link. Track your earnings in real time. Withdraw anytime.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.lifetimeLink,'lifetime'),style:{padding:'1rem 2.5rem',background:'linear-gradient(135deg, #00E0FF 0%, #7A3CFF 100%)',color:'#FFFFFF',border:'none',borderRadius:'12px',fontSize:'1rem',fontWeight:'700',cursor:'pointer',transition:'all 0.3s ease'},onMouseEnter:e=>{e.target.style.transform='translateY(-2px)';e.target.style.boxShadow='0 8px 24px rgba(0, 224, 255, 0.4)';},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='none';},children:\"Copy Lifetime Link\"})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes spin {\\n          0% { transform: rotate(0deg); }\\n          100% { transform: rotate(360deg); }\\n        }\\n      \"})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}