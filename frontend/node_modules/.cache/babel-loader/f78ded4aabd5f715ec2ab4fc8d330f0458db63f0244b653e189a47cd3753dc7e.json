{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import Layout from'@/components/Layout';import{Button}from'@/components/ui/button';import{Card}from'@/components/ui/card';import{IoAlertCircle,IoCamera as Camera,IoCheckmark as Check,IoCheckmarkCircle,IoClose as X,IoCloseCircle,IoCloudUpload,IoDocument,IoLocation,IoTime}from'react-icons/io5';import axios from'axios';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=BACKEND_URL;export default function KYCVerification(){const navigate=useNavigate();const[user,setUser]=useState(null);const[kycStatus,setKycStatus]=useState(null);const[loading,setLoading]=useState(true);const[submitting,setSubmitting]=useState(false);// Form states\nconst[step,setStep]=useState(1);const[formData,setFormData]=useState({full_name:'',date_of_birth:'',nationality:'',address:'',city:'',postal_code:'',country:'',id_type:'passport',id_number:''});// Document states\nconst[documentFront,setDocumentFront]=useState(null);const[documentBack,setDocumentBack]=useState(null);const[selfie,setSelfie]=useState(null);const[proofOfAddress,setProofOfAddress]=useState(null);useEffect(()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/login');return;}const parsedUser=JSON.parse(userData);setUser(parsedUser);fetchKYCStatus(parsedUser.user_id);},[navigate]);const fetchKYCStatus=async userId=>{try{const response=await axios.get(\"\".concat(API,\"/api/kyc/status/\").concat(userId));setKycStatus(response.data);}catch(error){console.error('Error fetching KYC status:',error);}finally{setLoading(false);}};const handleFileUpload=(file,setter)=>{if(!file)return;// Validate file size (max 5MB)\nif(file.size>5*1024*1024){toast.error('File size must be less than 5MB');return;}// Validate file type\nif(!file.type.startsWith('image/')){toast.error('Please upload an image file');return;}const reader=new FileReader();reader.onloadend=()=>{setter(reader.result);};reader.readAsDataURL(file);};const handleSubmit=async()=>{// Validation\nif(!documentFront||!selfie){toast.error('Please upload required documents: ID front and selfie');return;}if(formData.id_type==='drivers_license'&&!documentBack){toast.error('Please upload the back of your driver\\'s license');return;}if(!formData.full_name||!formData.date_of_birth||!formData.address){toast.error('Please fill in all required fields');return;}setSubmitting(true);try{const response=await axios.post(\"\".concat(API,\"/api/kyc/submit\"),_objectSpread(_objectSpread({user_id:user.user_id},formData),{},{document_front:documentFront,document_back:documentBack,selfie:selfie,proof_of_address:proofOfAddress}));if(response.data.success){toast.success('KYC submitted successfully! We\\'ll review your documents within 24-48 hours.');await fetchKYCStatus(user.user_id);setStep(1);}}catch(error){var _error$response,_error$response$data;console.error('Error submitting KYC:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to submit KYC');}finally{setSubmitting(false);}};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem',textAlign:'center',color:'#fff'},children:\"Loading...\"})});}// If KYC is already verified\nif(kycStatus!==null&&kycStatus!==void 0&&kycStatus.kyc_verified){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem',maxWidth:'900px',margin:'0 auto'},children:/*#__PURE__*/_jsxs(Card,{style:{background:'linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(5, 150, 105, 0.1))',border:'2px solid rgba(16, 185, 129, 0.3)',borderRadius:'16px',padding:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:64,color:\"#10B981\",style:{margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'800',color:'#fff',marginBottom:'1rem'},children:\"KYC Verified!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'1.5rem'},children:\"Your account has been successfully verified.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginTop:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'1rem',borderRadius:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)',marginBottom:'0.5rem'},children:\"Verification Tier\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'700',color:'#10B981'},children:[\"Tier \",kycStatus.kyc_tier||1]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'1rem',borderRadius:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)',marginBottom:'0.5rem'},children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'700',color:'#10B981'},children:\"Verified\"})]})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/dashboard'),style:{marginTop:'2rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',padding:'1rem 2rem'},children:\"Go to Dashboard\"})]})})});}// If KYC is pending\nif((kycStatus===null||kycStatus===void 0?void 0:kycStatus.kyc_status)==='pending'){var _kycStatus$verificati;return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem',maxWidth:'900px',margin:'0 auto'},children:/*#__PURE__*/_jsxs(Card,{style:{background:'linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1))',border:'2px solid rgba(251, 191, 36, 0.3)',borderRadius:'16px',padding:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(IoTime,{size:64,color:\"#FBB F24\",style:{margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'800',color:'#fff',marginBottom:'1rem'},children:\"KYC Under Review\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'1.5rem'},children:\"Your KYC documents are currently being reviewed by our team. We'll notify you once the verification is complete (typically within 24-48 hours).\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'1.5rem',borderRadius:'12px',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)',marginBottom:'0.5rem'},children:\"Submitted On\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'600',color:'#fff'},children:(_kycStatus$verificati=kycStatus.verification_details)!==null&&_kycStatus$verificati!==void 0&&_kycStatus$verificati.submitted_at?new Date(kycStatus.verification_details.submitted_at).toLocaleString():'Recently'})]})]})})});}// If KYC is rejected\nif((kycStatus===null||kycStatus===void 0?void 0:kycStatus.kyc_status)==='rejected'){var _kycStatus$verificati2;return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'2rem',maxWidth:'900px',margin:'0 auto'},children:/*#__PURE__*/_jsxs(Card,{style:{background:'linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.1))',border:'2px solid rgba(239, 68, 68, 0.3)',borderRadius:'16px',padding:'2rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(IoCloseCircle,{size:64,color:\"#EF4444\",style:{margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'800',color:'#fff',marginBottom:'1rem'},children:\"KYC Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'18px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'1.5rem'},children:\"Unfortunately, your KYC verification was not approved.\"}),((_kycStatus$verificati2=kycStatus.verification_details)===null||_kycStatus$verificati2===void 0?void 0:_kycStatus$verificati2.admin_notes)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'1.5rem',borderRadius:'12px',marginBottom:'1.5rem',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.6)',marginBottom:'0.5rem'},children:\"Reason\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',color:'#fff'},children:kycStatus.verification_details.admin_notes})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>{setKycStatus(_objectSpread(_objectSpread({},kycStatus),{},{kyc_status:'not_submitted'}));setStep(1);},style:{marginTop:'1rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',padding:'1rem 2rem'},children:\"Resubmit KYC\"})]})})});}// KYC Submission Form\nreturn/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'2rem',maxWidth:'900px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'800',color:'#fff',marginBottom:'0.5rem'},children:\"KYC Verification\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255, 255, 255, 0.7)',marginBottom:'2rem',fontSize:'16px'},children:\"Complete your identity verification to unlock full trading features\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'2rem',gap:'1rem'},children:[1,2,3].map(s=>/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',background:step>=s?'linear-gradient(135deg, #00F0FF, #A855F7)':'rgba(255, 255, 255, 0.1)',border:step===s?'2px solid #00F0FF':'none',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 0.5rem',fontSize:'18px',fontWeight:'700',color:step>=s?'#000':'rgba(255, 255, 255, 0.5)'},children:s}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:step>=s?'#00F0FF':'rgba(255, 255, 255, 0.5)',fontWeight:'600'},children:s===1?'Personal Info':s===2?'Documents':'Review'})]},s))}),/*#__PURE__*/_jsxs(Card,{style:{background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.2)',borderRadius:'16px',padding:'2rem'},children:[step===1&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'24px',fontWeight:'700',color:'#fff',marginBottom:'1.5rem'},children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.full_name,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{full_name:e.target.value})),placeholder:\"As shown on your ID\",style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"Date of Birth *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.date_of_birth,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{date_of_birth:e.target.value})),style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"Nationality *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nationality,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{nationality:e.target.value})),placeholder:\"Your nationality\",style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.address,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{address:e.target.value})),placeholder:\"Street address\",style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"City *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.city,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{city:e.target.value})),style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"Postal Code *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.postal_code,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{postal_code:e.target.value})),style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"Country *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.country,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{country:e.target.value})),style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"ID Type *\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.id_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{id_type:e.target.value})),style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"passport\",children:\"Passport\"}),/*#__PURE__*/_jsx(\"option\",{value:\"drivers_license\",children:\"Driver's License\"}),/*#__PURE__*/_jsx(\"option\",{value:\"national_id\",children:\"National ID\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.7)',marginBottom:'0.5rem',display:'block'},children:\"ID Number *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.id_number,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{id_number:e.target.value})),placeholder:\"ID number\",style:{width:'100%',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px'}})]})]})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>setStep(2),style:{width:'100%',marginTop:'2rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',padding:'1rem'},children:\"Continue to Documents\"})]}),step===2&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'24px',fontWeight:'700',color:'#fff',marginBottom:'1.5rem'},children:\"Upload Documents\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:'16px',fontWeight:'600',color:'#fff',marginBottom:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoDocument,{size:20}),\"ID Document (Front) *\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'2px dashed rgba(0, 240, 255, 0.3)',borderRadius:'12px',padding:'2rem',textAlign:'center',background:documentFront?'rgba(16, 185, 129, 0.1)':'rgba(0, 0, 0, 0.2)',cursor:'pointer'},onClick:()=>document.getElementById('documentFront').click(),children:[/*#__PURE__*/_jsx(\"input\",{id:\"documentFront\",type:\"file\",accept:\"image/*\",onChange:e=>handleFileUpload(e.target.files[0],setDocumentFront),style:{display:'none'}}),documentFront?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:32,color:\"#10B981\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#10B981',fontWeight:'600'},children:\"Document uploaded\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:32,color:\"#00F0FF\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#00F0FF',fontWeight:'600',marginBottom:'0.25rem'},children:\"Click to upload\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.5)'},children:\"Max 5MB (JPG, PNG)\"})]})]})]}),formData.id_type==='drivers_license'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:'16px',fontWeight:'600',color:'#fff',marginBottom:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoDocument,{size:20}),\"ID Document (Back) *\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'2px dashed rgba(0, 240, 255, 0.3)',borderRadius:'12px',padding:'2rem',textAlign:'center',background:documentBack?'rgba(16, 185, 129, 0.1)':'rgba(0, 0, 0, 0.2)',cursor:'pointer'},onClick:()=>document.getElementById('documentBack').click(),children:[/*#__PURE__*/_jsx(\"input\",{id:\"documentBack\",type:\"file\",accept:\"image/*\",onChange:e=>handleFileUpload(e.target.files[0],setDocumentBack),style:{display:'none'}}),documentBack?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:32,color:\"#10B981\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#10B981',fontWeight:'600'},children:\"Document uploaded\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:32,color:\"#00F0FF\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#00F0FF',fontWeight:'600',marginBottom:'0.25rem'},children:\"Click to upload\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.5)'},children:\"Max 5MB (JPG, PNG)\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:'16px',fontWeight:'600',color:'#fff',marginBottom:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Camera,{size:20}),\"Selfie with ID *\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'2px dashed rgba(0, 240, 255, 0.3)',borderRadius:'12px',padding:'2rem',textAlign:'center',background:selfie?'rgba(16, 185, 129, 0.1)':'rgba(0, 0, 0, 0.2)',cursor:'pointer'},onClick:()=>document.getElementById('selfie').click(),children:[/*#__PURE__*/_jsx(\"input\",{id:\"selfie\",type:\"file\",accept:\"image/*\",onChange:e=>handleFileUpload(e.target.files[0],setSelfie),style:{display:'none'}}),selfie?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:32,color:\"#10B981\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#10B981',fontWeight:'600'},children:\"Selfie uploaded\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:32,color:\"#00F0FF\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#00F0FF',fontWeight:'600',marginBottom:'0.25rem'},children:\"Click to upload\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.5)'},children:\"Take a selfie holding your ID next to your face\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{fontSize:'16px',fontWeight:'600',color:'#fff',marginBottom:'0.75rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoLocation,{size:20}),\"Proof of Address (Optional)\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:'2px dashed rgba(0, 240, 255, 0.3)',borderRadius:'12px',padding:'2rem',textAlign:'center',background:proofOfAddress?'rgba(16, 185, 129, 0.1)':'rgba(0, 0, 0, 0.2)',cursor:'pointer'},onClick:()=>document.getElementById('proofOfAddress').click(),children:[/*#__PURE__*/_jsx(\"input\",{id:\"proofOfAddress\",type:\"file\",accept:\"image/*\",onChange:e=>handleFileUpload(e.target.files[0],setProofOfAddress),style:{display:'none'}}),proofOfAddress?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:32,color:\"#10B981\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#10B981',fontWeight:'600'},children:\"Document uploaded\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:32,color:\"rgba(0, 240, 255, 0.5)\",style:{margin:'0 auto 0.5rem'}}),/*#__PURE__*/_jsx(\"div\",{style:{color:'rgba(0, 240, 255, 0.7)',fontWeight:'600',marginBottom:'0.25rem'},children:\"Click to upload\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'rgba(255, 255, 255, 0.5)'},children:\"Utility bill, bank statement (within 3 months)\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setStep(1),style:{flex:1,background:'transparent',border:'1px solid rgba(255, 255, 255, 0.3)',padding:'1rem'},children:\"Back\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setStep(3),style:{flex:1,background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',padding:'1rem'},children:\"Review & Submit\"})]})]}),step===3&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'24px',fontWeight:'700',color:'#fff',marginBottom:'1.5rem'},children:\"Review Your Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'1.5rem',borderRadius:'12px',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'16px',fontWeight:'600',color:'#00F0FF',marginBottom:'1rem'},children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'0.5rem',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)'},children:\"Name:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:formData.full_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)'},children:\"Date of Birth:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:formData.date_of_birth})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)'},children:\"Nationality:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:formData.nationality})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)'},children:\"Address:\"}),\" \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#fff'},children:[formData.address,\", \",formData.city,\", \",formData.postal_code,\", \",formData.country]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)'},children:\"ID Type:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:formData.id_type})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)'},children:\"ID Number:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:formData.id_number})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'1.5rem',borderRadius:'12px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'16px',fontWeight:'600',color:'#00F0FF',marginBottom:'1rem'},children:\"Documents Uploaded\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:'0.5rem',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[documentFront?/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,color:\"#10B981\"}):/*#__PURE__*/_jsx(IoCloseCircle,{size:18,color:\"#EF4444\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:\"ID Document (Front)\"})]}),formData.id_type==='drivers_license'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[documentBack?/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,color:\"#10B981\"}):/*#__PURE__*/_jsx(IoCloseCircle,{size:18,color:\"#EF4444\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:\"ID Document (Back)\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[selfie?/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,color:\"#10B981\"}):/*#__PURE__*/_jsx(IoCloseCircle,{size:18,color:\"#EF4444\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:\"Selfie with ID\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[proofOfAddress?/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,color:\"#10B981\"}):/*#__PURE__*/_jsx(IoAlertCircle,{size:18,color:\"#FBB F24\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:\"Proof of Address (Optional)\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(251, 191, 36, 0.1)',border:'1px solid rgba(251, 191, 36, 0.3)',borderRadius:'12px',padding:'1rem',marginBottom:'1.5rem',display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:20,color:\"#FBB F24\",style:{flexShrink:0,marginTop:'0.125rem'}}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'rgba(255, 255, 255, 0.9)'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Important:\"}),\" Ensure all documents are clear and legible. Verification typically takes 24-48 hours. You'll be notified once complete.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setStep(2),style:{flex:1,background:'transparent',border:'1px solid rgba(255, 255, 255, 0.3)',padding:'1rem'},children:\"Back\"}),/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,disabled:submitting,style:{flex:1,background:submitting?'rgba(0, 240, 255, 0.3)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',padding:'1rem',opacity:submitting?0.6:1},children:submitting?'Submitting...':'Submit KYC'})]})]})]})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}