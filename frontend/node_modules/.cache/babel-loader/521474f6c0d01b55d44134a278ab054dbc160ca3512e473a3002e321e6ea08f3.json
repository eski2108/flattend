{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{IoCheckmarkCircle,IoTime,IoTrendingUp,IoPeople,IoShield}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;/**\n * TraderStats Component\n * Fetches and displays real P2P trader statistics from backend API\n * NO MOCKS - All data from /api/trader/stats/{user_id}\n * \n * Props:\n * - userId: string (required) - The trader's user ID\n * - compact: boolean - Show compact version for cards (default: true)\n */const TraderStats=_ref=>{var _stats$thirty_day_com2,_stats$avg_release_ti2;let{userId,compact=true}=_ref;const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(false);useEffect(()=>{if(!userId){setLoading(false);setError(true);return;}const fetchStats=async()=>{try{setLoading(true);setError(false);const response=await axios.get(\"\".concat(API,\"/api/trader/stats/\").concat(userId));if(response.data.success){setStats(response.data.stats);}else{setError(true);}}catch(err){console.error('Failed to fetch trader stats:',err);setError(true);}finally{setLoading(false);}};fetchStats();},[userId]);// Loading state\nif(loading){return/*#__PURE__*/_jsx(\"div\",{style:{color:'rgba(255, 255, 255, 0.5)',fontSize:'12px',fontStyle:'italic'},children:\"Loading stats...\"});}// Error state\nif(error||!stats){return/*#__PURE__*/_jsx(\"div\",{style:{color:'rgba(255, 255, 255, 0.4)',fontSize:'12px'},children:\"Stats unavailable\"});}// Compact view for P2P marketplace cards\nif(compact){var _stats$thirty_day_com,_stats$avg_release_ti;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(IoTrendingUp,{size:14,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.9)',fontSize:'13px',fontWeight:'600'},children:stats.thirty_day_trades||0}),/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.5)',fontSize:'11px'},children:\"trades (30d)\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:14,color:stats.thirty_day_completion_rate>=95?'#22C55E':'#FFA500'}),/*#__PURE__*/_jsxs(\"span\",{style:{color:stats.thirty_day_completion_rate>=95?'#22C55E':'#FFA500',fontSize:'13px',fontWeight:'600'},children:[((_stats$thirty_day_com=stats.thirty_day_completion_rate)===null||_stats$thirty_day_com===void 0?void 0:_stats$thirty_day_com.toFixed(1))||'0.0',\"%\"]})]}),stats.avg_release_time_minutes>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(IoTime,{size:14,color:\"#8B5CF6\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'rgba(255, 255, 255, 0.9)',fontSize:'13px',fontWeight:'600'},children:[((_stats$avg_release_ti=stats.avg_release_time_minutes)===null||_stats$avg_release_ti===void 0?void 0:_stats$avg_release_ti.toFixed(0))||0,\"m\"]}),/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255, 255, 255, 0.5)',fontSize:'11px'},children:\"release\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'rgba(255, 255, 255, 0.6)',fontSize:'11px'},children:[stats.total_trades||0,\" total trades\"]}),stats.unique_counterparties>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(IoPeople,{size:12,color:\"rgba(255, 255, 255, 0.5)\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'rgba(255, 255, 255, 0.6)',fontSize:'11px'},children:[stats.unique_counterparties,\" partners\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'4px'},children:[stats.email_verified&&/*#__PURE__*/_jsx(\"div\",{title:\"Email Verified\",style:{background:'rgba(34, 197, 94, 0.15)',padding:'2px 6px',borderRadius:'4px',fontSize:'9px',color:'#22C55E',fontWeight:'600'},children:\"\\u2709\\uFE0F\"}),stats.phone_verified&&/*#__PURE__*/_jsx(\"div\",{title:\"Phone Verified\",style:{background:'rgba(59, 130, 246, 0.15)',padding:'2px 6px',borderRadius:'4px',fontSize:'9px',color:'#3B82F6',fontWeight:'600'},children:\"\\uD83D\\uDCF1\"}),stats.kyc_verified&&/*#__PURE__*/_jsxs(\"div\",{title:\"KYC Verified\",style:{background:'rgba(168, 85, 247, 0.15)',padding:'2px 6px',borderRadius:'4px',fontSize:'9px',color:'#A855F7',fontWeight:'600',display:'flex',alignItems:'center',gap:'2px'},children:[/*#__PURE__*/_jsx(IoShield,{size:10}),\"KYC\"]})]})]})]});}// Full view (for profile pages)\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'12px',padding:'16px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#fff',fontSize:'16px',fontWeight:'700',marginBottom:'16px'},children:\"Trader Statistics\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(150px, 1fr))',gap:'12px'},children:[/*#__PURE__*/_jsx(StatBox,{label:\"30-Day Trades\",value:stats.thirty_day_trades||0}),/*#__PURE__*/_jsx(StatBox,{label:\"Completion Rate\",value:\"\".concat(((_stats$thirty_day_com2=stats.thirty_day_completion_rate)===null||_stats$thirty_day_com2===void 0?void 0:_stats$thirty_day_com2.toFixed(1))||0,\"%\"),highlight:stats.thirty_day_completion_rate>=95}),/*#__PURE__*/_jsx(StatBox,{label:\"Avg Release Time\",value:stats.avg_release_time_minutes>0?\"\".concat((_stats$avg_release_ti2=stats.avg_release_time_minutes)===null||_stats$avg_release_ti2===void 0?void 0:_stats$avg_release_ti2.toFixed(0),\"m\"):'N/A'}),/*#__PURE__*/_jsx(StatBox,{label:\"Total Trades\",value:stats.total_trades||0}),/*#__PURE__*/_jsx(StatBox,{label:\"Trading Partners\",value:stats.unique_counterparties||0}),/*#__PURE__*/_jsx(StatBox,{label:\"Account Age\",value:\"\".concat(stats.account_age_days||0,\"d\")})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'16px',paddingTop:'16px',borderTop:'1px solid rgba(255, 255, 255, 0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'rgba(255, 255, 255, 0.6)',fontSize:'12px',marginBottom:'8px',fontWeight:'600'},children:\"Verification Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(VerificationBadge,{label:\"Email\",verified:stats.email_verified}),/*#__PURE__*/_jsx(VerificationBadge,{label:\"Phone\",verified:stats.phone_verified}),/*#__PURE__*/_jsx(VerificationBadge,{label:\"KYC\",verified:stats.kyc_verified}),/*#__PURE__*/_jsx(VerificationBadge,{label:\"Address\",verified:stats.address_verified})]})]})]});};// Helper component for stat boxes\nconst StatBox=_ref2=>{let{label,value,highlight=false}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.2)',padding:'12px',borderRadius:'8px',border:'1px solid rgba(255, 255, 255, 0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'rgba(255, 255, 255, 0.5)',fontSize:'11px',marginBottom:'4px',textTransform:'uppercase',fontWeight:'600'},children:label}),/*#__PURE__*/_jsx(\"div\",{style:{color:highlight?'#22C55E':'#fff',fontSize:'18px',fontWeight:'700'},children:value})]});};// Helper component for verification badges\nconst VerificationBadge=_ref3=>{let{label,verified}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'6px 12px',borderRadius:'6px',background:verified?'rgba(34, 197, 94, 0.15)':'rgba(255, 255, 255, 0.05)',border:\"1px solid \".concat(verified?'rgba(34, 197, 94, 0.3)':'rgba(255, 255, 255, 0.1)'),fontSize:'12px',fontWeight:'600',color:verified?'#22C55E':'rgba(255, 255, 255, 0.4)',display:'flex',alignItems:'center',gap:'4px'},children:[verified?'✓':'✗',\" \",label]});};export default TraderStats;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}