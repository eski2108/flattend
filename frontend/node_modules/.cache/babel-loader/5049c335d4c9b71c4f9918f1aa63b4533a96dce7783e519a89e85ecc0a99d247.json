{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{IoCalendar,IoCheckmark as Check,IoCheckmarkCircle,IoLockClosed,IoShield,IoStar,IoTrendingUp}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;export default function PublicSellerProfile(){const{sellerId}=useParams();const navigate=useNavigate();const[seller,setSeller]=useState(null);const[offers,setOffers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchSellerProfile();},[sellerId]);const fetchSellerProfile=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(BACKEND_URL,\"/api/p2p/seller/\").concat(sellerId));if(response.data.success){setSeller(response.data.seller);setOffers(response.data.offers);}else{setError(response.data.error||'Seller not found');}}catch(error){console.error('Failed to fetch seller profile:',error);setError('Failed to load seller profile');}finally{setLoading(false);}};const handleBuyNow=offerId=>{// Redirect to P2P trading page with pre-selected offer\nnavigate(\"/trading?offer=\".concat(offerId));};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0F172A 0%, #1E293B 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',border:'4px solid rgba(0, 240, 255, 0.3)',borderTop:'4px solid #00F0FF',borderRadius:'50%',margin:'0 auto 1rem',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px'},children:\"Loading seller profile...\"})]})});}if(error||!seller){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0F172A 0%, #1E293B 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(239, 68, 68, 0.3)',borderRadius:'16px',padding:'2rem',maxWidth:'500px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#EF4444',fontSize:'24px',fontWeight:'700',marginBottom:'1rem'},children:\"Seller Not Found\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',marginBottom:'1.5rem'},children:error||'The seller profile you\\'re looking for doesn\\'t exist or has been removed.'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{padding:'0.75rem 2rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'8px',color:'#000',fontWeight:'700',cursor:'pointer'},children:\"Go to Homepage\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0F172A 0%, #1E293B 100%)',padding:'2rem',color:'#fff'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto 2rem',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'32px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'0.5rem'},children:\"COIN HUB X\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px'},children:\"Verified P2P Crypto Marketplace\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/'),style:{padding:'0.75rem 1.5rem',background:'rgba(0, 240, 255, 0.2)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'8px',color:'#00F0FF',fontWeight:'600',cursor:'pointer'},children:\"Visit Platform\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.15), rgba(168, 85, 247, 0.15))',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'2rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'flex-start',gap:'1.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'80px',height:'80px',borderRadius:'50%',background:'linear-gradient(135deg, #00F0FF, #A855F7)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'36px',fontWeight:'900',color:'#000'},children:seller.username.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'28px',fontWeight:'700',color:'#00F0FF'},children:seller.username}),seller.is_verified&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.25rem 0.75rem',background:'rgba(34, 197, 94, 0.2)',border:'1px solid rgba(34, 197, 94, 0.4)',borderRadius:'6px',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoShield,{size:16,color:\"#22C55E\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#22C55E',fontSize:'13px',fontWeight:'700'},children:\"VERIFIED SELLER\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoStar,{size:18,color:\"#FBBF24\",fill:\"#FBBF24\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#E2E8F0',fontSize:'16px',fontWeight:'600'},children:[seller.rating.toFixed(1),\" Rating\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,color:\"#00F0FF\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#E2E8F0',fontSize:'16px',fontWeight:'600'},children:[seller.total_trades,\" Completed Trades\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTrendingUp,{size:18,color:\"#A855F7\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#E2E8F0',fontSize:'16px',fontWeight:'600'},children:[seller.active_offers_count,\" Active Offers\"]})]}),seller.member_since&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoCalendar,{size:18,color:\"#888\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#888',fontSize:'14px'},children:[\"Member since \",new Date(seller.member_since).getFullYear()]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',padding:'1rem 1.5rem',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoLockClosed,{size:20,color:\"#00F0FF\"}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,color:'#E2E8F0',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#00F0FF'},children:\"100% Escrow Protected\"}),\" - All transactions are secured through CoinHub IoClose as X escrow system. Your funds are safe until trade completion.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'24px',fontWeight:'700',color:'#00F0FF',marginBottom:'1.5rem'},children:[\"Active Sell Offers (\",offers.length,\")\"]}),offers.length===0?/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'12px',padding:'3rem',textAlign:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'16px'},children:\"This seller has no active offers at the moment.\"})}):/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(350px, 1fr))',gap:'1.5rem'},children:offers.map(offer=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.2)',borderRadius:'12px',padding:'1.5rem',transition:'all 0.2s'},onMouseEnter:e=>e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.5)',onMouseLeave:e=>e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.2)',children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'20px',fontWeight:'700',color:'#00F0FF'},children:offer.crypto_currency}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'0.25rem 0.75rem',background:'rgba(34, 197, 94, 0.2)',borderRadius:'6px'},children:/*#__PURE__*/_jsx(\"span\",{style:{color:'#22C55E',fontSize:'12px',fontWeight:'700'},children:\"SELL\"})})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'24px',fontWeight:'900',color:'#E2E8F0'},children:offer.price_type==='fixed'?\"\".concat(offer.fiat_currency,\" \").concat(offer.price_value.toLocaleString()):\"Market \".concat(offer.price_value>0?'+':'').concat(offer.price_value,\"%\")}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0.25rem 0 0',fontSize:'12px',color:'#888'},children:[\"per \",offer.crypto_currency]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 0.5rem',fontSize:'13px',color:'#888',fontWeight:'600'},children:\"Limits:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#E2E8F0',fontSize:'14px'},children:\"Min:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#E2E8F0',fontSize:'14px',fontWeight:'600'},children:[offer.fiat_currency,\" \",offer.min_amount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#E2E8F0',fontSize:'14px'},children:\"Max:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#E2E8F0',fontSize:'14px',fontWeight:'600'},children:[offer.fiat_currency,\" \",offer.max_amount.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 0.5rem',fontSize:'13px',color:'#888',fontWeight:'600'},children:\"Payment Methods:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem'},children:offer.payment_methods.map((method,index)=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.75rem',background:'rgba(168, 85, 247, 0.2)',border:'1px solid rgba(168, 85, 247, 0.4)',borderRadius:'6px',color:'#A855F7',fontSize:'12px',fontWeight:'600'},children:method},index))})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleBuyNow(offer.ad_id),style:{width:'100%',padding:'1rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'8px',color:'#000',fontWeight:'900',fontSize:'16px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem',transition:'transform 0.2s'},onMouseEnter:e=>e.currentTarget.style.transform='scale(1.02)',onMouseLeave:e=>e.currentTarget.style.transform='scale(1)',children:[/*#__PURE__*/_jsx(IoLockClosed,{size:20}),\"Buy Now (Escrow Protected)\"]}),offer.terms&&/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0.75rem 0 0',fontSize:'12px',color:'#666',fontStyle:'italic'},children:[\"Terms: \",offer.terms]})]},offer.ad_id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'3rem',padding:'1.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'12px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0 0 1rem',color:'#888',fontSize:'14px'},children:\"Want to trade crypto safely? Join CoinHub IoClose as X - The most secure P2P marketplace.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/register'),style:{padding:'0.75rem 2rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'8px',color:'#000',fontWeight:'900',fontSize:'16px',cursor:'pointer'},children:\"Create Free Account\"})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        @keyframes spin {\\n          0% { transform: rotate(0deg); }\\n          100% { transform: rotate(360deg); }\\n        }\\n      \"})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}