{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useParams}from'react-router-dom';import{IoArrowBack}from'react-icons/io5';import axios from'axios';import{getCoinLogo}from'@/utils/coinLogos';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function AssetDetailPage(){const navigate=useNavigate();const{symbol}=useParams();const[asset,setAsset]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadAssetData();},[symbol]);const loadAssetData=async()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/login');return;}const user=JSON.parse(userData);try{var _metaRes$data$coins,_balanceRes$data$bala,_priceRes$data$prices;const[metaRes,balanceRes,priceRes]=await Promise.all([axios.get(\"\".concat(API,\"/api/wallets/coin-metadata\")),axios.get(\"\".concat(API,\"/api/wallets/balances/\").concat(user.user_id)),axios.get(\"\".concat(API,\"/api/prices/live\"))]);const coinMeta=(_metaRes$data$coins=metaRes.data.coins)===null||_metaRes$data$coins===void 0?void 0:_metaRes$data$coins.find(c=>c.symbol.toLowerCase()===symbol.toLowerCase());const balance=(_balanceRes$data$bala=balanceRes.data.balances)===null||_balanceRes$data$bala===void 0?void 0:_balanceRes$data$bala.find(b=>b.currency.toLowerCase()===symbol.toLowerCase());const price=(_priceRes$data$prices=priceRes.data.prices)===null||_priceRes$data$prices===void 0?void 0:_priceRes$data$prices[symbol.toUpperCase()];setAsset({currency:symbol.toUpperCase(),name:(coinMeta===null||coinMeta===void 0?void 0:coinMeta.name)||symbol,logoUrl:getCoinLogo(symbol.toUpperCase()),total_balance:(balance===null||balance===void 0?void 0:balance.total_balance)||0,gbp_value:((balance===null||balance===void 0?void 0:balance.total_balance)||0)*((price===null||price===void 0?void 0:price.gbp)||0),price_gbp:(price===null||price===void 0?void 0:price.gbp)||0});}catch(error){console.error('Failed to load asset:',error);}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(180deg, #0A0F1E 0%, #050810 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff'},children:/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'16px',fontWeight:'500',color:'#6B7A99',display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'20px',height:'20px',border:'3px solid rgba(0,229,255,0.2)',borderTop:'3px solid #00E5FF',borderRadius:'50%',animation:'spin 1s linear infinite'}}),\"Loading...\"]})});}if(!asset){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(180deg, #0A0F1E 0%, #050810 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff'},children:\"Asset not found\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(180deg, #0A0F1E 0%, #050810 100%)',color:'#fff',fontFamily:'\"Inter\", -apple-system, BlinkMacSystemFont, sans-serif',paddingBottom:'32px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'sticky',top:0,background:'rgba(10, 15, 30, 0.85)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',borderBottom:'1px solid rgba(255,255,255,0.06)',padding:'18px 24px',display:'flex',alignItems:'center',gap:'16px',zIndex:10,boxShadow:'0 4px 20px rgba(0,0,0,0.3)'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/wallet'),style:{background:'rgba(255,255,255,0.05)',border:'1px solid rgba(255,255,255,0.08)',borderRadius:'12px',color:'#fff',cursor:'pointer',padding:'10px',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.2s'},onMouseEnter:e=>{e.target.style.background='rgba(255,255,255,0.08)';e.target.style.borderColor='rgba(255,255,255,0.12)';},onMouseLeave:e=>{e.target.style.background='rgba(255,255,255,0.05)';e.target.style.borderColor='rgba(255,255,255,0.08)';},children:/*#__PURE__*/_jsx(IoArrowBack,{size:22})}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',width:'40px',height:'40px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',inset:0,background:'linear-gradient(135deg, rgba(0,229,255,0.2), rgba(123,44,255,0.2))',borderRadius:'50%',filter:'blur(8px)',opacity:0.6}}),/*#__PURE__*/_jsx(\"img\",{src:asset.logoUrl,alt:asset.currency,style:{position:'relative',width:'40px',height:'40px',borderRadius:'50%',border:'2px solid rgba(255,255,255,0.1)'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'700',letterSpacing:'-0.01em'},children:asset.currency}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6B7A99',fontWeight:'500'},children:asset.name})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'24px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0,71,217,0.08) 0%, rgba(123,44,255,0.08) 100%)',borderRadius:'24px',padding:'32px 28px',border:'1px solid rgba(255,255,255,0.06)',boxShadow:'0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05)',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-50%',right:'-20%',width:'200px',height:'200px',background:'radial-gradient(circle, rgba(0,229,255,0.15) 0%, transparent 70%)',filter:'blur(40px)',pointerEvents:'none'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'-30%',left:'-10%',width:'150px',height:'150px',background:'radial-gradient(circle, rgba(123,44,255,0.12) 0%, transparent 70%)',filter:'blur(40px)',pointerEvents:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',zIndex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6B7A99',marginBottom:'12px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Balance\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'44px',fontWeight:'700',marginBottom:'8px',background:'linear-gradient(135deg, #00E5FF 0%, #FFFFFF 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',letterSpacing:'-0.02em'},children:[\"\\xA3\",asset.gbp_value.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'17px',color:'#8FA3C8',fontWeight:'500',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"span\",{children:asset.total_balance.toFixed(8)}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#6B7A99',fontSize:'15px'},children:asset.currency})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'0 24px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'14px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/buy-crypto'),style:{padding:'18px',background:'linear-gradient(135deg, #00E5FF 0%, #00B8D4 100%)',border:'none',borderRadius:'16px',color:'#001018',fontSize:'16px',fontWeight:'700',cursor:'pointer',boxShadow:'0 8px 24px rgba(0,229,255,0.35), inset 0 1px 0 rgba(255,255,255,0.2)',transition:'all 0.2s',position:'relative',overflow:'hidden'},onMouseEnter:e=>{e.target.style.transform='translateY(-2px)';e.target.style.boxShadow='0 12px 32px rgba(0,229,255,0.45), inset 0 1px 0 rgba(255,255,255,0.3)';},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='0 8px 24px rgba(0,229,255,0.35), inset 0 1px 0 rgba(255,255,255,0.2)';},children:\"Buy\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/swap-crypto'),style:{padding:'18px',background:'rgba(0,229,255,0.08)',border:'2px solid #00E5FF',borderRadius:'16px',color:'#00E5FF',fontSize:'16px',fontWeight:'700',cursor:'pointer',boxShadow:'0 8px 24px rgba(0,229,255,0.15), inset 0 1px 0 rgba(0,229,255,0.1)',transition:'all 0.2s'},onMouseEnter:e=>{e.target.style.transform='translateY(-2px)';e.target.style.background='rgba(0,229,255,0.12)';e.target.style.boxShadow='0 12px 32px rgba(0,229,255,0.25), inset 0 1px 0 rgba(0,229,255,0.15)';},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.background='rgba(0,229,255,0.08)';e.target.style.boxShadow='0 8px 24px rgba(0,229,255,0.15), inset 0 1px 0 rgba(0,229,255,0.1)';},children:\"Swap\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/send/\".concat(asset.currency.toLowerCase())),style:{padding:'18px',background:'rgba(0,71,217,0.08)',border:'2px solid #0047D9',borderRadius:'16px',color:'#5D9EFF',fontSize:'16px',fontWeight:'700',cursor:'pointer',boxShadow:'0 8px 24px rgba(0,71,217,0.15), inset 0 1px 0 rgba(0,71,217,0.1)',transition:'all 0.2s'},onMouseEnter:e=>{e.target.style.transform='translateY(-2px)';e.target.style.background='rgba(0,71,217,0.12)';e.target.style.boxShadow='0 12px 32px rgba(0,71,217,0.25), inset 0 1px 0 rgba(0,71,217,0.15)';},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.background='rgba(0,71,217,0.08)';e.target.style.boxShadow='0 8px 24px rgba(0,71,217,0.15), inset 0 1px 0 rgba(0,71,217,0.1)';},children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/receive?asset=\".concat(asset.currency),{state:{asset:asset.currency}}),style:{padding:'18px',background:'linear-gradient(135deg, #0047D9 0%, #003BA8 100%)',border:'none',borderRadius:'16px',color:'#fff',fontSize:'16px',fontWeight:'700',cursor:'pointer',boxShadow:'0 8px 24px rgba(0,71,217,0.35), inset 0 1px 0 rgba(255,255,255,0.15)',transition:'all 0.2s'},onMouseEnter:e=>{e.target.style.transform='translateY(-2px)';e.target.style.boxShadow='0 12px 32px rgba(0,71,217,0.45), inset 0 1px 0 rgba(255,255,255,0.2)';},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='0 8px 24px rgba(0,71,217,0.35), inset 0 1px 0 rgba(255,255,255,0.15)';},children:\"Receive\"})]})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes spin {\\n          to { transform: rotate(360deg); }\\n        }\\n      \"})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}