{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Layout from'../components/Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLiquidityManager=()=>{const[liquidity,setLiquidity]=useState([]);const[depositAddresses,setDepositAddresses]=useState({});const[loading,setLoading]=useState(true);const[updating,setUpdating]=useState(false);const[message,setMessage]=useState({type:'',text:''});const[editValues,setEditValues]=useState({});const[showAddresses,setShowAddresses]=useState(false);const[realSyncMode,setRealSyncMode]=useState(false);const[nowpaymentsEnabled,setNowpaymentsEnabled]=useState(false);const[liquidityBlocks,setLiquidityBlocks]=useState([]);useEffect(()=>{fetchLiquidity();fetchDepositAddresses();fetchSyncMode();fetchLiquidityBlocks();},[]);const fetchLiquidity=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/liquidity-all\"));const data=await response.json();if(data.success){setLiquidity(data.liquidity);// Initialize edit values\nconst initialValues={};data.liquidity.forEach(liq=>{initialValues[liq.currency]=liq.balance;});setEditValues(initialValues);}setLoading(false);}catch(error){console.error('Error fetching liquidity:',error);setMessage({type:'error',text:'Failed to load liquidity data'});setLoading(false);}};const fetchDepositAddresses=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/deposit-addresses\"));const data=await response.json();if(data.success){setDepositAddresses(data.addresses);}}catch(error){console.error('Error fetching deposit addresses:',error);}};const fetchSyncMode=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/liquidity-sync-mode\"));const data=await response.json();if(data.success){setRealSyncMode(data.use_real_sync);setNowpaymentsEnabled(data.nowpayments_enabled);}}catch(error){console.error('Failed to fetch sync mode:',error);}};const fetchLiquidityBlocks=async()=>{try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/liquidity-blocks?limit=10\"));const data=await response.json();if(data.success){setLiquidityBlocks(data.blocks||[]);}}catch(error){console.error('Failed to fetch liquidity blocks:',error);}};const toggleSyncMode=async()=>{setUpdating(true);try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/toggle-real-sync\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({enable:!realSyncMode})});const data=await response.json();if(data.success){setRealSyncMode(!realSyncMode);setMessage({type:'success',text:data.message});}else{setMessage({type:'error',text:data.message});}}catch(error){setMessage({type:'error',text:'Failed to toggle sync mode'});}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),5000);};const verifyNOWPayments=async()=>{setUpdating(true);try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/nowpayments/verify\"),{method:'POST'});const data=await response.json();if(data.success){setMessage({type:'success',text:'âœ… NOWPayments API key verified!'});}else{setMessage({type:'error',text:\"\\u274C \".concat(data.message)});}}catch(error){setMessage({type:'error',text:'Verification failed'});}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),5000);};const generateNOWPaymentsAddresses=async()=>{setUpdating(true);try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/nowpayments/generate-addresses\"),{method:'POST'});const data=await response.json();if(data.success){setMessage({type:'success',text:\"\\u2705 Generated \".concat(data.count,\" real deposit addresses!\")});fetchDepositAddresses();}else{setMessage({type:'error',text:data.message});}}catch(error){setMessage({type:'error',text:'Address generation failed'});}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),5000);};const handleUpdateBalance=async currency=>{setUpdating(true);try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/liquidity/update\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({currency:currency,new_balance:parseFloat(editValues[currency])})});const data=await response.json();if(data.success){setMessage({type:'success',text:\"\".concat(currency,\" balance updated successfully!\")});fetchLiquidity();}else{setMessage({type:'error',text:data.message||'Update failed'});}}catch(error){setMessage({type:'error',text:'Network error'});}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),3000);};const handleAddAmount=async(currency,amount)=>{setUpdating(true);try{var _liquidity$find;const currentBalance=((_liquidity$find=liquidity.find(l=>l.currency===currency))===null||_liquidity$find===void 0?void 0:_liquidity$find.balance)||0;const newBalance=parseFloat(currentBalance)+parseFloat(amount);const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/liquidity/update\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({currency:currency,new_balance:newBalance})});const data=await response.json();if(data.success){setMessage({type:'success',text:\"Added \".concat(amount,\" \").concat(currency,\" successfully!\")});fetchLiquidity();}else{setMessage({type:'error',text:data.message||'Update failed'});}}catch(error){setMessage({type:'error',text:'Network error'});}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),3000);};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'40px',color:'#fff',textAlign:'center'},children:/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px'},children:\"Loading liquidity data...\"})})});}const currencyGroups={'Trading Liquidity':['GBP','BTC','ETH','USDT','USDC'],'Major Crypto Assets':['BNB','XRP','SOL','ADA','DOGE'],'Stablecoins & Others':['DAI','BUSD','LTC','TRX','MATIC']};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px',maxWidth:'1400px',margin:'0 auto',minHeight:'100vh'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'40px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'36px',fontWeight:'700',marginBottom:'10px',background:'linear-gradient(135deg, #00F0FF, #7B2CFF)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},children:\"\\uD83D\\uDCB0 Admin Liquidity Manager\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#8E9BAE',fontSize:'16px'},children:\"Manage all platform liquidity pools in one place. Add or adjust balances instantly.\"})]}),message.text&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px 20px',borderRadius:'8px',marginBottom:'30px',display:'flex',alignItems:'center',gap:'10px',background:message.type==='success'?'rgba(0, 255, 136, 0.1)':'rgba(255, 107, 107, 0.1)',border:\"1px solid \".concat(message.type==='success'?'#00FF88':'#FF6B6B'),color:message.type==='success'?'#00FF88':'#FF6B6B'},children:[message.type==='success'?'âœ…':'âš ï¸',message.text]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 152, 0, 0.1)',border:'1px solid rgba(255, 152, 0, 0.3)',borderRadius:'12px',padding:'25px',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#FFA500',marginBottom:'15px',fontSize:'18px'},children:\"\\uD83D\\uDD12 Liquidity Sync Mode\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'20px',marginBottom:'15px'},children:/*#__PURE__*/_jsxs(\"label\",{style:{color:'#fff',fontSize:'14px',display:'flex',alignItems:'center',gap:'10px',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:realSyncMode,onChange:toggleSyncMode,disabled:!nowpaymentsEnabled||updating,style:{width:'20px',height:'20px',cursor:nowpaymentsEnabled&&!updating?'pointer':'not-allowed'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600'},children:\"Use Real NOWPayments Sync\"})]})}),realSyncMode?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px',background:'rgba(0, 255, 136, 0.1)',border:'1px solid rgba(0, 255, 136, 0.3)',borderRadius:'8px',color:'#00FF88',fontSize:'13px'},children:[\"\\u2705 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Real sync ENABLED\"}),\" - All deposits will be automatically credited from NOWPayments. Manual entry is disabled.\"]}):/*#__PURE__*/_jsx(\"div\",{style:{padding:'12px',background:'rgba(142, 155, 174, 0.1)',border:'1px solid rgba(142, 155, 174, 0.3)',borderRadius:'8px',color:'#8E9BAE',fontSize:'13px'},children:\"\\u2139\\uFE0F Manual mode active. Use the forms below to add liquidity manually.\"}),!nowpaymentsEnabled&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'15px',padding:'12px',background:'rgba(255, 107, 107, 0.1)',border:'1px solid rgba(255, 107, 107, 0.3)',borderRadius:'8px',color:'#FF6B6B',fontSize:'13px'},children:\"\\u26A0\\uFE0F NOWPayments API key not configured. Set NOWPAYMENTS_API_KEY in environment variables.\"}),nowpaymentsEnabled&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'15px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:verifyNOWPayments,disabled:updating,style:{padding:'10px 20px',background:'rgba(0, 240, 255, 0.2)',border:'1px solid #00F0FF',borderRadius:'6px',color:'#00F0FF',fontSize:'14px',fontWeight:'600',cursor:updating?'not-allowed':'pointer',opacity:updating?0.6:1},children:updating?'â³ Verifying...':'ðŸ” Verify API Key'}),/*#__PURE__*/_jsx(\"button\",{onClick:generateNOWPaymentsAddresses,disabled:updating,style:{padding:'10px 20px',background:'linear-gradient(135deg, #7B2CFF, #00F0FF)',border:'none',borderRadius:'6px',color:'#fff',fontSize:'14px',fontWeight:'600',cursor:updating?'not-allowed':'pointer',opacity:updating?0.6:1},children:updating?'â³ Generating...':'ðŸ”„ Generate Real Addresses'})]}),nowpaymentsEnabled&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'20px',background:'linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 240, 255, 0.1))',border:'2px solid #00FF88',borderRadius:'12px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#00FF88',marginBottom:'10px',fontSize:'16px'},children:\"\\uD83D\\uDD04 Sync Real NOWPayments Balances\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#8E9BAE',fontSize:'13px',marginBottom:'15px'},children:\"Pull your actual crypto holdings from NOWPayments and update all liquidity wallets instantly.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{setUpdating(true);setMessage({type:'',text:''});try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/liquidity/sync-nowpayments\"),{method:'POST',headers:{'Content-Type':'application/json'}});const data=await response.json();if(data.success){setMessage({type:'success',text:\"\\u2705 \".concat(data.message)});fetchLiquidity();// Refresh the liquidity display\n}else{setMessage({type:'error',text:\"\\u274C \".concat(data.message)});}}catch(error){setMessage({type:'error',text:'âŒ Sync failed - check console'});console.error('Sync error:',error);}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),8000);},disabled:updating,style:{padding:'15px 40px',background:'linear-gradient(135deg, #00FF88, #00D9FF)',border:'none',borderRadius:'8px',color:'#000',fontSize:'16px',fontWeight:'700',cursor:updating?'not-allowed':'pointer',opacity:updating?0.6:1,boxShadow:'0 0 20px rgba(0, 255, 136, 0.4)',transition:'all 0.3s ease'},children:updating?'â³ SYNCING...':'ðŸ”„ SYNC NOW - Pull Real Balances'})]})]}),liquidityBlocks.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 107, 107, 0.1)',border:'1px solid rgba(255, 107, 107, 0.3)',borderRadius:'12px',padding:'25px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{color:'#FF6B6B',marginBottom:'15px',fontSize:'18px'},children:[\"\\uD83D\\uDEAB Recent Blocked Operations (\",liquidityBlocks.length,\")\"]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#8E9BAE',fontSize:'13px',marginBottom:'15px'},children:\"Operations blocked due to insufficient platform liquidity:\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'200px',overflowY:'auto'},children:liquidityBlocks.map((block,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px',background:'rgba(255, 255, 255, 0.02)',border:'1px solid rgba(255, 107, 107, 0.2)',borderRadius:'6px',marginBottom:'8px',fontSize:'12px',color:'#fff'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'5px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#FF6B6B',fontWeight:'600'},children:block.operation_type}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#8E9BAE'},children:new Date(block.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#8E9BAE'},children:[\"Required: \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#FF6B6B'},children:[block.amount_required,\" \",block.currency]}),' ',\" | Available: \",block.available_liquidity,\" \",block.currency,' ',\" | Shortage: \",block.shortage]}),block.user_id&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#8E9BAE',marginTop:'3px'},children:[\"User: \",block.user_id]})]},idx))}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchLiquidityBlocks,style:{marginTop:'15px',padding:'8px 16px',background:'rgba(255, 107, 107, 0.2)',border:'1px solid #FF6B6B',borderRadius:'6px',color:'#FF6B6B',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDD04 Refresh Blocks\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(13, 23, 38, 0.6)',backdropFilter:'blur(20px)',borderRadius:'16px',border:'1px solid rgba(123, 44, 255, 0.3)',padding:'25px',marginBottom:'30px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#7B2CFF',fontSize:'18px',margin:0},children:\"\\uD83D\\uDCE5 Crypto Deposit Addresses\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddresses(!showAddresses),style:{padding:'8px 20px',background:'rgba(123, 44, 255, 0.2)',border:'1px solid #7B2CFF',borderRadius:'6px',color:'#7B2CFF',fontSize:'14px',fontWeight:'600',cursor:'pointer'},children:showAddresses?'ðŸ”’ Hide Addresses':'ðŸ‘ï¸ Show Addresses'})]}),showAddresses&&Object.keys(depositAddresses).length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#8E9BAE',fontSize:'14px',marginBottom:'20px'},children:\"\\uD83D\\uDCA1 Send crypto to these addresses to automatically top up liquidity. Each deposit will be credited within minutes.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'15px'},children:Object.entries(depositAddresses).slice(0,8).map(_ref=>{let[currency,address]=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 255, 255, 0.03)',border:'1px solid rgba(123, 44, 255, 0.2)',borderRadius:'8px',padding:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'600',marginBottom:'8px',fontSize:'14px'},children:currency}),/*#__PURE__*/_jsx(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',padding:'10px',borderRadius:'6px',fontSize:'12px',fontFamily:'monospace',color:'#00FF88',wordBreak:'break-all',marginBottom:'8px'},children:address}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{navigator.clipboard.writeText(address);setMessage({type:'success',text:\"\".concat(currency,\" address copied!\")});setTimeout(()=>setMessage({type:'',text:''}),2000);},style:{width:'100%',padding:'8px',background:'rgba(123, 44, 255, 0.2)',border:'1px solid rgba(123, 44, 255, 0.4)',borderRadius:'4px',color:'#7B2CFF',fontSize:'12px',cursor:'pointer'},children:\"\\uD83D\\uDCCB Copy Address\"})]},currency);})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'15px',background:'rgba(255, 152, 0, 0.1)',border:'1px solid rgba(255, 152, 0, 0.3)',borderRadius:'8px',color:'#FFA500',fontSize:'13px'},children:[\"\\u26A0\\uFE0F \",/*#__PURE__*/_jsx(\"strong\",{children:\"DEMO MODE:\"}),\" These are example addresses. In production, integrate with NOWPayments or your own wallet infrastructure.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(13, 23, 38, 0.6)',backdropFilter:'blur(20px)',borderRadius:'16px',border:'1px solid rgba(255, 152, 0, 0.3)',padding:'25px',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#FFA500',marginBottom:'10px',fontSize:'18px'},children:\"\\uD83E\\uDDEA Test Blockchain Deposit (Simulator)\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#8E9BAE',fontSize:'13px',marginBottom:'15px'},children:\"Simulate receiving crypto deposits to test the automated crediting system. Deposits take 30-60 seconds to process.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'15px'},children:['BTC','ETH','USDT_ERC20','LTC'].map(currency=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{color:'#8E9BAE',fontSize:'14px',display:'block',marginBottom:'5px'},children:[\"Simulate \",currency,\" Deposit\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",id:\"simulate-\".concat(currency),step:\"any\",style:{flex:1,padding:'10px',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 152, 0, 0.3)',borderRadius:'6px',color:'#fff',fontSize:'14px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{const input=document.getElementById(\"simulate-\".concat(currency));const amount=input.value;if(amount&&parseFloat(amount)>0){setUpdating(true);try{const response=await fetch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/admin/simulate-deposit\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({currency,amount:parseFloat(amount)})});const data=await response.json();if(data.success){setMessage({type:'success',text:\"\\uD83E\\uDDEA Simulating \".concat(amount,\" \").concat(currency,\" deposit. Check back in 30-60 seconds!\")});input.value='';// Auto-refresh after 60 seconds\nsetTimeout(()=>{fetchLiquidity();setMessage({type:'success',text:'âœ… Deposit should be credited now!'});},60000);}else{setMessage({type:'error',text:data.message||'Simulation failed'});}}catch(error){setMessage({type:'error',text:'Network error'});}setUpdating(false);setTimeout(()=>setMessage({type:'',text:''}),5000);}},disabled:updating,style:{padding:'10px 20px',background:'linear-gradient(135deg, #FFA500, #FF6B35)',border:'none',borderRadius:'6px',color:'#fff',fontSize:'14px',fontWeight:'600',cursor:updating?'not-allowed':'pointer',opacity:updating?0.6:1},children:\"\\uD83E\\uDDEA\"})]})]},currency))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(13, 23, 38, 0.6)',backdropFilter:'blur(20px)',borderRadius:'16px',border:'1px solid rgba(0, 240, 255, 0.2)',padding:'25px',marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#00F0FF',marginBottom:'15px',fontSize:'18px'},children:\"\\u26A1 Quick GBP Top-Up (Instant)\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'15px'},children:['GBP','BTC','ETH','USDT'].map(currency=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{color:'#8E9BAE',fontSize:'14px',display:'block',marginBottom:'5px'},children:[\"Add \",currency]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount\",id:\"quick-\".concat(currency),style:{flex:1,padding:'10px',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'6px',color:'#fff',fontSize:'14px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const input=document.getElementById(\"quick-\".concat(currency));const amount=input.value;if(amount&&parseFloat(amount)>0){handleAddAmount(currency,amount);input.value='';}},disabled:updating,style:{padding:'10px 20px',background:'linear-gradient(135deg, #00F0FF, #7B2CFF)',border:'none',borderRadius:'6px',color:'#fff',fontSize:'14px',fontWeight:'600',cursor:updating?'not-allowed':'pointer',opacity:updating?0.6:1},children:\"+\"})]})]},currency))})]}),Object.entries(currencyGroups).map(_ref2=>{let[groupName,currencies]=_ref2;const groupLiquidity=liquidity.filter(liq=>currencies.includes(liq.currency));if(groupLiquidity.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(13, 23, 38, 0.6)',backdropFilter:'blur(20px)',borderRadius:'16px',border:'1px solid rgba(0, 240, 255, 0.2)',padding:'30px',marginBottom:'30px',boxShadow:'0 8px 32px rgba(0, 240, 255, 0.1)'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{color:'#00F0FF',fontSize:'24px',fontWeight:'600',marginBottom:'25px',display:'flex',alignItems:'center',gap:'10px'},children:[\"\\uD83D\\uDCCA \",groupName]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(350px, 1fr))',gap:'20px'},children:groupLiquidity.map(liq=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 255, 255, 0.02)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'12px',padding:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff',fontSize:'18px',fontWeight:'700'},children:liq.currency}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#00FF88',fontSize:'14px',background:'rgba(0, 255, 136, 0.1)',padding:'4px 12px',borderRadius:'20px'},children:[\"Available: \",parseFloat(liq.available).toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:8})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#8E9BAE',fontSize:'14px',marginBottom:'8px'},children:\"Current Balance\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontSize:'24px',fontWeight:'600',fontFamily:'monospace'},children:parseFloat(liq.balance).toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:8})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{color:'#8E9BAE',fontSize:'14px',display:'block',marginBottom:'8px'},children:\"Set New Balance\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"any\",value:editValues[liq.currency]||'',onChange:e=>setEditValues(_objectSpread(_objectSpread({},editValues),{},{[liq.currency]:e.target.value})),style:{width:'100%',padding:'12px',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'16px',fontFamily:'monospace'}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdateBalance(liq.currency),disabled:updating||editValues[liq.currency]==liq.balance,style:{width:'100%',padding:'12px',background:editValues[liq.currency]==liq.balance?'rgba(255, 255, 255, 0.1)':'linear-gradient(135deg, #00F0FF, #7B2CFF)',border:'none',borderRadius:'8px',color:'#fff',fontSize:'14px',fontWeight:'600',cursor:updating||editValues[liq.currency]==liq.balance?'not-allowed':'pointer',opacity:updating||editValues[liq.currency]==liq.balance?0.5:1,transition:'all 0.3s ease'},onMouseEnter:e=>{if(!(updating||editValues[liq.currency]==liq.balance)){e.currentTarget.style.transform='scale(1.02)';e.currentTarget.style.boxShadow='0 8px 20px rgba(0, 240, 255, 0.4)';}},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';e.currentTarget.style.boxShadow='none';},children:updating?'â³ Updating...':'ðŸ’¾ Update Balance'})]},liq.currency))})]},groupName);}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'40px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:fetchLiquidity,style:{padding:'15px 40px',background:'rgba(0, 240, 255, 0.1)',border:'2px solid #00F0FF',borderRadius:'8px',color:'#00F0FF',fontSize:'16px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(0, 240, 255, 0.2)';e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(0, 240, 255, 0.1)';e.currentTarget.style.transform='scale(1)';},children:\"\\uD83D\\uDD04 Refresh All Liquidity\"})})]})});};export default AdminLiquidityManager;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}