{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import Layout from'@/components/Layout';import axios from'axios';import{toast}from'sonner';import{IoCheckmarkCircle,IoShield,IoTime,IoPeople,IoTrophy,IoStarOutline,IoStar,IoMail,IoPhonePortrait,IoLocation}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function MerchantProfile(){var _profile$username,_profile$username$,_profile$verification,_profile$verification2,_profile$verification3,_stats$thirty_day_com;const{userId}=useParams();const[profile,setProfile]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{loadProfile();},[userId]);const loadProfile=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/merchant/profile/\").concat(userId));if(response.data.success){setProfile(response.data.profile);}}catch(error){console.error('Error loading profile:',error);toast.error('Failed to load merchant profile');}finally{setLoading(false);}};const getRankBadge=rank=>{const badges={platinum:{color:'from-cyan-400 to-blue-500',icon:'ðŸ’Ž',label:'Platinum Merchant'},gold:{color:'from-yellow-400 to-orange-500',icon:'ðŸ¥‡',label:'Gold Merchant'},silver:{color:'from-gray-300 to-gray-500',icon:'ðŸ¥ˆ',label:'Silver Merchant'},bronze:{color:'from-orange-300 to-orange-600',icon:'ðŸ¥‰',label:'Bronze Merchant'},none:{color:'from-slate-500 to-slate-700',icon:'â­',label:'Trader'}};return badges[rank]||badges.none;};const formatTime=seconds=>{if(!seconds||seconds===0)return'N/A';const mins=Math.floor(seconds/60);const secs=Math.floor(seconds%60);return mins>0?\"\".concat(mins,\"m \").concat(secs,\"s\"):\"\".concat(secs,\"s\");};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-12 h-12 border-4 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading profile...\"})]})})});}if(!profile){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-white\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xl\",children:\"Merchant profile not found\"})})})});}const rankBadge=getRankBadge(profile.rank);const stats=profile.stats||{};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 p-4 md:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-start md:items-center gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 rounded-full bg-gradient-to-br from-cyan-400 to-purple-600 flex items-center justify-center text-white text-3xl font-bold\",children:((_profile$username=profile.username)===null||_profile$username===void 0?void 0:(_profile$username$=_profile$username[0])===null||_profile$username$===void 0?void 0:_profile$username$.toUpperCase())||'M'}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -bottom-2 -right-2 bg-gradient-to-r \".concat(rankBadge.color,\" rounded-full p-2 text-2xl\"),children:rankBadge.icon})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl md:text-3xl font-bold text-white mb-2\",children:profile.username||'Anonymous Trader'}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block bg-gradient-to-r \".concat(rankBadge.color,\" px-4 py-1 rounded-full text-white font-semibold text-sm mb-3\"),children:rankBadge.label}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-3\",children:[((_profile$verification=profile.verifications)===null||_profile$verification===void 0?void 0:_profile$verification.email)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs\",children:[/*#__PURE__*/_jsx(IoMail,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Email Verified\"})]}),((_profile$verification2=profile.verifications)===null||_profile$verification2===void 0?void 0:_profile$verification2.sms)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs\",children:[/*#__PURE__*/_jsx(IoPhonePortrait,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"SMS Verified\"})]}),((_profile$verification3=profile.verifications)===null||_profile$verification3===void 0?void 0:_profile$verification3.address)&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs\",children:[/*#__PURE__*/_jsx(IoLocation,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Address Verified\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 text-sm text-gray-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Member for:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white ml-2 font-semibold\",children:[profile.account_age_days,\" days\"]})]}),stats.first_trade_date&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Trading since:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-semibold\",children:new Date(stats.first_trade_date).toLocaleDateString()})]})]})]}),profile.deposit&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border-2 border-yellow-500/50 rounded-xl p-4 text-center\",children:[/*#__PURE__*/_jsx(IoShield,{className:\"w-8 h-8 text-yellow-400 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mb-1\",children:\"Security Deposit\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-yellow-400\",children:[\"$\",profile.deposit.amount.toLocaleString()]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:profile.deposit.currency})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(IoTrophy,{className:\"w-5 h-5 text-cyan-400\"}),\"All-Time Stats\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Total Trades\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold\",children:stats.all_time_trades||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Buy Orders\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 font-semibold\",children:stats.all_time_buy_count||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Sell Orders\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-400 font-semibold\",children:stats.all_time_sell_count||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Success Rate\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-cyan-400 font-semibold\",children:[stats.all_time_trades>0?Math.round(stats.successful_trades/stats.all_time_trades*100):100,\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(IoTime,{className:\"w-5 h-5 text-green-400\"}),\"30-Day Performance\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Trades (30d)\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold\",children:stats.thirty_day_trades||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Completion Rate\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-400 font-semibold text-lg\",children:[((_stats$thirty_day_com=stats.thirty_day_completion_rate)===null||_stats$thirty_day_com===void 0?void 0:_stats$thirty_day_com.toFixed(1))||'100.0',\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Avg Pay Time\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-cyan-400 font-semibold\",children:formatTime(stats.average_pay_time_seconds)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Avg Release Time\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-400 font-semibold\",children:formatTime(stats.average_release_time_seconds)})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(IoPeople,{className:\"w-5 h-5 text-purple-400\"}),\"Network\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Trading Partners\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-semibold\",children:stats.total_counterparties||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Successful\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-green-400 font-semibold\",children:stats.successful_trades||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Cancelled\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-400 font-semibold\",children:stats.cancelled_trades||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400 text-sm\",children:\"Disputed\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-orange-400 font-semibold\",children:stats.disputed_trades||0})]})]})]})]}),profile.active_ads&&profile.active_ads.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-white mb-4\",children:[\"Active Offers (\",profile.active_ads.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\",children:profile.active_ads.map((ad,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-900/50 border border-slate-700 rounded-lg p-4 hover:border-cyan-500/50 transition-colors\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-white font-semibold text-lg\",children:[ad.crypto_amount,\" \",ad.crypto]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs\",children:[\"@ \\xA3\",ad.price_fixed,\"/unit\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-semibold\",children:\"Active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Available:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[ad.amount_available,\" \",ad.crypto]})]}),ad.payment_methods&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:ad.payment_methods.map((method,i)=>/*#__PURE__*/_jsx(\"span\",{className:\"bg-cyan-500/20 text-cyan-300 px-2 py-0.5 rounded text-xs\",children:method},i))})]})]},idx))})]})]})})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}