{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Layout from'../components/Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function HelpCenter(){const[categories,setCategories]=useState([]);const[allFaqs,setAllFaqs]=useState([]);const[filteredFaqs,setFilteredFaqs]=useState([]);const[selectedCategory,setSelectedCategory]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[expandedFaq,setExpandedFaq]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchCategories();fetchAllFaqs();},[]);useEffect(()=>{handleSearch();},[searchQuery,selectedCategory,allFaqs]);const fetchCategories=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/faq/categories\"));if(response.data.success){setCategories(response.data.categories);}}catch(error){console.error('Error fetching categories:',error);}};const fetchAllFaqs=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/faq/items\"));if(response.data.success){setAllFaqs(response.data.items);setFilteredFaqs(response.data.items);}}catch(error){console.error('Error fetching FAQs:',error);}finally{setLoading(false);}};const handleSearch=()=>{let results=[...allFaqs];// Filter by category\nif(selectedCategory){results=results.filter(faq=>faq.category===selectedCategory);}// Filter by search query\nif(searchQuery.trim()){const query=searchQuery.toLowerCase();results=results.filter(faq=>faq.question.toLowerCase().includes(query)||faq.answer.toLowerCase().includes(query));}setFilteredFaqs(results);};const handleFeedback=async(faqId,helpful)=>{try{await axios.post(\"\".concat(API,\"/api/faq/item/\").concat(faqId,\"/feedback\"),{helpful});// Show a brief success message\nalert(helpful?'Thank you for your feedback!':'Thanks! We will improve this answer.');}catch(error){console.error('Error submitting feedback:',error);}};const toggleFaq=faqId=>{if(expandedFaq===faqId){setExpandedFaq(null);}else{setExpandedFaq(faqId);// Track view\naxios.get(\"\".concat(API,\"/api/faq/item/\").concat(faqId)).catch(err=>console.error(err));}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)',padding:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',marginBottom:'3rem'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'3rem',fontWeight:'700',textAlign:'center',background:'linear-gradient(90deg, #00F0FF 0%, #A855F7 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'1rem'},children:\"Help Center\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'#888',fontSize:'1.1rem'},children:\"Find answers to your questions about our platform\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'800px',margin:'0 auto',marginBottom:'3rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',display:'flex',alignItems:'center',background:'rgba(0, 0, 0, 0.3)',borderRadius:'16px',padding:'0.5rem 1rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.5rem',marginRight:'1rem'},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for help...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{flex:1,background:'transparent',border:'none',outline:'none',color:'#fff',fontSize:'1.1rem',padding:'0.5rem'}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',marginBottom:'3rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(null),style:{background:selectedCategory===null?'linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)':'rgba(0, 0, 0, 0.3)',border:selectedCategory===null?'none':'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'1.5rem',cursor:'pointer',transition:'all 0.3s',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',marginBottom:'0.5rem'},children:\"\\uD83D\\uDCDA\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',fontWeight:'600',color:'#fff',marginBottom:'0.5rem'},children:\"All Topics\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:selectedCategory===null?'#fff':'#888'},children:[allFaqs.length,\" articles\"]})]}),categories.map(category=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(category.name),style:{background:selectedCategory===category.name?'linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)':'rgba(0, 0, 0, 0.3)',border:selectedCategory===category.name?'none':'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'1.5rem',cursor:'pointer',transition:'all 0.3s',textAlign:'left'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',marginBottom:'0.5rem'},children:category.icon}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',fontWeight:'600',color:'#fff',marginBottom:'0.5rem'},children:category.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.9rem',color:selectedCategory===category.name?'#fff':'#888'},children:[category.faq_count,\" articles\"]})]},category.category_id))]})}),/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'1000px',margin:'0 auto'},children:loading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#888',padding:'4rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'1rem'},children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Loading help articles...\"})]}):filteredFaqs.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#888',padding:'4rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'16px',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'1rem'},children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.2rem',marginBottom:'0.5rem'},children:\"No results found\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Try a different search term or browse all categories\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:filteredFaqs.map(faq=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',borderRadius:'16px',border:'1px solid rgba(0, 240, 255, 0.3)',overflow:'hidden',transition:'all 0.3s'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleFaq(faq.faq_id),style:{width:'100%',background:'transparent',border:'none',padding:'1.5rem',cursor:'pointer',textAlign:'left',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',color:'#00F0FF',marginBottom:'0.5rem',fontWeight:'600'},children:faq.category}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.1rem',fontWeight:'600',color:'#fff'},children:faq.question})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',color:'#00F0FF',transition:'transform 0.3s',transform:expandedFaq===faq.faq_id?'rotate(180deg)':'rotate(0deg)'},children:\"\\u25BC\"})]}),expandedFaq===faq.faq_id&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0 1.5rem 1.5rem 1.5rem',borderTop:'1px solid rgba(0, 240, 255, 0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#ccc',lineHeight:'1.6',marginBottom:'1.5rem',marginTop:'1rem'},children:faq.answer}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',alignItems:'center',paddingTop:'1rem',borderTop:'1px solid rgba(0, 240, 255, 0.1)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'0.9rem'},children:\"Was this helpful?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFeedback(faq.faq_id,true),style:{background:'rgba(0, 240, 0, 0.1)',border:'1px solid rgba(0, 240, 0, 0.3)',borderRadius:'8px',padding:'0.5rem 1rem',color:'#00F000',cursor:'pointer',fontSize:'0.9rem',transition:'all 0.3s'},children:\"\\uD83D\\uDC4D Yes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleFeedback(faq.faq_id,false),style:{background:'rgba(240, 0, 0, 0.1)',border:'1px solid rgba(240, 0, 0, 0.3)',borderRadius:'8px',padding:'0.5rem 1rem',color:'#F00000',cursor:'pointer',fontSize:'0.9rem',transition:'all 0.3s'},children:\"\\uD83D\\uDC4E No\"})]})]})]},faq.faq_id))})}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'800px',margin:'4rem auto 0',textAlign:'center',padding:'2rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'16px',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2.5rem',marginBottom:'1rem'},children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{style:{color:'#fff',fontSize:'1.5rem',marginBottom:'0.5rem'},children:\"Can't find what you're looking for?\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',marginBottom:'1.5rem'},children:\"Our support team is here to help\"}),/*#__PURE__*/_jsx(\"button\",{style:{background:'linear-gradient(90deg, #00F0FF 0%, #A855F7 100%)',border:'none',borderRadius:'12px',padding:'1rem 2rem',color:'#fff',fontSize:'1.1rem',fontWeight:'600',cursor:'pointer',transition:'transform 0.2s'},children:\"Contact Support\"})]})]})});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}