{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate,Link,useSearchParams}from'react-router-dom';import{IoEye,IoEyeOff,IoLockClosed,IoMail,IoPersonOutline,IoChevronDown,IoShield,IoCheckmarkCircle}from'react-icons/io5';import axios from'axios';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function Register2(){var _countries$find;const navigate=useNavigate();const[searchParams]=useSearchParams();const referralCode=searchParams.get('ref')||'';const[formData,setFormData]=useState({full_name:'',email:'',phone_number:'',password:'',confirmPassword:'',referral_code:referralCode,country_code:'+44'});const[loading,setLoading]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[showCountryDropdown,setShowCountryDropdown]=useState(false);const countries=[{code:'+44',flag:'ðŸ‡¬ðŸ‡§',name:'UK'},{code:'+1',flag:'ðŸ‡ºðŸ‡¸',name:'US'},{code:'+91',flag:'ðŸ‡®ðŸ‡³',name:'India'},{code:'+234',flag:'ðŸ‡³ðŸ‡¬',name:'Nigeria'}];const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=async e=>{e.preventDefault();if(formData.password!==formData.confirmPassword){toast.error('Passwords do not match');return;}if(formData.password.length<8){toast.error('Password must be at least 8 characters');return;}setLoading(true);try{const response=await axios.post(\"\".concat(API,\"/api/auth/register\"),{full_name:formData.full_name,email:formData.email,phone_number:formData.country_code+formData.phone_number,password:formData.password,referral_code:formData.referral_code||undefined});if(response.data.success){toast.success('âœ… Account created successfully! Please login.');setTimeout(()=>navigate('/login2'),1500);}}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Registration failed');}finally{setLoading(false);}};const handleGoogleSignup=()=>{window.location.href=\"\".concat(API,\"/api/auth/google\");};return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0A0E27 0%, #1a1f3a 50%, #0A0E27 100%)',display:'flex',alignItems:'center',justifyContent:'center',padding:'40px 20px',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-50%',right:'-20%',width:'800px',height:'800px',background:'radial-gradient(circle, rgba(0, 240, 255, 0.15) 0%, transparent 70%)',borderRadius:'50%',filter:'blur(60px)',animation:'float 20s ease-in-out infinite'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'-30%',left:'-10%',width:'600px',height:'600px',background:'radial-gradient(circle, rgba(155, 77, 255, 0.15) 0%, transparent 70%)',borderRadius:'50%',filter:'blur(60px)',animation:'float 25s ease-in-out infinite reverse'}}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',maxWidth:'460px',position:'relative',zIndex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'32px'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/logo1-transparent.png\",alt:\"CoinHubX Logo\",style:{height:'120px',width:'auto',objectFit:'contain',imageRendering:'crisp-edges',marginBottom:'24px',margin:'0 auto 24px auto',display:'block'}}),/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'36px',fontWeight:'800',background:'linear-gradient(135deg, #00F0FF 0%, #00C6FF 50%, #9B4DFF 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'10px',letterSpacing:'-1px',textShadow:'0 0 40px rgba(0, 240, 255, 0.3)'},children:\"Create Account\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#B8C5D6',fontSize:'15px',fontWeight:'500'},children:\"Join CoinHubX and start trading crypto\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleGoogleSignup,type:\"button\",disabled:loading,style:{width:'100%',padding:'12px 16px',background:'rgba(10, 25, 41, 0.8)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'14px',color:'#FFFFFF',fontSize:'15px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',marginBottom:'24px',display:'flex',alignItems:'center',justifyContent:'center',gap:'10px',transition:'all 0.3s',boxShadow:'0 2px 8px rgba(0, 0, 0, 0.1)'},onMouseEnter:e=>{if(!loading){e.target.style.background='rgba(10, 25, 41, 0.95)';e.target.style.borderColor='rgba(0, 240, 255, 0.5)';e.target.style.transform='translateY(-1px)';}},onMouseLeave:e=>{e.target.style.background='rgba(10, 25, 41, 0.8)';e.target.style.borderColor='rgba(0, 240, 255, 0.3)';e.target.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"18\",height:\"18\",viewBox:\"0 0 48 48\",children:[/*#__PURE__*/_jsx(\"path\",{fill:\"#EA4335\",d:\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#4285F4\",d:\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#FBBC05\",d:\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"}),/*#__PURE__*/_jsx(\"path\",{fill:\"#34A853\",d:\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"})]}),\"Continue with Google\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'16px',marginBottom:'24px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,height:'1px',background:'linear-gradient(90deg, transparent, rgba(0, 240, 255, 0.5), transparent)',boxShadow:'0 0 8px rgba(0, 240, 255, 0.3)'}}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#00F0FF',fontSize:'13px',fontWeight:'700',textShadow:'0 0 10px rgba(0, 240, 255, 0.5)'},children:\"OR\"}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,height:'1px',background:'linear-gradient(90deg, transparent, rgba(0, 240, 255, 0.5), transparent)',boxShadow:'0 0 8px rgba(0, 240, 255, 0.3)'}})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'18px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'8px',color:'#FFFFFF',fontSize:'13px',fontWeight:'700',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'0.5px'},children:[/*#__PURE__*/_jsx(IoPersonOutline,{size:16,color:\"#00F0FF\"}),\"Full Name\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"full_name\",value:formData.full_name,onChange:handleChange,required:true,disabled:loading,placeholder:\"John Doe\",style:{width:'100%',padding:'13px 16px',background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'12px',color:'#FFFFFF',fontSize:'15px',outline:'none',transition:'all 0.3s',boxSizing:'border-box',boxShadow:'inset 0 2px 4px rgba(0, 0, 0, 0.2)'},onFocus:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.8)';e.target.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.2)';},onBlur:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.4)';e.target.style.boxShadow='inset 0 2px 4px rgba(0, 0, 0, 0.2)';}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'18px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'8px',color:'#FFFFFF',fontSize:'13px',fontWeight:'700',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'0.5px'},children:[/*#__PURE__*/_jsx(IoMail,{size:16,color:\"#00F0FF\"}),\"Email Address\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,required:true,disabled:loading,placeholder:\"you@example.com\",style:{width:'100%',padding:'13px 16px',background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'12px',color:'#FFFFFF',fontSize:'15px',outline:'none',transition:'all 0.3s',boxSizing:'border-box',boxShadow:'inset 0 2px 4px rgba(0, 0, 0, 0.2)'},onFocus:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.8)';e.target.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.2)';},onBlur:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.4)';e.target.style.boxShadow='inset 0 2px 4px rgba(0, 0, 0, 0.2)';}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'18px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'flex',alignItems:'center',gap:'8px',color:'#FFFFFF',fontSize:'13px',fontWeight:'700',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"\\uD83D\\uDCF1 Phone Number\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>setShowCountryDropdown(!showCountryDropdown),style:{padding:'13px 12px',background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'12px',color:'#FFFFFF',fontSize:'15px',cursor:'pointer',display:'flex',alignItems:'center',gap:'6px',minWidth:'90px',boxShadow:'inset 0 2px 4px rgba(0, 0, 0, 0.2)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:(_countries$find=countries.find(c=>c.code===formData.country_code))===null||_countries$find===void 0?void 0:_countries$find.flag}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'14px',fontWeight:'600'},children:formData.country_code}),/*#__PURE__*/_jsx(IoChevronDown,{size:14})]}),showCountryDropdown&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'100%',left:0,marginTop:'4px',background:'rgba(10, 25, 41, 0.98)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'12px',overflow:'hidden',zIndex:100,minWidth:'140px',boxShadow:'0 8px 24px rgba(0, 0, 0, 0.4)'},children:countries.map(country=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>{setFormData(_objectSpread(_objectSpread({},formData),{},{country_code:country.code}));setShowCountryDropdown(false);},style:{width:'100%',padding:'10px 12px',background:'transparent',border:'none',color:'#FFFFFF',fontSize:'14px',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'all 0.2s'},onMouseEnter:e=>{e.target.style.background='rgba(0, 240, 255, 0.1)';},onMouseLeave:e=>{e.target.style.background='transparent';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'18px'},children:country.flag}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600'},children:country.code}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#8F9BB3',fontSize:'12px'},children:country.name})]},country.code))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"phone_number\",value:formData.phone_number,onChange:handleChange,required:true,disabled:loading,placeholder:\"7700 900000\",style:{flex:1,padding:'13px 16px',background:'rgba(10, 25, 41, 0.8)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#FFFFFF',fontSize:'15px',outline:'none',transition:'all 0.3s',boxShadow:'inset 0 2px 4px rgba(0, 0, 0, 0.2)'},onFocus:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.8)';e.target.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.2)';},onBlur:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.4)';e.target.style.boxShadow='inset 0 2px 4px rgba(0, 0, 0, 0.2)';}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'18px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'8px',color:'#FFFFFF',fontSize:'13px',fontWeight:'700',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'0.5px'},children:[/*#__PURE__*/_jsx(IoLockClosed,{size:16,color:\"#00F0FF\"}),\"Password\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',name:\"password\",value:formData.password,onChange:handleChange,required:true,disabled:loading,placeholder:\"Minimum 8 characters \\u2022 Mix letters & numbers\",style:{width:'100%',padding:'13px 50px 13px 16px',background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'12px',color:'#FFFFFF',fontSize:'15px',outline:'none',transition:'all 0.3s',boxSizing:'border-box',boxShadow:'inset 0 2px 4px rgba(0, 0, 0, 0.2)'},onFocus:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.8)';e.target.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.3), inset 0 2px 4px rgba(0, 0, 0, 0.2)';},onBlur:e=>{e.target.style.borderColor='rgba(0, 240, 255, 0.4)';e.target.style.boxShadow='inset 0 2px 4px rgba(0, 0, 0, 0.2)';}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPassword(!showPassword),style:{position:'absolute',right:'14px',top:'50%',transform:'translateY(-50%)',background:'transparent',border:'none',color:'#00F0FF',cursor:'pointer',padding:'4px',display:'flex',alignItems:'center'},children:showPassword?/*#__PURE__*/_jsx(IoEyeOff,{size:20}):/*#__PURE__*/_jsx(IoEye,{size:20})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'8px',color:'#FFFFFF',fontSize:'13px',fontWeight:'700',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'0.5px'},children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:16,color:\"#00F0FF\"}),\"Confirm Password\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{type:showConfirmPassword?'text':'password',name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,required:true,disabled:loading,placeholder:\"Re-enter password to confirm\",style:{width:'100%',padding:'13px 50px 13px 16px',background:'rgba(0, 0, 0, 0.4)',border:\"1px solid \".concat(formData.confirmPassword&&formData.password!==formData.confirmPassword?'rgba(239, 68, 68, 0.6)':'rgba(0, 240, 255, 0.4)'),borderRadius:'12px',color:'#FFFFFF',fontSize:'15px',outline:'none',transition:'all 0.3s',boxSizing:'border-box',boxShadow:'inset 0 2px 4px rgba(0, 0, 0, 0.2)'},onFocus:e=>{e.target.style.borderColor=formData.confirmPassword&&formData.password!==formData.confirmPassword?'rgba(239, 68, 68, 0.8)':'rgba(0, 240, 255, 0.8)';e.target.style.boxShadow=\"0 0 20px \".concat(formData.confirmPassword&&formData.password!==formData.confirmPassword?'rgba(239, 68, 68, 0.3)':'rgba(0, 240, 255, 0.3)',\", inset 0 2px 4px rgba(0, 0, 0, 0.2)\");},onBlur:e=>{e.target.style.borderColor=formData.confirmPassword&&formData.password!==formData.confirmPassword?'rgba(239, 68, 68, 0.6)':'rgba(0, 240, 255, 0.4)';e.target.style.boxShadow='inset 0 2px 4px rgba(0, 0, 0, 0.2)';}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowConfirmPassword(!showConfirmPassword),style:{position:'absolute',right:'14px',top:'50%',transform:'translateY(-50%)',background:'transparent',border:'none',color:'#00F0FF',cursor:'pointer',padding:'4px',display:'flex',alignItems:'center'},children:showConfirmPassword?/*#__PURE__*/_jsx(IoEyeOff,{size:20}):/*#__PURE__*/_jsx(IoEye,{size:20})})]}),formData.confirmPassword&&formData.password!==formData.confirmPassword&&/*#__PURE__*/_jsx(\"p\",{style:{color:'#EF4444',fontSize:'12px',marginTop:'6px',fontWeight:'500'},children:\"\\u26A0\\uFE0F Passwords do not match\"})]}),formData.referral_code&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px',padding:'10px 14px',background:'rgba(34, 197, 94, 0.12)',border:'1px solid rgba(34, 197, 94, 0.4)',borderRadius:'12px',display:'flex',alignItems:'center',gap:'8px'},children:/*#__PURE__*/_jsxs(\"span\",{style:{color:'#22C55E',fontSize:'13px',fontWeight:'700'},children:[\"\\uD83C\\uDF81 Referral: \",formData.referral_code]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{width:'100%',padding:'15px',background:loading?'rgba(143, 155, 179, 0.3)':'linear-gradient(135deg, #00F0FF 0%, #00C6FF 50%, #9B4DFF 100%)',border:'none',borderRadius:'14px',color:'#FFFFFF',fontSize:'16px',fontWeight:'800',cursor:loading?'not-allowed':'pointer',transition:'all 0.3s',boxShadow:loading?'none':'0 6px 24px rgba(0, 240, 255, 0.5), 0 0 40px rgba(155, 77, 255, 0.3)',marginBottom:'18px',letterSpacing:'0.5px',textTransform:'uppercase'},onMouseEnter:e=>{if(!loading){e.target.style.transform='translateY(-2px)';e.target.style.boxShadow='0 8px 32px rgba(0, 240, 255, 0.6), 0 0 60px rgba(155, 77, 255, 0.4)';}},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='0 6px 24px rgba(0, 240, 255, 0.5), 0 0 40px rgba(155, 77, 255, 0.3)';},children:loading?'Creating Account...':'Create Account'}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',color:'#8F9BB3',fontSize:'14px',fontWeight:'500'},children:[\"Already have an account?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login2\",style:{color:'#00F0FF',fontWeight:'700',textDecoration:'none',transition:'all 0.3s',textShadow:'0 0 10px rgba(0, 240, 255, 0.3)'},onMouseEnter:e=>{e.target.style.color='#9B4DFF';e.target.style.textShadow='0 0 10px rgba(155, 77, 255, 0.5)';},onMouseLeave:e=>{e.target.style.color='#00F0FF';e.target.style.textShadow='0 0 10px rgba(0, 240, 255, 0.3)';},children:\"Login\"})]})]})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes float {\\n          0%, 100% { transform: translateY(0) rotate(0deg); }\\n          50% { transform: translateY(-20px) rotate(5deg); }\\n        }\\n        @keyframes glow {\\n          0%, 100% { box-shadow: 0 12px 40px rgba(0, 240, 255, 0.5), 0 0 60px rgba(155, 77, 255, 0.3); }\\n          50% { box-shadow: 0 12px 40px rgba(0, 240, 255, 0.7), 0 0 80px rgba(155, 77, 255, 0.5); }\\n        }\\n        input::placeholder {\\n          color: rgba(184, 197, 214, 0.6) !important;\\n          font-weight: 500;\\n        }\\n      \"})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}