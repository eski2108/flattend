"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3227],{3227:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n(9950),r=n(4028),a=n(6910),s=n(2033),o=n(6604),l=n(7168),c=n(4414);const d="https://bugsecurehub.preview.emergentagent.com";function p(){const e=(0,r.Zp)(),[t,n]=(0,i.useState)(null),[p,g]=(0,i.useState)(!0),[y,u]=(0,i.useState)([]);(0,i.useEffect)(()=>{const t=localStorage.getItem("cryptobank_user");if(!t)return void e("/login");const i=JSON.parse(t);n(i),h(i.user_id)},[e]);const h=async e=>{g(!0);try{const t=await a.A.get("".concat(d,"/api/savings/history/").concat(e));t.data.success&&u(t.data.transactions)}catch(t){console.error("Error loading history:",t),s.oR.error("Failed to load history")}finally{g(!1)}},f=e=>{switch(e){case"deposit":return(0,c.jsx)(o.y1m,{size:20,style:{color:"#22C55E"}});case"withdrawal":return(0,c.jsx)(o.fad,{size:20,style:{color:"#EF4444"}});case"vault_lock":return(0,c.jsx)(o.wKx,{size:20,style:{color:"#6C5CE7"}});case"vault_redeem":return(0,c.jsx)(o.wKx,{size:20,style:{color:"#22C55E"}});case"vault_early_exit":return(0,c.jsx)(o.wKx,{size:20,style:{color:"#F59E0B"}});default:return(0,c.jsx)(o.S15,{size:20,style:{color:"#00D2FF"}})}};return p?(0,c.jsx)("div",{style:x.container,children:(0,c.jsxs)("div",{style:x.loadingContainer,children:[(0,c.jsx)("div",{style:x.spinner}),(0,c.jsx)("p",{style:x.loadingText,children:"Loading history..."})]})}):(0,c.jsxs)("div",{style:x.container,children:[(0,c.jsxs)("div",{style:x.header,children:[(0,c.jsxs)("button",{style:x.backBtn,onClick:()=>e("/savings"),children:[(0,c.jsx)(o.NEn,{size:20}),"Back to Savings"]}),(0,c.jsx)("h1",{style:x.title,children:"Transaction History"})]}),0===y.length?(0,c.jsx)("div",{style:x.emptyState,children:(0,c.jsx)("p",{style:x.emptyText,children:"No transactions yet"})}):(0,c.jsx)("div",{style:x.transactionsList,children:y.map(e=>{return(0,c.jsxs)("div",{style:x.transactionCard,children:[(0,c.jsxs)("div",{style:x.transactionLeft,children:[(0,c.jsx)("div",{style:x.iconCircle,children:f(e.type)}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{style:x.transactionType,children:(t=e.type,{deposit:"Deposit to Savings",withdrawal:"Withdrawal to Wallet",vault_lock:"Locked Vault Created",vault_redeem:"Vault Redeemed",vault_early_exit:"Early Vault Exit"}[t]||t)}),(0,c.jsx)("p",{style:x.transactionDate,children:new Date(e.created_at).toLocaleString()})]})]}),(0,c.jsxs)("div",{style:x.transactionRight,children:[(0,c.jsxs)("div",{style:x.amountContainer,children:[(0,c.jsx)("img",{src:(0,l.Ni)(e.currency),alt:e.currency,style:x.coinIcon}),(0,c.jsxs)("span",{style:x.amount,children:[e.amount.toFixed(8)," ",e.currency]})]}),e.earnings&&(0,c.jsxs)("p",{style:x.earnings,children:["+",e.earnings.toFixed(8)," ",e.currency," earned"]}),e.penalty&&(0,c.jsxs)("p",{style:x.penalty,children:["-",e.penalty.toFixed(8)," ",e.currency," penalty"]})]})]},e.transaction_id);var t})})]})}const x={container:{background:"#0B0F1A",minHeight:"100vh",padding:"24px",paddingTop:"80px",color:"#EAF0FF"},loadingContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh"},spinner:{width:"48px",height:"48px",border:"4px solid rgba(234, 240, 255, 0.1)",borderTop:"4px solid #6C5CE7",borderRadius:"50%",animation:"spin 1s linear infinite"},loadingText:{marginTop:"16px",color:"rgba(234, 240, 255, 0.72)"},header:{marginBottom:"24px"},backBtn:{background:"transparent",border:"1px solid rgba(234, 240, 255, 0.18)",color:"#EAF0FF",padding:"10px 16px",borderRadius:"12px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"6px",marginBottom:"16px"},title:{fontSize:"24px",fontWeight:700,margin:0},transactionsList:{display:"flex",flexDirection:"column",gap:"12px"},transactionCard:{background:"rgba(16, 22, 38, 0.72)",border:"1px solid rgba(120, 170, 255, 0.14)",borderRadius:"14px",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 0 24px rgba(90, 140, 255, 0.10)"},transactionLeft:{display:"flex",alignItems:"center",gap:"12px"},iconCircle:{width:"40px",height:"40px",borderRadius:"50%",background:"rgba(16, 22, 38, 0.55)",display:"flex",alignItems:"center",justifyContent:"center"},transactionType:{fontSize:"14px",fontWeight:600,color:"#EAF0FF",marginBottom:"4px"},transactionDate:{fontSize:"12px",color:"rgba(234, 240, 255, 0.72)"},transactionRight:{textAlign:"right"},amountContainer:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"flex-end",marginBottom:"4px"},coinIcon:{width:"20px",height:"20px",borderRadius:"50%"},amount:{fontSize:"16px",fontWeight:700,color:"#EAF0FF"},earnings:{fontSize:"12px",color:"#22C55E"},penalty:{fontSize:"12px",color:"#EF4444"},emptyState:{background:"rgba(16, 22, 38, 0.72)",border:"1px solid rgba(120, 170, 255, 0.14)",borderRadius:"18px",padding:"60px 20px",textAlign:"center"},emptyText:{fontSize:"16px",color:"rgba(234, 240, 255, 0.72)"}}}}]);