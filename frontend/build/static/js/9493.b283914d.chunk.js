"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9493],{9493:(s,e,a)=>{a.r(e),a.d(e,{default:()=>i});var l=a(9950),c=a(4028),n=a(6910),t=a(4414);const i=()=>{const s=(0,c.Zp)(),[e,a]=(0,l.useState)(!0),[i,d]=(0,l.useState)([]),[r,o]=(0,l.useState)(0),[h,m]=(0,l.useState)(0),[x,j]=(0,l.useState)(0),[v,N]=(0,l.useState)(null),[u,b]=(0,l.useState)("name"),[p,g]=(0,l.useState)(!1),[k,f]=(0,l.useState)("all"),[y,S]=(0,l.useState)("main"),[w,C]=(0,l.useState)("30d");(0,l.useEffect)(()=>{_()},[]);const _=async()=>{try{a(!0);const s=localStorage.getItem("user_id"),e=await n.A.get("".concat("https://bugsecurehub.preview.emergentagent.com","/api/savings/positions/").concat(s));if(e.data.success){const s=e.data;d(s.positions||[]),o(s.total_balance_usd||0),m(s.available_balance_usd||0),j(s.total_interest_earned_usd||0)}}catch(s){console.error("Error loading savings:",s)}finally{a(!1)}};return(0,t.jsxs)("div",{className:"savings-vault",children:[(0,t.jsxs)("header",{className:"savings-header",children:[(0,t.jsx)("h1",{className:"savings-title",children:"Savings Vault"}),(0,t.jsxs)("div",{className:"header-actions",children:[(0,t.jsxs)("div",{className:"wallet-selector",children:[(0,t.jsxs)("span",{children:["Wallet: ",y]}),(0,t.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),(0,t.jsx)("button",{className:"transfer-button",children:"Transfer from Wallet"})]})]}),(0,t.jsxs)("div",{className:"summary-cards",children:[(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"card-label",children:"Total Balance"}),(0,t.jsxs)("div",{className:"card-value",children:["$",r.toFixed(2)]}),(0,t.jsxs)("div",{className:"live-indicator",children:[(0,t.jsx)("span",{className:"live-dot"}),(0,t.jsx)("span",{className:"live-text",children:"Live"})]})]}),(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"card-label",children:"Available to Transfer"}),(0,t.jsxs)("div",{className:"card-value",children:["$",h.toFixed(2)]}),(0,t.jsxs)("div",{className:"live-indicator",children:[(0,t.jsx)("span",{className:"live-dot"}),(0,t.jsx)("span",{className:"live-text",children:"Live"})]})]}),(0,t.jsxs)("div",{className:"summary-card",children:[(0,t.jsx)("div",{className:"card-label",children:"Interest Earned to Date"}),(0,t.jsxs)("div",{className:"card-value",children:["$",x.toFixed(2)]}),(0,t.jsxs)("div",{className:"live-indicator",children:[(0,t.jsx)("span",{className:"live-dot"}),(0,t.jsx)("span",{className:"live-text",children:"Live"})]})]})]}),(0,t.jsx)("div",{className:"referral-banner",children:(0,t.jsx)("span",{className:"referral-text",children:"Invite friends, earn more \u279c"})}),(0,t.jsxs)("div",{className:"controls-bar",children:[(0,t.jsxs)("div",{className:"sort-control",children:[(0,t.jsxs)("span",{children:["Sort: ",u]}),(0,t.jsx)("span",{className:"dropdown-arrow",children:"\u25bc"})]}),(0,t.jsxs)("div",{className:"filter-controls",children:[(0,t.jsxs)("button",{className:"filter-btn ".concat(p?"active":""),onClick:()=>g(!p),children:["Active ",p&&"\u2713"]}),(0,t.jsx)("button",{className:"filter-btn ".concat("flexible"===k?"active":""),onClick:()=>f("flexible"===k?"all":"flexible"),children:"Flexible"}),(0,t.jsx)("button",{className:"filter-btn ".concat("staked"===k?"active":""),onClick:()=>f("staked"===k?"all":"staked"),children:"Staked"})]})]}),(0,t.jsxs)("div",{className:"portfolio-section",children:[(0,t.jsx)("h2",{className:"section-title",children:"Your Savings"}),e?(0,t.jsx)("div",{className:"loading-state",children:"Loading your savings..."}):0===i.length?(0,t.jsxs)("div",{className:"empty-state",children:[(0,t.jsx)("p",{children:"You don't have any savings yet."}),(0,t.jsx)("button",{className:"transfer-button",onClick:()=>s("/wallet"),children:"Start Saving Now"})]}):(0,t.jsx)("div",{className:"token-cards",children:i.map((s,e)=>(0,t.jsxs)("div",{className:"token-card ".concat(v===e?"expanded":""),children:[(0,t.jsxs)("div",{className:"card-header",onClick:()=>(s=>{N(v===s?null:s)})(e),children:[(0,t.jsxs)("div",{className:"token-info",children:[(0,t.jsx)("div",{className:"token-icon",children:s.symbol.substring(0,1)}),(0,t.jsxs)("div",{className:"token-name",children:[s.name," (",s.symbol,")"]})]}),(0,t.jsxs)("div",{className:"token-stats",children:[(0,t.jsxs)("div",{className:"balance",children:[s.balance," ",s.symbol,(0,t.jsxs)("span",{className:"fiat-value",children:["\u2248 $",s.balance_usd]})]}),(0,t.jsxs)("div",{className:"apy-info",children:[(0,t.jsx)("span",{className:"apy-label",children:"APY:"}),(0,t.jsxs)("span",{className:"apy-value",children:[s.apy,"%"]})]}),(0,t.jsxs)("div",{className:"interest-earned",children:["Interest: ",s.interest_earned," ",s.symbol]}),(0,t.jsxs)("div",{className:"est-monthly",children:["Est. Monthly: ~$",s.estimated_monthly]})]}),(0,t.jsxs)("div",{className:"card-toggles",children:[(0,t.jsxs)("div",{className:"flexible-staked-toggle",children:[(0,t.jsx)("button",{className:"flexible"===s.type?"active":"",onClick:s=>{s.stopPropagation()},children:"Flexible"}),(0,t.jsx)("button",{className:"staked"===s.type?"active":"",onClick:s=>{s.stopPropagation()},children:"Staked"})]}),(0,t.jsx)("div",{className:"auto-compound-toggle",children:(0,t.jsxs)("label",{children:["Auto-Compound",(0,t.jsx)("input",{type:"checkbox",checked:s.auto_compound,onChange:s=>{s.stopPropagation()}}),(0,t.jsx)("span",{className:"toggle-slider"})]})})]}),(0,t.jsx)("div",{className:"expand-arrow",children:v===e?"\u25b2":"\u25bc"})]}),v===e&&(0,t.jsxs)("div",{className:"card-expanded",children:[(0,t.jsxs)("div",{className:"graph-section",children:[(0,t.jsxs)("div",{className:"graph-controls",children:[(0,t.jsx)("button",{className:"30d"===w?"active":"",onClick:()=>C("30d"),children:"30D"}),(0,t.jsx)("button",{className:"90d"===w?"active":"",onClick:()=>C("90d"),children:"90D"})]}),(0,t.jsx)("div",{className:"earnings-graph",children:(0,t.jsx)("div",{className:"graph-placeholder",children:(0,t.jsx)("svg",{width:"100%",height:"100",viewBox:"0 0 600 100",children:(0,t.jsx)("path",{d:"M 0 80 L 100 70 L 200 50 L 300 40 L 400 45 L 500 30 L 600 20",stroke:"#00FF85",strokeWidth:"2",fill:"none"})})})})]}),(0,t.jsxs)("div",{className:"action-buttons",children:[(0,t.jsx)("button",{className:"action-btn withdraw-btn",children:"Withdraw"}),(0,t.jsx)("button",{className:"action-btn add-btn",children:"Add"})]}),"staked"===s.type&&(0,t.jsxs)("div",{className:"lockup-selectors",children:[(0,t.jsx)("button",{className:"lockup-btn",children:"7d"}),(0,t.jsx)("button",{className:"lockup-btn active",children:"30d"}),(0,t.jsx)("button",{className:"lockup-btn",children:"90d"})]}),(0,t.jsx)("div",{className:"interest-history-link",children:(0,t.jsx)("button",{children:"\ud83d\udcd1 Interest History"})})]})]},e))})]}),(0,t.jsxs)("div",{className:"mobile-footer",children:[(0,t.jsxs)("button",{className:"footer-tab",onClick:()=>s("/wallet"),children:[(0,t.jsx)("span",{className:"tab-icon",children:"\ud83d\udcb0"}),(0,t.jsx)("span",{className:"tab-label",children:"Wallet"})]}),(0,t.jsxs)("button",{className:"footer-tab active",children:[(0,t.jsx)("span",{className:"tab-icon",children:"\ud83d\udcb2"}),(0,t.jsx)("span",{className:"tab-label",children:"Savings"})]}),(0,t.jsxs)("button",{className:"footer-tab",onClick:()=>s("/settings"),children:[(0,t.jsx)("span",{className:"tab-icon",children:"\u2699\ufe0f"}),(0,t.jsx)("span",{className:"tab-label",children:"Settings"})]})]})]})}}}]);