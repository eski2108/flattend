"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9659],{9659:(e,s,a)=>{a.r(s),a.d(s,{default:()=>m});var i=a(9379),l=a(9950),n=a(2033),r=a(6910),c=a(1330),d=a(6604),t=a(4414);const o="".concat("https://coinhubx.net","/api");function m(){var e;const[s,a]=(0,l.useState)({}),[m,h]=(0,l.useState)({}),[f,x]=(0,l.useState)(!0),[p,v]=(0,l.useState)(!1),[u,j]=(0,l.useState)(!1),[_,N]=(0,l.useState)({currency:"BTC",amount:"",external_address:""}),[y,b]=(0,l.useState)({}),[g,k]=(0,l.useState)(!1),[w,C]=(0,l.useState)({}),[F,S]=(0,l.useState)([]),[E,A]=(0,l.useState)(!1),[P,B]=(0,l.useState)(null),[z,T]=(0,l.useState)(""),[D,R]=(0,l.useState)({fee_type:"",value:""});(0,l.useEffect)(()=>{W()},[]);const W=async()=>{try{x(!0);const e=await r.A.get("".concat(o,"/admin/wallet/balance"));e.data.success&&a(e.data);const s=await r.A.get("".concat(o,"/admin/fee-settings"));s.data.success&&h(s.data.fees);const i=await r.A.get("".concat(o,"/admin/external-wallets"));i.data.success&&(b(i.data.wallets),C(i.data.wallets));const l=await r.A.get("".concat(o,"/admin/pending-payouts"));l.data.success&&S(l.data.pending_payouts)}catch(e){console.error("Error fetching data:",e),n.oR.error("Failed to load admin data")}finally{x(!1)}};return f?(0,t.jsx)(c.A,{children:(0,t.jsx)("div",{className:"admin-fees-container",children:(0,t.jsx)("p",{style:{color:"#fff",textAlign:"center"},children:"Loading..."})})}):(0,t.jsx)(c.A,{children:(0,t.jsxs)("div",{className:"admin-fees-container",children:[(0,t.jsxs)("div",{className:"admin-fees-header",children:[(0,t.jsxs)("h1",{className:"page-title",children:[(0,t.jsx)(d.MNd,{size:32}),"Admin Fee Management"]}),(0,t.jsx)("p",{className:"page-subtitle",children:"Manage platform fees and admin wallet"})]}),(0,t.jsxs)("div",{className:"admin-wallet-section",children:[(0,t.jsxs)("div",{className:"section-header",children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.AaD,{size:24}),"Admin Wallet Balance"]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,t.jsxs)("button",{className:"wallet-settings-btn",onClick:()=>k(!0),children:[(0,t.jsx)(d.ikl,{size:18}),"Manage Wallet Addresses"]}),(0,t.jsxs)("button",{className:"payout-btn",onClick:()=>v(!0),children:[(0,t.jsx)(d.$_z,{size:18}),"Withdraw to External Wallet"]})]})]}),(0,t.jsxs)("div",{className:"balance-grid",children:[(0,t.jsxs)("div",{className:"total-value-card",children:[(0,t.jsx)("div",{className:"value-label",children:"Total Value (USD)"}),(0,t.jsxs)("div",{className:"value-amount",children:["$",(s.total_value_usd||0).toLocaleString()]})]}),s.balances&&Object.entries(s.balances).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"balance-card",children:[(0,t.jsx)("div",{className:"currency-name",children:s}),(0,t.jsx)("div",{className:"currency-amount",children:parseFloat(a).toFixed(8)})]},s)})]})]}),F.length>0&&(0,t.jsxs)("div",{className:"pending-payouts-section",style:{background:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)",border:"1px solid rgba(245, 158, 11, 0.5)"},children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{style:{color:"#fff"},children:["\u26a0\ufe0f Pending Manual Payouts (",F.length,")"]})}),(0,t.jsx)("div",{style:{color:"#fff",marginBottom:"1.5rem",fontSize:"0.95rem"},children:"These payouts have been deducted from the admin wallet. Send crypto manually from YOUR wallet, then mark as completed."}),(0,t.jsx)("div",{className:"pending-payouts-list",children:F.map((e,s)=>(0,t.jsxs)("div",{className:"pending-payout-card",children:[(0,t.jsxs)("div",{className:"payout-info",children:[(0,t.jsxs)("div",{className:"payout-amount",children:[e.amount," ",e.currency]}),(0,t.jsxs)("div",{className:"payout-address",children:["To: ",e.external_address]}),(0,t.jsxs)("div",{className:"payout-date",children:["Created: ",new Date(e.created_at).toLocaleString()]})]}),(0,t.jsx)("button",{className:"confirm-payout-btn",onClick:()=>{B(e),A(!0)},children:"Mark as Sent"})]},s))})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83e\udd1d P2P Marketplace Fees"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"P2P Maker Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.p2p_maker_fee_percent||1,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for sellers creating listings"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"p2p_maker_fee_percent",value:m.p2p_maker_fee_percent||1}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"P2P Taker Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.p2p_taker_fee_percent||1,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for buyers accepting trades"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"p2p_taker_fee_percent",value:m.p2p_taker_fee_percent||1}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"P2P Express Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.p2p_express_fee_percent||2,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Express buy premium fee"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"p2p_express_fee_percent",value:m.p2p_express_fee_percent||2}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Dispute Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.dispute_fee_percent||2,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee charged for opening disputes"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"dispute_fee_percent",value:m.dispute_fee_percent||2}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Dispute Fixed Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:["\xa3",m.dispute_fee_fixed_gbp||2]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fixed GBP fee for disputes"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"dispute_fee_fixed_gbp",value:m.dispute_fee_fixed_gbp||2}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83d\udcc8 Trading Fees"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Instant Buy Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.instant_buy_fee_percent||3,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for instant crypto purchases"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"instant_buy_fee_percent",value:m.instant_buy_fee_percent||3}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Instant Sell Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.instant_sell_fee_percent||2,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for instant crypto sales"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"instant_sell_fee_percent",value:m.instant_sell_fee_percent||2}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Swap Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.swap_fee_percent||1.5,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for crypto-to-crypto swaps"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"swap_fee_percent",value:m.swap_fee_percent||1.5}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Spot Trading Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.spot_trading_fee_percent||3,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for spot trading"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"spot_trading_fee_percent",value:m.spot_trading_fee_percent||3}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"General Trading Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.trading_fee_percent||.1,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Base trading fee"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"trading_fee_percent",value:m.trading_fee_percent||.1}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83d\udcb0 Withdrawal & Deposit Fees"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Crypto Withdrawal Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.withdrawal_fee_percent||1,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee on crypto withdrawals"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"withdrawal_fee_percent",value:m.withdrawal_fee_percent||1}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Network Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.network_withdrawal_fee_percent||1,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Blockchain network fee markup"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"network_withdrawal_fee_percent",value:m.network_withdrawal_fee_percent||1}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Fiat Withdrawal Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.fiat_withdrawal_fee_percent||1,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee on fiat/GBP withdrawals"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"fiat_withdrawal_fee_percent",value:m.fiat_withdrawal_fee_percent||1}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Deposit Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.deposit_fee_percent||0,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee on deposits (usually 0)"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"deposit_fee_percent",value:m.deposit_fee_percent||0}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83d\udcb3 Card Payment Fees"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Card Purchase Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.card_purchase_fee_percent||3.5,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for card-based crypto purchases"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"card_purchase_fee_percent",value:m.card_purchase_fee_percent||3.5}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Card Processing Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.card_processing_fee_percent||2.9,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Payment processor markup"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"card_processing_fee_percent",value:m.card_processing_fee_percent||2.9}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Card Fixed Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:["\xa3",m.card_fixed_fee_gbp||.3]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fixed fee per card transaction"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"card_fixed_fee_gbp",value:m.card_fixed_fee_gbp||.3}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83d\udc65 Referral Commission Rates"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Standard Referral"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.referral_standard_commission_percent||20,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Commission for standard referrers"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"referral_standard_commission_percent",value:m.referral_standard_commission_percent||20}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Golden Referral"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.referral_golden_commission_percent||50,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Commission for golden tier referrers"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"referral_golden_commission_percent",value:m.referral_golden_commission_percent||50}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83c\udfe6 Savings & Staking Fees"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Savings Stake Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.savings_stake_fee_percent||.5,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee on staking deposits"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"savings_stake_fee_percent",value:m.savings_stake_fee_percent||.5}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Early Unstake Penalty"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.early_unstake_penalty_percent||3,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Penalty for early withdrawal"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"early_unstake_penalty_percent",value:m.early_unstake_penalty_percent||3}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83d\udd04 Internal Transfer Fees"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Vault Transfer Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.vault_transfer_fee_percent||.5,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for vault-to-wallet transfers"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"vault_transfer_fee_percent",value:m.vault_transfer_fee_percent||.5}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Cross-Wallet Fee"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.cross_wallet_transfer_fee_percent||.25,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Fee for internal wallet transfers"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"cross_wallet_transfer_fee_percent",value:m.cross_wallet_transfer_fee_percent||.25}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"fee-settings-section",children:[(0,t.jsx)("div",{className:"section-header",children:(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.ikl,{size:24}),"\ud83d\udcca Liquidity & Spread Settings"]})}),(0,t.jsxs)("div",{className:"fee-settings-grid",children:[(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Admin Liquidity Spread"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.admin_liquidity_spread_percent||0,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Price spread on admin liquidity"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"admin_liquidity_spread_percent",value:m.admin_liquidity_spread_percent||0}),j(!0)},children:"Edit"})]}),(0,t.jsxs)("div",{className:"fee-card",children:[(0,t.jsxs)("div",{className:"fee-card-header",children:[(0,t.jsx)("div",{className:"fee-name",children:"Express Liquidity Profit"}),(0,t.jsxs)("div",{className:"fee-value",children:[m.express_liquidity_profit_percent||0,"%"]})]}),(0,t.jsx)("div",{className:"fee-description",children:"Profit margin on express trades"}),(0,t.jsx)("button",{className:"edit-fee-btn",onClick:()=>{R({fee_type:"express_liquidity_profit_percent",value:m.express_liquidity_profit_percent||0}),j(!0)},children:"Edit"})]})]})]}),(0,t.jsxs)("div",{className:"recent-fees-section",children:[(0,t.jsxs)("h2",{children:[(0,t.jsx)(d.BOd,{size:24}),"Recent Fee Collections"]}),(0,t.jsx)("div",{className:"transactions-list",children:s.recent_fee_transactions&&s.recent_fee_transactions.length>0?s.recent_fee_transactions.map((e,s)=>(0,t.jsxs)("div",{className:"transaction-item",children:[(0,t.jsx)("div",{className:"tx-type",children:e.transaction_type.replace("_"," ").toUpperCase()}),(0,t.jsxs)("div",{className:"tx-amount",children:["+",e.amount," ",e.currency]}),(0,t.jsx)("div",{className:"tx-date",children:new Date(e.created_at).toLocaleString()})]},s)):(0,t.jsx)("p",{style:{color:"#888",textAlign:"center"},children:"No recent fee transactions"})})]}),p&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h3",{children:"Withdraw to External Wallet"}),(0,t.jsx)("button",{onClick:()=>v(!1),children:"\xd7"})]}),(0,t.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s=_.external_address||y[_.currency];if(s)try{(await r.A.post("".concat(o,"/admin/wallet/payout"),(0,i.A)((0,i.A)({},_),{},{external_address:s}))).data.success&&(n.oR.success("Payout request created! Now send crypto manually from your wallet."),v(!1),N({currency:"BTC",amount:"",external_address:""}),W())}catch(c){var a,l;n.oR.error((null===(a=c.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.detail)||"Payout failed")}else n.oR.error("Please save your external wallet address first or enter one manually")},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Currency"}),(0,t.jsx)("select",{value:_.currency,onChange:e=>N((0,i.A)((0,i.A)({},_),{},{currency:e.target.value})),required:!0,children:s.balances&&Object.keys(s.balances).map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Amount"}),(0,t.jsx)("input",{type:"number",step:"0.00000001",value:_.amount,onChange:e=>N((0,i.A)((0,i.A)({},_),{},{amount:e.target.value})),placeholder:"0.00000000",required:!0}),(0,t.jsxs)("div",{className:"available-balance",children:["Available: ",(null===(e=s.balances)||void 0===e?void 0:e[_.currency])||0," ",_.currency]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Your External Wallet Address"}),(0,t.jsx)("input",{type:"text",value:_.external_address,onChange:e=>N((0,i.A)((0,i.A)({},_),{},{external_address:e.target.value})),placeholder:"Enter your personal wallet address",required:!0})]}),(0,t.jsxs)("div",{className:"modal-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>v(!1),className:"cancel-btn",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",className:"submit-btn",children:[(0,t.jsx)(d.$_z,{size:18}),"Send Payout"]})]})]})]})}),E&&P&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>A(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h3",{children:"Confirm Manual Payout"}),(0,t.jsx)("button",{onClick:()=>A(!1),children:"\xd7"})]}),(0,t.jsx)("div",{className:"info-box",style:{marginBottom:"1.5rem",background:"rgba(245, 158, 11, 0.2)",border:"1px solid rgba(245, 158, 11, 0.4)"},children:(0,t.jsxs)("p",{style:{color:"#F59E0B",fontSize:"0.9rem",margin:0},children:["\u26a0\ufe0f Make sure you've sent ",(0,t.jsxs)("strong",{children:[P.amount," ",P.currency]})," to ",(0,t.jsx)("strong",{children:P.external_address})," from YOUR personal wallet before confirming."]})}),(0,t.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[(0,t.jsx)("div",{style:{color:"#8B9DC3",fontSize:"0.85rem",marginBottom:"0.5rem"},children:"Amount:"}),(0,t.jsxs)("div",{style:{color:"#fff",fontSize:"1.25rem",fontWeight:"600",marginBottom:"1rem"},children:[P.amount," ",P.currency]}),(0,t.jsx)("div",{style:{color:"#8B9DC3",fontSize:"0.85rem",marginBottom:"0.5rem"},children:"To Address:"}),(0,t.jsx)("div",{style:{color:"#00D9FF",fontSize:"0.9rem",wordBreak:"break-all",fontFamily:"monospace"},children:P.external_address})]}),(0,t.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{(await r.A.post("".concat(o,"/admin/confirm-payout"),{transaction_id:P.transaction_id,tx_hash:z})).data.success&&(n.oR.success("Payout confirmed!"),A(!1),T(""),B(null),W())}catch(i){var s,a;n.oR.error((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"Failed to confirm payout")}},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Blockchain Transaction Hash (Optional)"}),(0,t.jsx)("input",{type:"text",value:z,onChange:e=>T(e.target.value),placeholder:"Paste TX hash from your wallet (e.g., 0x123... or tx123...)"}),(0,t.jsx)("div",{style:{fontSize:"0.8rem",color:"#8B9DC3",marginTop:"0.5rem"},children:"Enter the transaction hash from your wallet to keep a record"})]}),(0,t.jsxs)("div",{className:"modal-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>A(!1),className:"cancel-btn",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"submit-btn",style:{background:"linear-gradient(135deg, #10B981, #059669)"},children:"Confirm I Sent This"})]})]})]})}),g&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>k(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h3",{children:"Manage External Wallet Addresses"}),(0,t.jsx)("button",{onClick:()=>k(!1),children:"\xd7"})]}),(0,t.jsx)("div",{className:"info-box",style:{marginBottom:"1.5rem",background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.3)"},children:(0,t.jsx)("p",{style:{color:"#10B981",fontSize:"0.9rem",margin:0},children:"\ud83d\udca1 Save your external wallet addresses here. When you withdraw fees, they'll be sent to these addresses automatically."})}),(0,t.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{(await r.A.post("".concat(o,"/admin/save-external-wallet"),{wallets:w})).data.success&&(n.oR.success("External wallet addresses saved!"),b(w),k(!1),W())}catch(i){var s,a;n.oR.error((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"Failed to save wallet addresses")}},children:[["BTC","ETH","USDT","USDC","BNB","SOL"].map(e=>(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsxs)("label",{children:[e," Wallet Address"]}),(0,t.jsx)("input",{type:"text",value:w[e]||"",onChange:s=>C((0,i.A)((0,i.A)({},w),{},{[e]:s.target.value})),placeholder:"Enter your ".concat(e," wallet address")}),y[e]&&(0,t.jsx)("div",{style:{fontSize:"0.8rem",color:"#10B981",marginTop:"0.25rem"},children:"\u2713 Saved"})]},e)),(0,t.jsxs)("div",{className:"modal-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>k(!1),className:"cancel-btn",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"submit-btn",children:"Save Wallet Addresses"})]})]})]})}),u&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>j(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsx)("h3",{children:"Update Fee Percentage"}),(0,t.jsx)("button",{onClick:()=>j(!1),children:"\xd7"})]}),(0,t.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await r.A.post("".concat(o,"/admin/update-fee"),D);e.data.success&&(n.oR.success(e.data.message),j(!1),W())}catch(i){var s,a;n.oR.error((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.detail)||"Failed to update fee")}},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Fee Type"}),(0,t.jsx)("input",{type:"text",value:D.fee_type.replace("_"," ").toUpperCase(),disabled:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"New Percentage (%)"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",value:D.value,onChange:e=>R((0,i.A)((0,i.A)({},D),{},{value:e.target.value})),placeholder:"1.5",required:!0})]}),(0,t.jsxs)("div",{className:"modal-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>j(!1),className:"cancel-btn",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"submit-btn",children:"Update Fee"})]})]})]})})]})})}}}]);