"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2109],{4490:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var i=t(9379),o=t(9950),n=t(4028),s=t(4245),l=t(3645),a=t(4779),d=t(6604),c=t(6910),p=t(2033),g=t(2191),x=t(4414);const m="https://bugsecurehub.preview.emergentagent.com";function u(){var e,r,t,n;const[s,l]=(0,o.useState)({}),[a,g]=(0,o.useState)(0),[u,h]=(0,o.useState)({}),[f,b]=(0,o.useState)([]),[y,j]=(0,o.useState)([]),[v,F]=(0,o.useState)({}),[S,_]=(0,o.useState)(!1),[z,k]=(0,o.useState)({amount:"",currency:"USDT",notes:""}),[A,B]=(0,o.useState)(!1),w=[{symbol:"BTC",name:"Bitcoin",icon:"\u20bf"},{symbol:"ETH",name:"Ethereum",icon:"\u039e"},{symbol:"USDT",name:"Tether",icon:"\u20ae"},{symbol:"BNB",name:"Binance Coin",icon:"B"},{symbol:"SOL",name:"Solana",icon:"S"},{symbol:"XRP",name:"Ripple",icon:"X"},{symbol:"LTC",name:"Litecoin",icon:"\u0141"}];(0,o.useEffect)(()=>{C(),W();const e=setInterval(C,3e4);return()=>clearInterval(e)},[]);const C=async()=>{try{const e=await c.A.get("".concat(m,"/api/admin/platform-wallet/balance"));e.data.success&&(l(e.data.balances),g(e.data.total_gbp_equivalent),h(e.data.stats),b(e.data.active_warnings||[]))}catch(e){console.error("Failed to fetch wallet balance:",e)}},W=async()=>{try{const e={};for(const r of w){const t=await c.A.get("".concat(m,"/api/admin/platform-wallet/deposit-address/").concat(r.symbol));t.data.success&&(e[r.symbol]=t.data.address)}F(e)}catch(e){console.error("Failed to fetch deposit addresses:",e)}};return(0,x.jsxs)("div",{style:{padding:"2rem"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h1",{style:{fontSize:"28px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:"Admin Top-Up Wallet"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Central treasury for all platform operations: referral bonuses, commissions, liquidity, fees"})]}),f.length>0&&(0,x.jsx)("div",{style:{marginBottom:"2rem"},children:f.map(e=>{var r;return(0,x.jsxs)("div",{style:{padding:"1rem 1.5rem",background:"critical"===e.level?"rgba(239, 68, 68, 0.1)":"rgba(251, 146, 60, 0.1)",border:"2px solid ".concat("critical"===e.level?"#EF4444":"#FB923C"),borderRadius:"12px",display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[(0,x.jsx)(AlertTriangle,{size:24,color:"critical"===e.level?"#EF4444":"#FB923C"}),(0,x.jsxs)("div",{style:{flex:1},children:[(0,x.jsxs)("p",{style:{margin:0,fontWeight:"700",color:"critical"===e.level?"#EF4444":"#FB923C"},children:["critical"===e.level?"CRITICAL":"WARNING",": Low Balance Alert"]}),(0,x.jsxs)("p",{style:{margin:"0.25rem 0 0",fontSize:"14px",color:"#E2E8F0"},children:[e.currency," balance: ",e.balance," (\xa3",null===(r=e.gbp_equivalent)||void 0===r?void 0:r.toFixed(2)," equivalent)"]})]}),(0,x.jsx)("button",{onClick:()=>p.oR.info("Top up required"),style:{padding:"0.5rem 1rem",background:"critical"===e.level?"#EF4444":"#FB923C",border:"none",borderRadius:"6px",color:"#fff",fontWeight:"700",cursor:"pointer"},children:"Top Up Now"})]},e.warning_id)})}),(0,x.jsx)("div",{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.15), rgba(168, 85, 247, 0.15))",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,color:"#888",fontSize:"14px",fontWeight:"600"},children:"Total Platform Balance"}),(0,x.jsxs)("h2",{style:{margin:"0.5rem 0 0",fontSize:"36px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",a.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",color:"#888",fontSize:"13px"},children:"GBP Equivalent \u2022 Updated every 30 seconds"})]}),(0,x.jsxs)("button",{onClick:()=>_(!0),style:{padding:"1rem 2rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"12px",color:"#000",fontWeight:"900",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.YHj,{size:20}),"Manual Top-Up"]})]})}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:w.map(e=>{const r=s[e.symbol]||0,t=r<10;return(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"2px solid ".concat(t?"#EF4444":"rgba(0, 240, 255, 0.2)"),borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,x.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #00F0FF, #A855F7)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"900"},children:e.icon}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700",color:"#E2E8F0"},children:e.name}),(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888"},children:e.symbol})]})]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"28px",fontWeight:"900",color:t?"#EF4444":"#00F0FF"},children:r.toLocaleString("en-GB",{minimumFractionDigits:4,maximumFractionDigits:8})}),(0,x.jsxs)("p",{style:{margin:"0.25rem 0 0",fontSize:"12px",color:"#888"},children:[e.symbol," Available"]})]}),v[e.symbol]&&(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"8px",padding:"0.75rem",marginBottom:"1rem"},children:[(0,x.jsx)("p",{style:{margin:"0 0 0.5rem",fontSize:"11px",color:"#888",fontWeight:"600"},children:"DEPOSIT ADDRESS:"}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"11px",color:"#00F0FF",fontFamily:"monospace",wordBreak:"break-all",flex:1},children:v[e.symbol]}),(0,x.jsx)("button",{onClick:()=>{return r=v[e.symbol],navigator.clipboard.writeText(r),void p.oR.success("Address copied to clipboard!");var r},style:{background:"rgba(0, 240, 255, 0.2)",border:"none",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,x.jsx)(d.iyF,{size:14,color:"#00F0FF"})})]})]}),t&&(0,x.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",padding:"0.5rem 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(AlertTriangle,{size:14,color:"#EF4444"}),(0,x.jsx)("span",{style:{fontSize:"12px",color:"#EF4444",fontWeight:"600"},children:"Low Balance - Top Up Required"})]})]},e.symbol)})}),(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{margin:"0 0 1.5rem",fontSize:"20px",fontWeight:"700",color:"#00F0FF"},children:"Platform Wallet Usage"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Referral Payouts"}),(0,x.jsxs)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#22C55E"},children:["\xa3",((null===(e=u.total_referral_payouts)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.total)||0).toFixed(2)]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Bonus Payouts"}),(0,x.jsxs)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:["\xa3",((null===(t=u.total_bonus_payouts)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.total)||0).toFixed(2)]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Liquidity Deployed"}),(0,x.jsxs)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#3B82F6"},children:["$",Object.values(u.total_liquidity||{}).reduce((e,r)=>e+r,0).toFixed(2)]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Withdrawal Fees Collected"}),(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:"3% on All Withdrawals"})]})]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",marginTop:"2rem"},children:[(0,x.jsx)("h4",{style:{margin:"0 0 1rem",color:"#00F0FF",fontSize:"16px",fontWeight:"700"},children:"\ud83d\udca1 Admin Top-Up Wallet Powers Everything"}),(0,x.jsxs)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#888",fontSize:"14px",lineHeight:"1.8"},children:[(0,x.jsx)("li",{children:"Paying \xa320 referral bonuses when users top up \u2265\xa3150"}),(0,x.jsx)("li",{children:"Paying 20% lifetime commissions to referrers"}),(0,x.jsx)("li",{children:"Receiving all 3% withdrawal fees automatically"}),(0,x.jsx)("li",{children:"Funding trading liquidity for Spot Trading"}),(0,x.jsx)("li",{children:"Funding P2P Express Buy liquidity"}),(0,x.jsx)("li",{children:"All internal platform operations and payouts"})]}),(0,x.jsxs)("p",{style:{margin:"1rem 0 0",color:"#888",fontSize:"13px"},children:["\ud83d\udd12 ",(0,x.jsx)("strong",{children:"Privacy:"})," This wallet is completely private. No user can ever see these balances. Only visible in Admin Dashboard."]})]}),S&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>_(!1),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #0F172A, #1E293B)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("h3",{style:{margin:"0 0 1.5rem",fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:"Manual Top-Up"}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"14px",fontWeight:"600"},children:"Currency"}),(0,x.jsx)("select",{value:z.currency,onChange:e=>k((0,i.A)((0,i.A)({},z),{},{currency:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px"},children:w.map(e=>(0,x.jsxs)("option",{value:e.symbol,children:[e.name," (",e.symbol,")"]},e.symbol))})]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"14px",fontWeight:"600"},children:"Amount"}),(0,x.jsx)("input",{type:"number",step:"0.00000001",value:z.amount,onChange:e=>k((0,i.A)((0,i.A)({},z),{},{amount:e.target.value})),placeholder:"Enter amount",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"14px",fontWeight:"600"},children:"Notes (Optional)"}),(0,x.jsx)("textarea",{value:z.notes,onChange:e=>k((0,i.A)((0,i.A)({},z),{},{notes:e.target.value})),placeholder:"Add notes about this top-up...",rows:3,style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px",resize:"vertical"}})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)("button",{onClick:()=>_(!1),style:{flex:1,padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#fff",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:async()=>{try{B(!0);(await c.A.post("".concat(m,"/api/admin/platform-wallet/top-up"),{amount:parseFloat(z.amount),currency:z.currency,admin_user_id:"ADMIN",notes:z.notes})).data.success&&(p.oR.success("Platform wallet topped up with ".concat(z.amount," ").concat(z.currency)),_(!1),k({amount:"",currency:"USDT",notes:""}),C(),(async()=>{try{const e=await c.A.get("".concat(m,"/api/admin/platform-wallet/transactions?limit=50"));e.data.success&&j(e.data.transactions)}catch(e){console.error("Failed to fetch transactions:",e)}})())}catch(e){console.error("Failed to top up wallet:",e),p.oR.error("Failed to top up wallet")}finally{B(!1)}},disabled:A||!z.amount,style:{flex:1,padding:"0.75rem",background:A?"#666":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"900",cursor:A?"not-allowed":"pointer"},children:A?"Processing...":"Top Up Wallet"})]})]})})]})}const h="https://bugsecurehub.preview.emergentagent.com";function f(){const[e,r]=(0,o.useState)([]),[t,n]=(0,o.useState)(null),[s,l]=(0,o.useState)([]),[a,g]=(0,o.useState)(""),[m,u]=(0,o.useState)("all"),[f,b]=(0,o.useState)({ai_enabled:!0,has_custom_api_key:!1}),[y,j]=(0,o.useState)(!1),[v,F]=(0,o.useState)(""),[S,_]=(0,o.useState)(!1);(0,o.useEffect)(()=>{z(),A();const e=setInterval(z,1e4);return()=>clearInterval(e)},[m]),(0,o.useEffect)(()=>{if(t){k(t.session_id);const e=setInterval(()=>{k(t.session_id)},5e3);return()=>clearInterval(e)}},[t]);const z=async()=>{try{const e="all"===m?"":"?status=".concat(m),t=await c.A.get("".concat(h,"/api/admin/chat/sessions").concat(e));t.data.success&&r(t.data.sessions)}catch(e){console.error("Failed to fetch sessions:",e)}},k=async e=>{try{const r=await c.A.get("".concat(h,"/api/chat/history/").concat(e));r.data.success&&l(r.data.messages)}catch(r){console.error("Failed to fetch messages:",r)}},A=async()=>{try{const e=await c.A.get("".concat(h,"/api/admin/chat/settings"));e.data.success&&b({ai_enabled:e.data.ai_enabled,has_custom_api_key:e.data.has_custom_api_key})}catch(e){console.error("Failed to fetch AI settings:",e)}},B=async()=>{if(a.trim()&&t)try{(await c.A.post("".concat(h,"/api/admin/chat/send-message"),{session_id:t.session_id,message:a,admin_id:"ADMIN"})).data.success&&(g(""),k(t.session_id),p.oR.success("Message sent"))}catch(e){p.oR.error("Failed to send message")}},w=e=>{const r=new Date(e),t=new Date-r;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):r.toLocaleDateString()};return(0,x.jsxs)("div",{style:{padding:"2rem"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{style:{fontSize:"28px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:"Support Chat"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Manage AI assistant and live agent conversations"})]}),(0,x.jsx)("button",{onClick:()=>j(!y),style:{padding:"0.75rem 1.5rem",background:y?"rgba(168, 85, 247, 0.2)":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:y?"#A855F7":"#000",fontWeight:"700",cursor:"pointer"},children:y?"Hide Settings":"AI Settings"})]}),y&&(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{margin:"0 0 1rem",color:"#00F0FF",fontSize:"18px",fontWeight:"700"},children:"AI Assistant Settings"}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,color:"#E2E8F0",fontWeight:"600",fontSize:"14px"},children:"AI Assistant"}),(0,x.jsx)("p",{style:{margin:"0.25rem 0 0",color:"#888",fontSize:"13px"},children:f.ai_enabled?"AI will respond first":"All chats go directly to live agents"})]}),(0,x.jsx)("button",{onClick:async()=>{try{(await c.A.post("".concat(h,"/api/admin/chat/settings"),{ai_enabled:!f.ai_enabled})).data.success&&(b(e=>(0,i.A)((0,i.A)({},e),{},{ai_enabled:!e.ai_enabled})),p.oR.success("AI Assistant ".concat(f.ai_enabled?"disabled":"enabled")))}catch(e){p.oR.error("Failed to update settings")}},style:{width:"60px",height:"32px",borderRadius:"16px",background:f.ai_enabled?"linear-gradient(135deg, #00F0FF, #A855F7)":"#444",border:"none",cursor:"pointer",position:"relative",transition:"all 0.3s"},children:(0,x.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#fff",position:"absolute",top:"4px",left:f.ai_enabled?"32px":"4px",transition:"all 0.3s"}})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"13px",fontWeight:"600"},children:"Custom AI API Key (Optional)"}),(0,x.jsx)("p",{style:{margin:"0 0 0.75rem",color:"#666",fontSize:"12px"},children:"Leave empty to use the default key. Add your own OpenAI key for unlimited usage."}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,x.jsx)("input",{type:"password",value:v,onChange:e=>F(e.target.value),placeholder:"sk-...",style:{flex:1,padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("button",{onClick:async()=>{try{_(!0);(await c.A.post("".concat(h,"/api/admin/chat/settings"),{custom_api_key:v})).data.success&&(b(e=>(0,i.A)((0,i.A)({},e),{},{has_custom_api_key:!0})),p.oR.success("API key saved successfully"),F(""),j(!1))}catch(e){p.oR.error("Failed to save API key")}finally{_(!1)}},disabled:S||!v.trim(),style:{padding:"0.75rem 1.5rem",background:S||!v.trim()?"#444":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"6px",color:S||!v.trim()?"#888":"#000",fontWeight:"700",cursor:S||!v.trim()?"not-allowed":"pointer"},children:S?"Saving...":"Save Key"})]}),f.has_custom_api_key&&(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",color:"#22C55E",fontSize:"12px"},children:"\u2713 Custom API key configured"})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,x.jsx)("button",{onClick:()=>u("all"),style:{padding:"0.5rem 1rem",background:"all"===m?"rgba(0, 240, 255, 0.2)":"rgba(0, 0, 0, 0.3)",border:"1px solid ".concat("all"===m?"#00F0FF":"rgba(255, 255, 255, 0.1)"),borderRadius:"6px",color:"all"===m?"#00F0FF":"#888",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"All Chats"}),(0,x.jsx)("button",{onClick:()=>u("ai"),style:{padding:"0.5rem 1rem",background:"ai"===m?"rgba(0, 240, 255, 0.2)":"rgba(0, 0, 0, 0.3)",border:"1px solid ".concat("ai"===m?"#00F0FF":"rgba(255, 255, 255, 0.1)"),borderRadius:"6px",color:"ai"===m?"#00F0FF":"#888",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"AI First"}),(0,x.jsx)("button",{onClick:()=>u("live_agent"),style:{padding:"0.5rem 1rem",background:"live_agent"===m?"rgba(168, 85, 247, 0.2)":"rgba(0, 0, 0, 0.3)",border:"1px solid ".concat("live_agent"===m?"#A855F7":"rgba(255, 255, 255, 0.1)"),borderRadius:"6px",color:"live_agent"===m?"#A855F7":"#888",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"Live Agent"})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"1.5rem",height:"600px"},children:[(0,x.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",overflow:"auto"},children:0===e.length?(0,x.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"#888"},children:(0,x.jsx)("p",{children:"No open chat sessions"})}):e.map(e=>(0,x.jsxs)("div",{onClick:()=>n(e),style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",cursor:"pointer",background:(null===t||void 0===t?void 0:t.session_id)===e.session_id?"rgba(0, 240, 255, 0.1)":"transparent",transition:"background 0.2s"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["ai"===e.status?(0,x.jsx)(Bot,{size:16,color:"#00F0FF"}):(0,x.jsx)(d.SNd,{size:16,color:"#A855F7"}),(0,x.jsx)("span",{style:{color:"#E2E8F0",fontSize:"14px",fontWeight:"600"},children:e.user_email||"User ".concat(e.session_id.slice(0,8))})]}),(0,x.jsx)("span",{style:{color:"#666",fontSize:"11px"},children:w(e.last_message_at)})]}),(0,x.jsx)("p",{style:{margin:0,color:"#888",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.last_message||"No messages yet"}),(0,x.jsxs)("div",{style:{marginTop:"0.5rem",display:"flex",gap:"0.5rem"},children:[e.escalated&&(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"ESCALATED"}),(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"ai"===e.status?"rgba(0, 240, 255, 0.2)":"rgba(168, 85, 247, 0.2)",color:"ai"===e.status?"#00F0FF":"#A855F7",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"ai"===e.status?"AI FIRST":"LIVE AGENT"})]})]},e.session_id))}),(0,x.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",display:"flex",flexDirection:"column"},children:t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{margin:0,color:"#00F0FF",fontSize:"16px",fontWeight:"700"},children:t.user_email||"Session ".concat(t.session_id.slice(0,8))}),(0,x.jsx)("p",{style:{margin:"0.25rem 0 0",color:"#888",fontSize:"12px"},children:"ai"===t.status?"AI-first mode":"Live agent mode"})]}),(0,x.jsxs)("button",{onClick:()=>(async e=>{try{(await c.A.post("".concat(h,"/api/admin/chat/resolve"),{session_id:e})).data.success&&(p.oR.success("Chat marked as resolved"),z(),(null===t||void 0===t?void 0:t.session_id)===e&&n(null))}catch(r){p.oR.error("Failed to resolve chat")}})(t.session_id),style:{padding:"0.5rem 1rem",background:"rgba(34, 197, 94, 0.2)",border:"1px solid rgba(34, 197, 94, 0.4)",borderRadius:"6px",color:"#22C55E",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.G3G,{size:16}),"Mark Resolved"]})]}),(0,x.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:s.map((e,r)=>(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"user"===e.sender?"row-reverse":"row",gap:"0.75rem",alignItems:"flex-start"},children:[(0,x.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"user"===e.sender?"linear-gradient(135deg, #A855F7, #00F0FF)":"ai"===e.sender?"rgba(0, 240, 255, 0.2)":"agent"===e.sender?"rgba(34, 197, 94, 0.2)":"rgba(251, 146, 60, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:"user"===e.sender?(0,x.jsx)(d.SNd,{size:18,color:"#fff"}):"ai"===e.sender?(0,x.jsx)(Bot,{size:18,color:"#00F0FF"}):"agent"===e.sender?(0,x.jsx)(d.G3G,{size:18,color:"#22C55E"}):(0,x.jsx)(d.dSe,{size:18,color:"#FB923C"})}),(0,x.jsxs)("div",{style:{maxWidth:"70%",padding:"0.75rem 1rem",borderRadius:"12px",background:"user"===e.sender?"linear-gradient(135deg, #A855F7, #00F0FF)":"rgba(0, 0, 0, 0.5)",color:"user"===e.sender?"#000":"#E2E8F0",fontSize:"14px",lineHeight:"1.5",wordWrap:"break-word"},children:[e.message,(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",fontSize:"11px",opacity:.6},children:new Date(e.timestamp).toLocaleTimeString()})]})]},r))}),(0,x.jsxs)("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"0.75rem",alignItems:"center"},children:[(0,x.jsx)("input",{type:"text",value:a,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&B(),placeholder:"Type your reply...",style:{flex:1,padding:"0.75rem 1rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px",outline:"none"}}),(0,x.jsxs)("button",{onClick:B,disabled:!a.trim(),style:{padding:"0.75rem 1.5rem",background:a.trim()?"linear-gradient(135deg, #00F0FF, #A855F7)":"#444",border:"none",borderRadius:"8px",color:a.trim()?"#000":"#888",fontWeight:"700",cursor:a.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.$_z,{size:16}),"Send"]})]})]}):(0,x.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#888"},children:[(0,x.jsx)(d.mNJ,{size:48,color:"#444"}),(0,x.jsx)("p",{style:{margin:"1rem 0 0",fontSize:"14px"},children:"Select a chat to view messages"})]})})]})]})}const b="https://bugsecurehub.preview.emergentagent.com";function y(){var e,r,t,m,h,y,j,v,F,S,_,z,k,A,B,w,C,W,R,E,T,I,N,L,P,D,M,U,q,O,Z,$,H,V,G,Y,X,J,K,Q,ee,re,te,ie;const oe=(0,n.Zp)(),[ne,se]=(0,o.useState)(null),[le,ae]=(0,o.useState)(null),[de,ce]=(0,o.useState)([]),[pe,ge]=(0,o.useState)([]),[xe,me]=(0,o.useState)([]),[ue,he]=(0,o.useState)(null),[fe,be]=(0,o.useState)([]),[ye,je]=(0,o.useState)(!0),[ve,Fe]=(0,o.useState)(""),[Se,_e]=(0,o.useState)(null),[ze,ke]=(0,o.useState)(null),[Ae,Be]=(0,o.useState)(null),[we,Ce]=(0,o.useState)([]),[We,Re]=(0,o.useState)("unified"),[Ee,Te]=(0,o.useState)([]),[Ie,Ne]=(0,o.useState)("all"),[Le,Pe]=(0,o.useState)(""),[De,Me]=(0,o.useState)([]),[Ue,qe]=(0,o.useState)(!1),[Oe,Ze]=(0,o.useState)({currency:"BTC",amount:""}),[$e,He]=(0,o.useState)({BTC:"",ETH:"",USDT:""}),[Ve,Ge]=(0,o.useState)([]),[Ye,Xe]=(0,o.useState)(null),[Je,Ke]=(0,o.useState)(!1),[Qe,er]=(0,o.useState)([]),[rr,tr]=(0,o.useState)(null),[ir,or]=(0,o.useState)(!1),[nr,sr]=(0,o.useState)({title:"",content:"",send_email:!1}),[lr,ar]=(0,o.useState)(null),[dr,cr]=(0,o.useState)(null),[pr,gr]=(0,o.useState)(!1),[xr,mr]=(0,o.useState)([]),[ur,hr]=(0,o.useState)({show:!1,type:"add",currency:"BTC",amount:""}),[fr,br]=(0,o.useState)(null),[yr,jr]=(0,o.useState)([]),[vr,Fr]=(0,o.useState)([]),[Sr,_r]=(0,o.useState)(null),[zr,kr]=(0,o.useState)(!1),[Ar,Br]=(0,o.useState)({symbol:"",name:"",nowpay_wallet_id:""}),[wr,Cr]=(0,o.useState)("day"),[Wr,Rr]=(0,o.useState)("all"),[Er,Tr]=(0,o.useState)(null),[Ir,Nr]=(0,o.useState)(!1),[Lr,Pr]=(0,o.useState)(["BTC","ETH","USDT"]),[Dr,Mr]=(0,o.useState)(null),[Ur,qr]=(0,o.useState)(!1),[Or,Zr]=(0,o.useState)([]),[$r,Hr]=(0,o.useState)(null),[Vr,Gr]=(0,o.useState)(!1),[Yr,Xr]=(0,o.useState)({title:"",message:"",type:"info",link:"",link_text:"",start_date:(new Date).toISOString().slice(0,16),end_date:"",is_active:!0});(0,o.useEffect)(()=>{const e=localStorage.getItem("admin_user");e?(se(JSON.parse(e)),ot(),Jr()):oe("/admin/login")},[oe]);const Jr=async()=>{try{const e=await c.A.get("".concat(b,"/api/coins/enabled"));e.data.success&&e.data.symbols.length>0&&Pr(e.data.symbols)}catch(e){console.error("Error fetching available coins:",e)}};window.activateGoldenReferral=async e=>{try{var r;const t=(null===(r=JSON.parse(localStorage.getItem("admin_user")))||void 0===r?void 0:r.admin_id)||"admin";(await c.A.post("".concat(b,"/api/admin/golden-referral/activate"),{user_id:e,admin_id:t})).data.success&&(p.oR.success("Golden Referral VIP activated! User now earns 50% commission."),document.getElementById("golden-search-input").value="",document.getElementById("golden-search-results").style.display="none")}catch(t){console.error("Activation error:",t),p.oR.error("Failed to activate Golden Referral")}},window.deactivateGoldenReferral=async e=>{if(confirm("Are you sure you want to deactivate Golden VIP tier for this user?"))try{var r;const t=(null===(r=JSON.parse(localStorage.getItem("admin_user")))||void 0===r?void 0:r.admin_id)||"admin";(await c.A.post("".concat(b,"/api/admin/golden-referral/deactivate"),{user_id:e,admin_id:t,reason:"Admin deactivation"})).data.success&&(p.oR.success("Golden Referral VIP deactivated. User reverted to standard 20% commission."),document.querySelector("#golden-users-list").closest("div").querySelector("button").click())}catch(t){console.error("Deactivation error:",t),p.oR.error("Failed to deactivate Golden Referral")}};const Kr=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/liquidity/balances"));e.data.success&&Me(e.data.wallets)}catch(e){console.error("Error fetching liquidity:",e)}},Qr=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/internal-balances"));e.data.success&&Ge(e.data.balances)}catch(e){console.error("Error fetching fee balances:",e)}},et=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/trading-liquidity"));e.data.success&&mr(e.data.liquidity)}catch(e){console.error("Error fetching trading liquidity:",e),p.oR.error("Failed to fetch trading liquidity")}},rt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day";try{const r=await c.A.get("".concat(b,"/api/admin/revenue/dashboard?timeframe=").concat(e));if(r.data.success){const e=r.data;br({total_profit:e.summary.net_revenue_gbp,revenue_breakdown:(0,i.A)({total_revenue:e.summary.total_revenue_gbp,referral_commissions:e.summary.referral_commissions_paid_gbp},e.by_fee_type.reduce((e,r)=>(e[r.fee_type]=r.total_revenue,e),{})),fee_wallet_breakdown:e.by_currency.reduce((e,r)=>(e[r.currency]={total_fees:r.total_revenue,net_revenue:r.net_revenue,referral_paid:r.referral_paid,gbp_value:r.total_revenue},e),{}),total_fee_wallet_gbp:e.summary.total_revenue_gbp}),jr(e.recent_transactions||[])}}catch(r){console.error("Error fetching revenue summary:",r),p.oR.error("Failed to fetch revenue summary")}},tt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";try{const t=await c.A.get("".concat(b,"/api/admin/revenue/dashboard?timeframe=").concat(e));if(t.data.success&&t.data.recent_transactions){let e=t.data.recent_transactions;"all"!==r&&(e=e.filter(e=>e.fee_type===r)),jr(e)}}catch(t){console.error("Error fetching revenue transactions:",t),p.oR.error("Failed to fetch revenue transactions")}},it=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/platform-settings"));e.data.success&&cr(e.data.settings)}catch(e){console.error("Error fetching platform settings:",e)}},ot=async()=>{const e=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/banners"));e.data.success&&Zr(e.data.banners)}catch(e){console.error("Error fetching banners:",e),p.oR.error("Failed to load banners")}};try{const[r,t]=await Promise.all([c.A.get("".concat(b,"/api/admin/dashboard-stats")).catch(()=>({data:{success:!1}})),c.A.get("".concat(b,"/api/admin/recent-signups?limit=20")).catch(()=>({data:{success:!1}}))]);r.data.success&&ae(r.data.stats),t.data.success&&ge(t.data.signups),je(!1),c.A.get("".concat(b,"/api/unified/platform-summary")).then(e=>e.data.success&&he(e.data.data)).catch(()=>{}),c.A.get("".concat(b,"/api/unified/all-users-breakdown?limit=20")).then(e=>e.data.success&&be(e.data.data)).catch(()=>{}),c.A.get("".concat(b,"/api/admin/customers")).then(e=>e.data.success&&ce(e.data.customers)).catch(()=>{}),c.A.get("".concat(b,"/api/admin/platform-config")).then(e=>e.data.success&&_e(e.data)).catch(()=>{}),c.A.get("".concat(b,"/api/admin/referral-config")).then(e=>e.data.success&&Be(e.data.config)).catch(()=>{}),c.A.get("".concat(b,"/api/admin/referral-earnings")).then(e=>e.data.success&&Ce(e.data.earnings)).catch(()=>{}),c.A.get("".concat(b,"/api/admin/disputes/all")).then(e=>e.data.success&&Te(e.data.disputes)).catch(()=>{}),c.A.get("".concat(b,"/api/admin/customer-investments?limit=20")).then(e=>e.data.success&&me(e.data.customers)).catch(()=>{}),Kr(),Qr(),(async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/liquidity/history"));e.data.success&&er(e.data.history)}catch(e){console.error("Error fetching liquidity history:",e)}})(),(async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/customer-analytics"));e.data.success&&ar(e.data.analytics)}catch(e){console.error("Error fetching customer analytics:",e)}})(),it(),et(),e()}catch(r){console.error("Error fetching data:",r),je(!1)}},nt=async e=>{try{const r=await c.A.post("".concat(b,"/api/admin/update-referral-config"),e);r.data.success&&(p.oR.success("Referral configuration updated successfully"),Be(r.data.config))}catch(i){var r,t;console.error("Error updating referral config:",i),p.oR.error((null===(r=i.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.detail)||"Failed to update referral config")}},st=async(e,r)=>{if(!window.confirm("Are you sure you want to ".concat("release_to_buyer"===r?"release crypto to buyer":"return crypto to seller","?")))return;const t=prompt("Admin notes (optional):");try{const i=await c.A.post("".concat(b,"/api/admin/resolve-dispute-final"),{dispute_id:e,resolution:r,admin_notes:t||""});if(i.data.success){p.oR.success(i.data.message);const e=await c.A.get("".concat(b,"/api/admin/disputes/all"));e.data.success&&Te(e.data.disputes)}}catch(n){var i,o;console.error("Error resolving dispute:",n),p.oR.error((null===(i=n.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.detail)||"Failed to resolve dispute")}},lt=de.filter(e=>{var r,t,i;return(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(ve.toLowerCase()))||(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(ve.toLowerCase()))||(null===(i=e.wallet_address)||void 0===i?void 0:i.toLowerCase().includes(ve.toLowerCase()))});return ye?(0,x.jsx)("div",{className:"loading-container",children:(0,x.jsx)("div",{className:"spinner"})}):(0,x.jsxs)("div",{className:"admin-dashboard-page",children:[(0,x.jsx)(g.l,{position:"top-right",richColors:!0}),(0,x.jsx)("header",{className:"admin-header",children:(0,x.jsxs)("div",{className:"admin-header-content",children:[(0,x.jsxs)("div",{className:"admin-brand",children:[(0,x.jsx)(d.eeu,{size:32,className:"admin-icon"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"admin-brand-title",children:"Admin Dashboard"}),(0,x.jsx)("p",{className:"admin-brand-subtitle",children:"Business Owner Portal"})]})]}),(0,x.jsxs)("div",{className:"admin-actions",children:[(0,x.jsx)(l.$,{onClick:()=>oe("/admin/support"),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",marginRight:"1rem",cursor:"pointer",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udcac Support Chats"}),(0,x.jsx)("span",{className:"admin-user-name",children:(null===ne||void 0===ne?void 0:ne.full_name)||(null===ne||void 0===ne?void 0:ne.email)}),(0,x.jsxs)(l.$,{variant:"outline",onClick:()=>{localStorage.removeItem("admin_user"),p.oR.success("Logged out successfully"),oe("/admin/login")},className:"logout-btn-admin",children:[(0,x.jsx)(d.dRg,{size:20}),(0,x.jsx)("span",{children:"Logout"})]})]})]})}),(0,x.jsxs)("div",{className:"admin-content",children:[(0,x.jsxs)("div",{className:"admin-stats-grid",children:[(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin users-icon",children:(0,x.jsx)(d.GvN,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Total Customers"}),(0,x.jsx)("p",{className:"stat-value-admin",children:(null===le||void 0===le||null===(e=le.users)||void 0===e?void 0:e.total_users)||0}),(0,x.jsxs)("p",{className:"stat-change-admin",children:[(null===le||void 0===le||null===(r=le.users)||void 0===r?void 0:r.total_registered)||0," registered + ",(null===le||void 0===le||null===(t=le.users)||void 0===t?void 0:t.wallet_only)||0," wallet-only"]})]})]})}),(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin volume-icon",children:(0,x.jsx)(d.AaD,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Total Volume"}),(0,x.jsxs)("p",{className:"stat-value-admin",children:["$",((null===le||void 0===le||null===(m=le.transactions)||void 0===m?void 0:m.total_volume)||0).toLocaleString()]}),(0,x.jsxs)("p",{className:"stat-change-admin",children:[(null===le||void 0===le||null===(h=le.transactions)||void 0===h?void 0:h.total_count)||0," transactions"]})]})]})}),(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin revenue-icon",children:(0,x.jsx)(d.BOd,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Platform Revenue"}),(0,x.jsxs)("p",{className:"stat-value-admin",children:["$",((null===le||void 0===le||null===(y=le.revenue)||void 0===y?void 0:y.platform_fees)||0).toLocaleString()]}),(0,x.jsx)("p",{className:"stat-change-admin positive",children:"From fees & spreads"})]})]})}),(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin disputes-icon",children:(0,x.jsx)(d.tr_,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Active Disputes"}),(0,x.jsx)("p",{className:"stat-value-admin",children:(null===le||void 0===le||null===(j=le.disputes)||void 0===j?void 0:j.open_disputes)||0}),(0,x.jsxs)("p",{className:"stat-change-admin",children:[(null===le||void 0===le||null===(v=le.disputes)||void 0===v?void 0:v.total_disputes)||0," total disputes"]})]})]})})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, #0A1929 0%, #1a2744 100%)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"20px",fontWeight:"700",margin:0},children:"\ud83c\udd95 Recent Signups"}),(0,x.jsxs)("span",{style:{color:"#8F9BB3",fontSize:"14px"},children:[pe.length," latest users"]})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"CLIENT ID"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"NAME"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"EMAIL"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"PHONE"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"VERIFIED"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"SIGNED UP"})]})}),(0,x.jsx)("tbody",{children:pe.slice(0,10).map((e,r)=>(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:r%2===0?"rgba(0,0,0,0.2)":"transparent"},children:[(0,x.jsx)("td",{style:{color:"#FFA500",padding:"12px 8px",fontSize:"13px",fontWeight:"600"},children:e.client_id}),(0,x.jsx)("td",{style:{color:"#E0E0E0",padding:"12px 8px",fontSize:"13px"},children:e.full_name||"N/A"}),(0,x.jsx)("td",{style:{color:"#E0E0E0",padding:"12px 8px",fontSize:"13px"},children:e.email}),(0,x.jsx)("td",{style:{color:"#E0E0E0",padding:"12px 8px",fontSize:"13px"},children:e.phone_number||"N/A"}),(0,x.jsx)("td",{style:{padding:"12px 8px"},children:(0,x.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,x.jsx)("span",{style:{background:e.email_verified?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.email_verified?"#22C55E":"#EF4444",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"600"},children:e.email_verified?"\u2713 Email":"\u2717 Email"}),(0,x.jsx)("span",{style:{background:e.phone_verified?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.phone_verified?"#22C55E":"#EF4444",padding:"2px 6px",borderRadius:"4px",fontSize:"10px",fontWeight:"600"},children:e.phone_verified?"\u2713 Phone":"\u2717 Phone"})]})}),(0,x.jsx)("td",{style:{color:"#8F9BB3",padding:"12px 8px",fontSize:"12px"},children:e.signup_timestamp?new Date(e.signup_timestamp).toLocaleString():"N/A"})]},e.user_id))})]})}),0===pe.length&&(0,x.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#8F9BB3"},children:"No signups yet. New users will appear here."})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, #0A1929 0%, #1a2744 100%)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsx)("h2",{style:{color:"#22C55E",fontSize:"20px",fontWeight:"700",margin:0},children:"\ud83d\udcb0 Customer Investments"}),(0,x.jsx)("span",{style:{color:"#8F9BB3",fontSize:"14px"},children:"Total balance & deposits per customer"})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[(0,x.jsx)("th",{style:{color:"#22C55E",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"CLIENT ID"}),(0,x.jsx)("th",{style:{color:"#22C55E",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"NAME"}),(0,x.jsx)("th",{style:{color:"#22C55E",padding:"12px 8px",textAlign:"left",fontSize:"12px",fontWeight:"600"},children:"EMAIL"}),(0,x.jsx)("th",{style:{color:"#22C55E",padding:"12px 8px",textAlign:"right",fontSize:"12px",fontWeight:"600"},children:"BALANCE (USD)"}),(0,x.jsx)("th",{style:{color:"#22C55E",padding:"12px 8px",textAlign:"right",fontSize:"12px",fontWeight:"600"},children:"DEPOSITED"}),(0,x.jsx)("th",{style:{color:"#22C55E",padding:"12px 8px",textAlign:"center",fontSize:"12px",fontWeight:"600"},children:"TRADES"})]})}),(0,x.jsx)("tbody",{children:xe.slice(0,15).map((e,r)=>{var t,i;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:r%2===0?"rgba(0,0,0,0.2)":"transparent"},children:[(0,x.jsx)("td",{style:{color:"#FFA500",padding:"12px 8px",fontSize:"13px",fontWeight:"600"},children:e.client_id}),(0,x.jsx)("td",{style:{color:"#E0E0E0",padding:"12px 8px",fontSize:"13px"},children:e.full_name||"N/A"}),(0,x.jsx)("td",{style:{color:"#E0E0E0",padding:"12px 8px",fontSize:"13px"},children:e.email}),(0,x.jsxs)("td",{style:{color:"#22C55E",padding:"12px 8px",fontSize:"13px",textAlign:"right",fontWeight:"600"},children:["$",(null===(t=e.total_balance_usd)||void 0===t?void 0:t.toLocaleString())||"0.00"]}),(0,x.jsxs)("td",{style:{color:"#00F0FF",padding:"12px 8px",fontSize:"13px",textAlign:"right"},children:["$",(null===(i=e.total_deposited)||void 0===i?void 0:i.toLocaleString())||"0.00"]}),(0,x.jsx)("td",{style:{color:"#A855F7",padding:"12px 8px",fontSize:"13px",textAlign:"center",fontWeight:"600"},children:e.total_trades||0})]},e.user_id)})})]})}),0===xe.length&&(0,x.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#8F9BB3"},children:"No customer investment data yet."})]}),ue&&(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, #0A1929 0%, #1a2744 100%)",border:"2px solid rgba(168, 85, 247, 0.5)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"22px",fontWeight:"700",margin:0},children:"\ud83d\udcca Unified Platform Data (Single Source of Truth)"}),(0,x.jsx)("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22C55E",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:"\u2713 LOCKED & SYNCED"})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"12px",marginBottom:"4px"},children:"TOTAL USERS"}),(0,x.jsx)("p",{style:{color:"#00F0FF",fontSize:"28px",fontWeight:"700",margin:0},children:(null===(F=ue.users)||void 0===F?void 0:F.total)||0}),(0,x.jsxs)("p",{style:{color:"#22C55E",fontSize:"11px",marginTop:"4px"},children:[(null===(S=ue.users)||void 0===S?void 0:S.verified_email)||0," verified"]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"12px",marginBottom:"4px"},children:"TOTAL PLATFORM VALUE"}),(0,x.jsxs)("p",{style:{color:"#22C55E",fontSize:"28px",fontWeight:"700",margin:0},children:["$",(null===(_=ue.total_platform_usd)||void 0===_?void 0:_.toLocaleString())||"0"]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(255, 165, 0, 0.2)"},children:[(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"12px",marginBottom:"4px"},children:"TOTAL DEPOSITS"}),(0,x.jsxs)("p",{style:{color:"#FFA500",fontSize:"28px",fontWeight:"700",margin:0},children:["$",(null===(z=ue.volume)||void 0===z||null===(k=z.total_deposits_usd)||void 0===k?void 0:k.toLocaleString())||"0"]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"12px",marginBottom:"4px"},children:"TOTAL WITHDRAWALS"}),(0,x.jsxs)("p",{style:{color:"#EF4444",fontSize:"28px",fontWeight:"700",margin:0},children:["$",(null===(A=ue.volume)||void 0===A||null===(B=A.total_withdrawals_usd)||void 0===B?void 0:B.toLocaleString())||"0"]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"12px",marginBottom:"4px"},children:"FEES COLLECTED"}),(0,x.jsxs)("p",{style:{color:"#A855F7",fontSize:"28px",fontWeight:"700",margin:0},children:["$",(null===(w=ue.volume)||void 0===w||null===(C=w.total_fees_collected_usd)||void 0===C?void 0:C.toLocaleString())||"0"]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0,0,0,0.3)",padding:"1rem",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"12px",marginBottom:"4px"},children:"P2P TRADES"}),(0,x.jsx)("p",{style:{color:"#00F0FF",fontSize:"28px",fontWeight:"700",margin:0},children:(null===(W=ue.p2p)||void 0===W?void 0:W.total_trades)||0}),(0,x.jsxs)("p",{style:{color:"#FFA500",fontSize:"11px",marginTop:"4px"},children:[(null===(R=ue.p2p)||void 0===R?void 0:R.active_trades)||0," active"]})]})]}),(0,x.jsxs)("p",{style:{color:"#8F9BB3",fontSize:"11px",textAlign:"center",margin:0},children:["Data source: /api/unified/platform-summary \u2022 Last updated: ",new Date(ue.timestamp).toLocaleString()]})]}),fe.length>0&&(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, #0A1929 0%, #1a2744 100%)",border:"2px solid rgba(0, 240, 255, 0.5)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"20px",fontWeight:"700",margin:0},children:"\ud83d\udc65 Customer Financial Breakdown (Unified)"}),(0,x.jsx)("span",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22C55E",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},children:"\u2713 SYNCED"})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"11px"},children:"CLIENT ID"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"left",fontSize:"11px"},children:"EMAIL"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"right",fontSize:"11px"},children:"BALANCE (USD)"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"right",fontSize:"11px"},children:"DEPOSITS"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"right",fontSize:"11px"},children:"WITHDRAWALS"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"right",fontSize:"11px"},children:"FEES PAID"}),(0,x.jsx)("th",{style:{color:"#00F0FF",padding:"12px 8px",textAlign:"center",fontSize:"11px"},children:"P2P TRADES"})]})}),(0,x.jsx)("tbody",{children:fe.slice(0,15).map((e,r)=>{var t,i,o,n,s,l,a,d,c,p,g;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:r%2===0?"rgba(0,0,0,0.2)":"transparent"},children:[(0,x.jsx)("td",{style:{color:"#FFA500",padding:"10px 8px",fontSize:"12px",fontWeight:"600"},children:e.client_id}),(0,x.jsx)("td",{style:{color:"#E0E0E0",padding:"10px 8px",fontSize:"12px"},children:e.email}),(0,x.jsxs)("td",{style:{color:"#22C55E",padding:"10px 8px",fontSize:"12px",textAlign:"right",fontWeight:"600"},children:["$",(null===(t=e.total_balance_usd)||void 0===t?void 0:t.toLocaleString())||"0"]}),(0,x.jsxs)("td",{style:{color:"#00F0FF",padding:"10px 8px",fontSize:"12px",textAlign:"right"},children:["$",(null===(i=e.activity)||void 0===i||null===(o=i.deposits)||void 0===o||null===(n=o.total_usd)||void 0===n?void 0:n.toLocaleString())||"0"]}),(0,x.jsxs)("td",{style:{color:"#EF4444",padding:"10px 8px",fontSize:"12px",textAlign:"right"},children:["$",(null===(s=e.activity)||void 0===s||null===(l=s.withdrawals)||void 0===l||null===(a=l.total_usd)||void 0===a?void 0:a.toLocaleString())||"0"]}),(0,x.jsxs)("td",{style:{color:"#A855F7",padding:"10px 8px",fontSize:"12px",textAlign:"right"},children:["$",(null===(d=e.activity)||void 0===d||null===(c=d.fees_paid)||void 0===c||null===(p=c.total_usd)||void 0===p?void 0:p.toLocaleString())||"0"]}),(0,x.jsx)("td",{style:{color:"#00F0FF",padding:"10px 8px",fontSize:"12px",textAlign:"center"},children:(null===(g=e.p2p_stats)||void 0===g?void 0:g.total_trades)||0})]},e.user_id)})})]})}),(0,x.jsx)("p",{style:{color:"#8F9BB3",fontSize:"11px",textAlign:"center",marginTop:"1rem",marginBottom:0},children:"Data source: /api/unified/all-users-breakdown \u2022 Single source of truth for all pages"})]}),(0,x.jsxs)(s.Zp,{className:"commission-settings-card",style:{marginBottom:"2rem"},children:[(0,x.jsx)("div",{className:"table-header",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"table-title",children:"Commission & Fee Settings"}),(0,x.jsx)("p",{className:"table-subtitle",children:"Adjust platform fees and rates"})]})}),(0,x.jsx)("div",{className:"commission-grid",children:null===Se||void 0===Se||null===(E=Se.editable_settings)||void 0===E?void 0:E.map(e=>(0,x.jsx)("div",{className:"commission-item",children:(0,x.jsxs)("div",{className:"commission-info",children:[(0,x.jsx)("p",{className:"commission-label",children:e.label}),ze===e.key?(0,x.jsxs)("div",{className:"commission-edit",children:[(0,x.jsx)(a.p,{type:"number",step:"0.1",defaultValue:e.value,id:"edit-".concat(e.key),className:"commission-input",style:{width:"120px"}}),(0,x.jsx)(l.$,{size:"sm",onClick:()=>{const r=document.getElementById("edit-".concat(e.key)).value;(async(e,r)=>{try{const t=await c.A.post("".concat(b,"/api/admin/update-commission"),{setting_key:e,new_value:parseFloat(r)});if(t.data.success){p.oR.success(t.data.message);const e=await c.A.get("".concat(b,"/api/admin/platform-config"));e.data.success&&_e(e.data),ke(null)}}catch(o){var t,i;console.error("Error updating commission:",o),p.oR.error((null===(t=o.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to update commission")}})(e.key,r)},className:"save-commission-btn",children:"Save"}),(0,x.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>ke(null),className:"cancel-commission-btn",children:"Cancel"})]}):(0,x.jsxs)("div",{className:"commission-display",children:[(0,x.jsxs)("p",{className:"commission-value",children:[e.value,"%"]}),(0,x.jsx)(l.$,{size:"sm",variant:"outline",onClick:()=>ke(e.key),className:"edit-commission-btn",children:"Edit"})]})]})},e.key))})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",borderBottom:"2px solid rgba(0, 240, 255, 0.2)",paddingBottom:"0"},children:[(0,x.jsx)("button",{onClick:()=>Re("unified"),style:{padding:"1rem 1.5rem",background:"unified"===We?"linear-gradient(135deg, rgba(0, 240, 255, 0.2), rgba(168, 85, 247, 0.2))":"none",border:"none",borderBottom:"unified"===We?"3px solid #00F0FF":"3px solid transparent",color:"unified"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s",borderRadius:"8px 8px 0 0"},children:"\ud83c\udfe0 Business Dashboard"}),(0,x.jsx)("button",{onClick:()=>Re("overview"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"overview"===We?"3px solid #00F0FF":"3px solid transparent",color:"overview"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Overview"}),(0,x.jsx)("button",{onClick:()=>Re("referrals"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"referrals"===We?"3px solid #00F0FF":"3px solid transparent",color:"referrals"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Referral System"}),(0,x.jsx)("button",{onClick:()=>Re("golden-referrals"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"golden-referrals"===We?"3px solid #00F0FF":"3px solid transparent",color:"golden-referrals"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"\ud83c\udf1f Golden VIP"}),(0,x.jsxs)("button",{onClick:()=>Re("disputes"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"disputes"===We?"3px solid #00F0FF":"3px solid transparent",color:"disputes"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:["Disputes ",Ee.filter(e=>"open"===e.status).length>0&&"(".concat(Ee.filter(e=>"open"===e.status).length,")")]}),(0,x.jsx)("button",{onClick:()=>Re("customers"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"customers"===We?"3px solid #00F0FF":"3px solid transparent",color:"customers"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Customers"}),(0,x.jsx)("button",{onClick:()=>Re("liquidity"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"liquidity"===We?"3px solid #00F0FF":"3px solid transparent",color:"liquidity"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Liquidity Wallet"}),(0,x.jsx)("button",{onClick:()=>Re("withdrawals"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"withdrawals"===We?"3px solid #00F0FF":"3px solid transparent",color:"withdrawals"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Withdrawals"}),(0,x.jsx)("button",{onClick:()=>Re("trading"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"trading"===We?"3px solid #00F0FF":"3px solid transparent",color:"trading"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Trading"}),(0,x.jsx)("button",{onClick:()=>{Re("revenue"),rt(wr),tt(wr,Wr)},style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"revenue"===We?"3px solid #00F0FF":"3px solid transparent",color:"revenue"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Revenue"}),(0,x.jsx)("button",{onClick:()=>Re("coins"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"coins"===We?"3px solid #00F0FF":"3px solid transparent",color:"coins"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Coins (CMS)"}),(0,x.jsx)("button",{onClick:()=>Re("banners"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"banners"===We?"3px solid #00F0FF":"3px solid transparent",color:"banners"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Promo Banners"}),(0,x.jsx)("button",{onClick:()=>{Re("monetization"),(async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/monetization/settings"));e.data.success&&Mr(e.data.settings)}catch(e){console.error("Error fetching monetization settings:",e),p.oR.error("Failed to load monetization settings")}})()},style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"monetization"===We?"3px solid #00F0FF":"3px solid transparent",color:"monetization"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"\ud83d\udcb0 Monetization"}),(0,x.jsx)("button",{onClick:()=>Re("platform-wallet"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"platform-wallet"===We?"3px solid #00F0FF":"3px solid transparent",color:"platform-wallet"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Admin Top-Up Wallet"}),(0,x.jsx)("button",{onClick:()=>Re("support-chat"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"support-chat"===We?"3px solid #00F0FF":"3px solid transparent",color:"support-chat"===We?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Support Chat"})]}),"unified"===We&&(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05))",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Total Platform Revenue"}),(0,x.jsxs)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:["$",(Array.isArray(Ve)?Ve.reduce((e,r)=>e+45e3*(r.total_fees||0),0):0).toLocaleString()]}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"All-time earnings"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.05))",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Today's Activity"}),(0,x.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:(null===le||void 0===le||null===(T=le.transactions)||void 0===T?void 0:T.total_count)||0}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"Total trades"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(139, 92, 246, 0.05))",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Total Users"}),(0,x.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#A855F7",marginBottom:"0.5rem"},children:(null===le||void 0===le||null===(I=le.users)||void 0===I?void 0:I.total_users)||0}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"Registered accounts"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))",border:"2px solid rgba(239, 68, 68, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Active Disputes"}),(0,x.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#EF4444",marginBottom:"0.5rem"},children:Ee.filter(e=>"open"===e.status).length}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"Need attention"})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h2",{style:{color:"#22C55E",fontSize:"24px",fontWeight:"900",margin:0},children:"\ud83d\udcb0 Your Earnings Breakdown"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888"},children:["Total: $",(Array.isArray(Ve)?Ve.reduce((e,r)=>e+45e3*(r.total_fees||0),0):0).toLocaleString()]})]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem"},children:Ve.length>0?Ve.map(e=>(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05))",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[(0,x.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",fontSize:"32px",opacity:"0.1"},children:"BTC"===e.currency?"\u20bf":"ETH"===e.currency?"\u039e":"\u20ae"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:[e.currency," Fees"]}),(0,x.jsx)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:(e.total_fees||0).toFixed(8)}),(0,x.jsxs)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"1rem"},children:["\u2248 $",(45e3*(e.total_fees||0)).toLocaleString()]}),(0,x.jsxs)(l.$,{onClick:()=>Xe({currency:e.currency,amount:e.total_fees,wallet_type:"fee_wallet",address:$e[e.currency]}),disabled:!$e[e.currency]||0===(e.total_fees||0),style:{width:"100%",background:$e[e.currency]&&(e.total_fees||0)>0?"linear-gradient(135deg, #22C55E, #16A34A)":"rgba(34, 197, 94, 0.3)",color:"#fff",fontWeight:"700",padding:"0.75rem",borderRadius:"8px"},children:["\ud83d\udcb8 Withdraw ",e.currency]})]},e.currency)):(0,x.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"#888"},children:"No earnings yet. Earnings will appear here as users trade on your platform."})}),(0,x.jsxs)("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px"},children:[(0,x.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#00F0FF",marginBottom:"1rem"},children:"\ud83d\udca1 Set Your Withdrawal Addresses"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:Lr.map(e=>(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,x.jsxs)("span",{style:{color:"#888",fontSize:"14px",minWidth:"60px"},children:[e,":"]}),(0,x.jsx)("input",{type:"text",placeholder:"Your ".concat(e," address"),value:$e[e]||"",onChange:r=>He((0,i.A)((0,i.A)({},$e),{},{[e]:r.target.value})),style:{flex:1,padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"13px"}})]},e))})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",margin:0,marginBottom:"0.5rem"},children:"\u2699\ufe0f Fee Configuration"}),(0,x.jsx)("p",{style:{fontSize:"13px",color:"#888",margin:0},children:"Manage platform fees and commissions"})]}),(0,x.jsx)(l.$,{onClick:()=>gr(!0),style:{background:"linear-gradient(135deg, #A855F7, #8B5CF6)",color:"#fff",fontWeight:"700",padding:"0.75rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:"Edit Fees"})]}),dr&&(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"SWAP FEE"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[dr.swap_fee_percent||1.5,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"EXPRESS BUY FEE"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[dr.express_buy_fee_percent||3,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"P2P TRADE FEE"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[dr.p2p_trade_fee_percent||1,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"REFERRAL COMMISSION"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[dr.referral_commission_percent||20,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"PAYMENT TIMER"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[Math.floor((dr.payment_timer_minutes||120)/60),"h ",(dr.payment_timer_minutes||120)%60,"m"]})]})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)(s.Zp,{onClick:()=>{qe(!0),Re("liquidity")},style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 200, 255, 0.05))",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},children:[(0,x.jsx)("div",{style:{fontSize:"40px",marginBottom:"1rem"},children:"\ud83d\udca7"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:"Add Liquidity"}),(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888"},children:"Top up Express Buy funds"})]}),(0,x.jsxs)(s.Zp,{onClick:()=>Re("customers"),style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(139, 92, 246, 0.05))",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},children:[(0,x.jsx)("div",{style:{fontSize:"40px",marginBottom:"1rem"},children:"\ud83d\udc65"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#A855F7",marginBottom:"0.5rem"},children:"View Customers"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888"},children:[de.length," total users"]})]}),(0,x.jsxs)(s.Zp,{onClick:()=>Re("disputes"),style:{background:Ee.filter(e=>"open"===e.status).length>0?"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))":"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05))",border:Ee.filter(e=>"open"===e.status).length>0?"2px solid rgba(239, 68, 68, 0.3)":"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},children:[(0,x.jsx)("div",{style:{fontSize:"40px",marginBottom:"1rem"},children:Ee.filter(e=>"open"===e.status).length>0?"\u26a0\ufe0f":"\u2705"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:Ee.filter(e=>"open"===e.status).length>0?"#EF4444":"#22C55E",marginBottom:"0.5rem"},children:"Disputes"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888"},children:[Ee.filter(e=>"open"===e.status).length," active disputes"]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83c\udfe5 Platform Health"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"LIQUIDITY STATUS"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:De.some(e=>e.available<.1)?"#EF4444":"#22C55E"},children:De.some(e=>e.available<.1)?"\u26a0\ufe0f Low":"\u2705 Good"})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"EMAIL SERVICE"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#22C55E"},children:"\u2705 Active"})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"SYSTEM STATUS"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#22C55E"},children:"\u2705 Online"})]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83d\udcca Quick Stats"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{textAlign:"center",padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px"},children:[(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7",marginBottom:"0.5rem"},children:["$",((null===le||void 0===le||null===(N=le.transactions)||void 0===N?void 0:N.total_volume)||0).toLocaleString()]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Total Volume"})]}),(0,x.jsxs)("div",{style:{textAlign:"center",padding:"1rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:De.length}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Crypto Pairs"})]}),(0,x.jsxs)("div",{style:{textAlign:"center",padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:de.filter(e=>e.created_at&&new Date(e.created_at)>new Date(Date.now()-864e5)).length}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"New Users (24h)"})]})]})]}),(0,x.jsx)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"20px",fontWeight:"700",margin:0,marginBottom:"0.5rem"},children:"\ud83d\udce2 Broadcast Messaging"}),(0,x.jsx)("p",{style:{fontSize:"13px",color:"#888",margin:0},children:"Send announcements to all users"})]}),(0,x.jsx)(l.$,{onClick:()=>or(!0),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap"},children:"+ New Message"})]})}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83c\udf0d Customer Analytics"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"1rem",textTransform:"uppercase"},children:"Registration Sources"}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#fff"},children:"\ud83d\udd17 Referrals:"}),(0,x.jsx)("span",{style:{color:"#00F0FF",fontWeight:"700"},children:(null===lr||void 0===lr||null===(L=lr.sources)||void 0===L?void 0:L.referral)||0})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("span",{style:{color:"#fff"},children:"\ud83c\udf10 Organic:"}),(0,x.jsx)("span",{style:{color:"#22C55E",fontWeight:"700"},children:(null===lr||void 0===lr||null===(P=lr.sources)||void 0===P?void 0:P.organic)||0})]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"1rem",textTransform:"uppercase"},children:"Top Referrers"}),(null===lr||void 0===lr||null===(D=lr.top_referrers)||void 0===D?void 0:D.slice(0,3).map((e,r)=>(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsxs)("span",{style:{color:"#fff"},children:["#",r+1,":"]}),(0,x.jsxs)("span",{style:{color:"#A855F7",fontWeight:"700"},children:[e.referrals," users"]})]},r)))||(0,x.jsx)("div",{style:{color:"#888",fontSize:"13px"},children:"No referrals yet"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"1rem",textTransform:"uppercase"},children:"Geographic Distribution"}),(null===lr||void 0===lr?void 0:lr.countries)&&Object.entries(lr.countries).slice(0,3).map((e,r)=>{let[t,i]=e;return(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsxs)("span",{style:{color:"#fff"},children:["\ud83c\udf0d ",t,":"]}),(0,x.jsx)("span",{style:{color:"#22C55E",fontWeight:"700"},children:i})]},r)})]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83d\udca7 Liquidity Levels (All Coins)"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:De.length>0?De.map(e=>{var r,t;const i=e.available<.1;return(0,x.jsxs)("div",{style:{padding:"1.5rem",background:i?"rgba(239, 68, 68, 0.05)":"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"2px solid ".concat(i?"rgba(239, 68, 68, 0.3)":"rgba(0, 240, 255, 0.3)")},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{fontSize:"18px",fontWeight:"700",color:"#fff"},children:e.currency}),i&&(0,x.jsx)("span",{style:{fontSize:"20px"},children:"\u26a0\ufe0f"})]}),(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:i?"#EF4444":"#00F0FF",marginBottom:"0.5rem"},children:(null===(r=e.available)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Available: ",(null===(t=e.available)||void 0===t?void 0:t.toFixed(4))||"0",(0,x.jsx)("br",{}),"Reserved: ",(e.reserved||0).toFixed(4)]}),i&&(0,x.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"6px"},children:(0,x.jsx)("div",{style:{fontSize:"11px",color:"#EF4444",fontWeight:"700"},children:"LOW LIQUIDITY"})})]},e.currency)}):(0,x.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"#888"},children:"No liquidity wallets found. Add liquidity to get started."})})]})]}),ir&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #1a1f3a, #0a0f1e)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"22px",fontWeight:"700",marginBottom:"1.5rem"},children:"\ud83d\udce2 Send Broadcast Message"}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Message Title"}),(0,x.jsx)("input",{type:"text",value:nr.title,onChange:e=>sr((0,i.A)((0,i.A)({},nr),{},{title:e.target.value})),placeholder:"e.g., New Features Available!",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"},onFocus:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.6)",onBlur:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.3)"})]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Message Content"}),(0,x.jsx)("textarea",{value:nr.content,onChange:e=>sr((0,i.A)((0,i.A)({},nr),{},{content:e.target.value})),placeholder:"Enter your message here...",rows:6,style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",resize:"vertical",outline:"none",fontFamily:"inherit"},onFocus:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.6)",onBlur:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.3)"})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)("input",{type:"checkbox",checked:nr.send_email,onChange:e=>sr((0,i.A)((0,i.A)({},nr),{},{send_email:e.target.checked})),style:{width:"20px",height:"20px"}}),(0,x.jsx)("label",{style:{color:"#fff",fontSize:"14px"},children:"Also send via email"})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(l.$,{onClick:async()=>{if(nr.title&&nr.content)try{const e=await c.A.post("".concat(b,"/api/admin/broadcast-message"),nr);e.data.success&&(p.oR.success("Message sent to ".concat(e.data.messages_created," users!")),or(!1),sr({title:"",content:"",send_email:!1}))}catch(e){p.oR.error("Failed to send broadcast message"),console.error("Error sending broadcast:",e)}else p.oR.error("Please enter title and message")},style:{flex:1,background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.875rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"15px"},children:"\ud83d\udce4 Send Message"}),(0,x.jsx)(l.$,{onClick:()=>{or(!1),sr({title:"",content:"",send_email:!1})},style:{flex:1,background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontWeight:"600",padding:"0.875rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer",fontSize:"15px"},children:"Cancel"})]})]})}),pr&&dr&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #1a1f3a, #0a0f1e)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%"},children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"22px",fontWeight:"700",marginBottom:"1.5rem"},children:"\u2699\ufe0f Edit Platform Fees"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Coin Swap Fee (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:dr.swap_fee_percent||1.5,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{swap_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Express Buy Fee (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:dr.express_buy_fee_percent||3,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{express_buy_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"P2P Trade Fee (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:dr.p2p_trade_fee_percent||1,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{p2p_trade_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#888",marginTop:"0.5rem"},children:"\ud83d\udca1 Applied to all P2P trades (normal and Fast Payment)"})]}),(0,x.jsxs)("div",{style:{background:"rgba(168, 85, 247, 0.05)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("label",{style:{color:"#A855F7",fontSize:"14px",display:"block",marginBottom:"1rem",fontWeight:"700"},children:"\u26a1 Per-Coin Express Buy Fee Overrides (Optional)"}),(0,x.jsxs)("div",{style:{fontSize:"11px",color:"#888",marginBottom:"1rem",lineHeight:"1.6"},children:["Set custom Express Buy fees for specific coins. Leave blank to use the global fee (",dr.express_buy_fee_percent||3,"%)."]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"1rem"},children:Lr.map(e=>{var r;return(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"11px",display:"block",marginBottom:"0.3rem"},children:e}),(0,x.jsx)("input",{type:"number",step:"0.1",placeholder:"".concat(dr.express_buy_fee_percent||3,"%"),value:(null===(r=dr.express_buy_fees_by_coin)||void 0===r?void 0:r[e])||"",onChange:r=>{const t=(0,i.A)({},dr.express_buy_fees_by_coin||{});""===r.target.value?delete t[e]:t[e]=parseFloat(r.target.value),cr((0,i.A)((0,i.A)({},dr),{},{express_buy_fees_by_coin:t}))},style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"13px",outline:"none"}})]},e)})})]}),(0,x.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.05)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("label",{style:{color:"#22C55E",fontSize:"14px",display:"block",marginBottom:"1rem",fontWeight:"700"},children:"\u26a1 Manage Express Buy Supported Coins"}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#888",marginBottom:"1rem",lineHeight:"1.6"},children:"Add or remove coins available for Express Buy. Changes apply immediately to the Express Buy page."}),(0,x.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:Lr.map(e=>(0,x.jsxs)("button",{onClick:()=>{const r=dr.express_buy_supported_coins||[];r.includes(e)?cr((0,i.A)((0,i.A)({},dr),{},{express_buy_supported_coins:r.filter(r=>r!==e)})):cr((0,i.A)((0,i.A)({},dr),{},{express_buy_supported_coins:[...r,e]}))},style:{padding:"0.5rem 1rem",background:(dr.express_buy_supported_coins||[]).includes(e)?"linear-gradient(135deg, #22C55E, #16A34A)":"rgba(0, 0, 0, 0.4)",border:(dr.express_buy_supported_coins||[]).includes(e)?"2px solid rgba(34, 197, 94, 0.6)":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"13px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease"},children:[e," ",(dr.express_buy_supported_coins||[]).includes(e)?"\u2713":"+"]},e))}),(0,x.jsxs)("div",{style:{padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",fontSize:"12px",color:"#22C55E"},children:[(0,x.jsxs)("strong",{children:["Selected (",(dr.express_buy_supported_coins||[]).length," coins):"]})," ",(dr.express_buy_supported_coins||[]).join(", ")||"None"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Referral Commission (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:dr.referral_commission_percent||20,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{referral_commission_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Payment Timer (minutes)"}),(0,x.jsx)("input",{type:"number",step:"1",value:dr.payment_timer_minutes||120,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{payment_timer_minutes:parseInt(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Time buyers have to complete payment (current: ",Math.floor((dr.payment_timer_minutes||120)/60),"h ",(dr.payment_timer_minutes||120)%60,"m)"]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,x.jsx)(l.$,{onClick:()=>(async e=>{try{(await c.A.post("".concat(b,"/api/admin/platform-settings"),e)).data.success&&(p.oR.success("Fee settings updated successfully!"),it(),gr(!1))}catch(r){p.oR.error("Failed to update settings"),console.error("Error updating settings:",r)}})(dr),style:{flex:1,background:"linear-gradient(135deg, #A855F7, #8B5CF6)",color:"#fff",fontWeight:"700",padding:"0.875rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"15px"},children:"\ud83d\udcbe Save Changes"}),(0,x.jsx)(l.$,{onClick:()=>{gr(!1),it()},style:{flex:1,background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontWeight:"600",padding:"0.875rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer",fontSize:"15px"},children:"Cancel"})]})]})}),"referrals"===We&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(s.Zp,{style:{marginBottom:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"Referral Configuration"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Referrer Commission (%)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===Ae||void 0===Ae?void 0:Ae.referrer_commission_percent)||20,onBlur:e=>{e.target.value!==(null===Ae||void 0===Ae?void 0:Ae.referrer_commission_percent.toString())&&nt({referrer_commission_percent:parseFloat(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"Referrers earn this % of platform fees from referred users"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Commission Duration (Months)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===Ae||void 0===Ae?void 0:Ae.commission_duration_months)||12,onBlur:e=>{e.target.value!==(null===Ae||void 0===Ae?void 0:Ae.commission_duration_months.toString())&&nt({commission_duration_months:parseInt(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"How long referrers earn commissions per user"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Referred User Discount (%)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===Ae||void 0===Ae?void 0:Ae.referred_user_fee_discount_percent)||100,onBlur:e=>{e.target.value!==(null===Ae||void 0===Ae?void 0:Ae.referred_user_fee_discount_percent.toString())&&nt({referred_user_fee_discount_percent:parseFloat(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"Fee discount for new referred users (100% = 0% fees)"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Discount Duration (Days)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===Ae||void 0===Ae?void 0:Ae.fee_discount_duration_days)||30,onBlur:e=>{e.target.value!==(null===Ae||void 0===Ae?void 0:Ae.fee_discount_duration_days.toString())&&nt({fee_discount_duration_days:parseInt(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"How long referred users get discounted fees"})]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"Referral Earnings & Payouts"}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"User"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Email"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Total Earned"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Paid"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Unpaid"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Action"})]})}),(0,x.jsx)("tbody",{children:we&&we.length>0?we.map(e=>(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(0, 240, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"14px"},children:e.full_name}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"14px"},children:e.email}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"16px",fontWeight:"700"},children:["$",e.total_earned.toFixed(2)]}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#22C55E",fontSize:"14px"},children:["$",e.paid_amount.toFixed(2)]}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#F59E0B",fontSize:"14px",fontWeight:"600"},children:["$",e.unpaid_amount.toFixed(2)]}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"700",background:"paid"===e.payout_status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)",color:"paid"===e.payout_status?"#22C55E":"#F59E0B",border:"paid"===e.payout_status?"1px solid #22C55E":"1px solid #F59E0B"},children:"paid"===e.payout_status?"PAID":"PENDING"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:e.unpaid_amount>0&&(0,x.jsx)("button",{onClick:()=>{const r=prompt("Enter amount to mark as paid for ".concat(e.full_name,":"),e.unpaid_amount.toFixed(2));r&&parseFloat(r)>0&&(async(e,r)=>{try{const t=await c.A.post("".concat(b,"/api/admin/mark-referral-paid"),{user_id:e,amount_paid:parseFloat(r)});if(t.data.success){p.oR.success(t.data.message);const e=await c.A.get("".concat(b,"/api/admin/referral-earnings"));e.data.success&&Ce(e.data.earnings)}}catch(o){var t,i;console.error("Error marking paid:",o),p.oR.error((null===(t=o.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to mark as paid")}})(e.user_id,r)},style:{padding:"6px 16px",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"6px",color:"#000",fontSize:"12px",fontWeight:"700",cursor:"pointer"},children:"Mark Paid"})})]},e.user_id)):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"7",style:{padding:"2rem",textAlign:"center",color:"#666"},children:"No referral earnings yet"})})})]})})]})]}),"disputes"===We&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"0.5rem"},children:"Dispute Management"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Review and resolve all P2P trade disputes"})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,x.jsx)("button",{onClick:()=>Ne("all"),style:{padding:"0.5rem 1rem",background:"all"===Ie?"rgba(0, 240, 255, 0.2)":"rgba(0, 240, 255, 0.05)",border:"1px solid ".concat("all"===Ie?"#00F0FF":"rgba(0, 240, 255, 0.2)"),borderRadius:"8px",color:"all"===Ie?"#00F0FF":"#888",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"All"}),(0,x.jsx)("button",{onClick:()=>Ne("open"),style:{padding:"0.5rem 1rem",background:"open"===Ie?"rgba(245, 158, 11, 0.2)":"rgba(245, 158, 11, 0.05)",border:"1px solid ".concat("open"===Ie?"#F59E0B":"rgba(245, 158, 11, 0.2)"),borderRadius:"8px",color:"open"===Ie?"#F59E0B":"#888",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Open"}),(0,x.jsx)("button",{onClick:()=>Ne("resolved"),style:{padding:"0.5rem 1rem",background:"resolved"===Ie?"rgba(34, 197, 94, 0.2)":"rgba(34, 197, 94, 0.05)",border:"1px solid ".concat("resolved"===Ie?"#22C55E":"rgba(34, 197, 94, 0.2)"),borderRadius:"8px",color:"resolved"===Ie?"#22C55E":"#888",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Resolved"})]})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Dispute ID"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Trade ID"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Buyer"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Seller"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Amount"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Opened By"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:Ee&&Ee.filter(e=>"all"===Ie||e.status===Ie).length>0?Ee.filter(e=>"all"===Ie||e.status===Ie).map(e=>{var r,t,i,o,n,s,l;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(0, 240, 255, 0.1)"},children:[(0,x.jsxs)("td",{style:{padding:"1rem",color:"#888",fontSize:"13px",fontFamily:"monospace"},children:[null===(r=e.dispute_id)||void 0===r?void 0:r.substring(0,8),"..."]}),(0,x.jsxs)("td",{style:{padding:"1rem",color:"#888",fontSize:"13px",fontFamily:"monospace"},children:[null===(t=e.trade_id)||void 0===t?void 0:t.substring(0,8),"..."]}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"14px"},children:(null===(i=e.buyer)||void 0===i?void 0:i.email)||"N/A"}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"14px"},children:(null===(o=e.seller)||void 0===o?void 0:o.email)||"N/A"}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:[null===(n=e.trade)||void 0===n?void 0:n.crypto_amount," ",null===(s=e.trade)||void 0===s?void 0:s.crypto_currency]}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"700",background:"resolved"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)",color:"resolved"===e.status?"#22C55E":"#F59E0B",border:"resolved"===e.status?"1px solid #22C55E":"1px solid #F59E0B"},children:null===(l=e.status)||void 0===l?void 0:l.toUpperCase()})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center",color:"#888",fontSize:"13px"},children:e.opened_by}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:"open"===e.status?(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,x.jsx)("button",{onClick:()=>st(e.dispute_id,"release_to_buyer"),style:{padding:"6px 12px",background:"linear-gradient(135deg, #22C55E, #16A34A)",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:"700",cursor:"pointer",whiteSpace:"nowrap"},children:"\u2192 Buyer"}),(0,x.jsx)("button",{onClick:()=>st(e.dispute_id,"return_to_seller"),style:{padding:"6px 12px",background:"linear-gradient(135deg, #EF4444, #DC2626)",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:"700",cursor:"pointer",whiteSpace:"nowrap"},children:"\u2192 Seller"})]}):(0,x.jsx)("span",{style:{color:"#666",fontSize:"12px"},children:"release_to_buyer"===e.resolution?"\u2713 Released to Buyer":"\u2713 Returned to Seller"})})]},e.dispute_id)}):(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{colSpan:"8",style:{padding:"3rem",textAlign:"center",color:"#666"},children:["No ","all"!==Ie?Ie:""," disputes found"]})})})]})})]})}),"golden-referrals"===We&&(0,x.jsx)("div",{children:(0,x.jsxs)(s.Zp,{style:{marginBottom:"2rem",background:"rgba(255, 215, 0, 0.05)",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsx)("span",{style:{fontSize:"32px"},children:"\ud83c\udf1f"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#FFD700",fontSize:"24px",fontWeight:"900",marginBottom:"0.5rem"},children:"Golden Referral VIP Tier"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px",margin:0},children:"Premium tier: 50% commission on all fees (P2P, Swap, Withdrawal, Express Buy)"})]})]}),(0,x.jsx)("div",{style:{background:"rgba(255, 215, 0, 0.1)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:(0,x.jsxs)("p",{style:{color:"#FFD700",fontSize:"14px",margin:0,lineHeight:"1.6"},children:["\u26a0\ufe0f ",(0,x.jsx)("strong",{children:"Admin Only:"})," This VIP tier is hidden from public view and manually assigned. Users see earnings but not the tier name."]})}),(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Add User to Golden Tier"}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,x.jsx)("input",{type:"text",placeholder:"Search by email or user ID",id:"golden-search-input",style:{flex:1,minWidth:"300px",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("button",{onClick:async()=>{const e=document.getElementById("golden-search-input").value;if(e)try{const r=e.includes("@"),t=new URLSearchParams(r?{email:e}:{user_id:e}),i=await c.A.get("".concat(b,"/api/admin/golden-referral/search?").concat(t));if(i.data.success&&i.data.users.length>0){window.goldenSearchResults=i.data.users;const e=document.getElementById("golden-search-results");e.style.display="block",e.innerHTML=i.data.users.map(e=>'\n                            <div style="padding: 1rem; background: rgba(0, 0, 0, 0.3); border-radius: 8px; margin-bottom: 0.5rem;">\n                              <div style="display: flex; justify-content: space-between; align-items: center;">\n                                <div>\n                                  <p style="color: #fff; font-weight: 600; margin: 0;">'.concat(e.email,'</p>\n                                  <p style="color: #888; fontSize: 12px; margin: 0.25rem 0 0 0;">\n                                    ID: ').concat(e.user_id," | Referrals: ").concat(e.referral_count," | Earned: \xa3").concat(e.total_earned.toFixed(2),"\n                                  </p>\n                                  ").concat(e.has_golden_tier?'<span style="color: #FFD700; fontSize: 12px;">\u2713 Already has Golden Tier</span>':"","\n                                </div>\n                                <button\n                                  onclick=\"activateGoldenReferral('").concat(e.user_id,'\')"\n                                  disabled="').concat(e.has_golden_tier,'"\n                                  style="\n                                    padding: 0.5rem 1rem;\n                                    background: ').concat(e.has_golden_tier?"#666":"linear-gradient(135deg, #FFD700, #FFA500)",";\n                                    color: #000;\n                                    border: none;\n                                    borderRadius: 6px;\n                                    fontWeight: 700;\n                                    cursor: ").concat(e.has_golden_tier?"not-allowed":"pointer",";\n                                    opacity: ").concat(e.has_golden_tier?"0.5":"1",';\n                                  "\n                                >\n                                  ').concat(e.has_golden_tier?"Active":"Activate","\n                                </button>\n                              </div>\n                            </div>\n                          ")).join("")}else p.oR.error("No users found")}catch(r){console.error("Search error:",r),p.oR.error("Failed to search users")}else p.oR.error("Please enter email or user ID")},style:{padding:"12px 24px",background:"linear-gradient(135deg, #00F0FF, #0891b2)",color:"#000",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:"\ud83d\udd0d Search"})]}),(0,x.jsx)("div",{id:"golden-search-results",style:{marginTop:"1rem",display:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Current Golden VIP Users"}),(0,x.jsx)("button",{onClick:async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/golden-referral/users"));if(e.data.success){const r=e.data.golden_users,t=document.getElementById("golden-users-list");0===r.length?t.innerHTML='<p style="color: #888; textAlign: center; padding: 2rem;">No Golden VIP users yet</p>':t.innerHTML=r.map(e=>'\n                            <div style="\n                              padding: 1.5rem;\n                              background: rgba(255, 215, 0, 0.05);\n                              border: 2px solid rgba(255, 215, 0, 0.2);\n                              borderRadius: 12px;\n                              marginBottom: 1rem;\n                            ">\n                              <div style="display: flex; justifyContent: space-between; alignItems: start; marginBottom: 1rem;">\n                                <div>\n                                  <div style="display: flex; alignItems: center; gap: 0.5rem; marginBottom: 0.5rem;">\n                                    <span style="fontSize: 20px;">\ud83c\udf1f</span>\n                                    <h4 style="color: #FFD700; fontSize: 18px; fontWeight: 700; margin: 0;">'.concat(e.email,'</h4>\n                                  </div>\n                                  <p style="color: #888; fontSize: 12px; margin: 0;">\n                                    User ID: ').concat(e.user_id,"\n                                  </p>\n                                </div>\n                                <button\n                                  onclick=\"deactivateGoldenReferral('").concat(e.user_id,'\')"\n                                  style="\n                                    padding: 0.5rem 1rem;\n                                    background: rgba(239, 68, 68, 0.2);\n                                    color: #ef4444;\n                                    border: 2px solid #ef4444;\n                                    borderRadius: 8px;\n                                    fontSize: 13px;\n                                    fontWeight: 700;\n                                    cursor: pointer;\n                                  "\n                                >\n                                  \u274c Deactivate\n                                </button>\n                              </div>\n                              \n                              <div style="display: grid; gridTemplateColumns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; marginTop: 1rem;">\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Total Earned</p>\n                                  <p style="color: #FFD700; fontSize: 18px; fontWeight: 700; margin: 0;">\xa3').concat(e.total_earned.toFixed(2),'</p>\n                                </div>\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Transactions</p>\n                                  <p style="color: #00F0FF; fontSize: 18px; fontWeight: 700; margin: 0;">').concat(e.total_transactions,'</p>\n                                </div>\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Referrals</p>\n                                  <p style="color: #A855F7; fontSize: 18px; fontWeight: 700; margin: 0;">').concat(e.referral_count,'</p>\n                                </div>\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Commission Rate</p>\n                                  <p style="color: #10b981; fontSize: 18px; fontWeight: 700; margin: 0;">').concat(e.commission_rate,'</p>\n                                </div>\n                              </div>\n                              \n                              <div style="marginTop: 1rem; padding: 0.75rem; background: rgba(0, 0, 0, 0.2); borderRadius: 6px;">\n                                <p style="color: #888; fontSize: 11px; margin: 0;">\n                                  Activated: ').concat(new Date(e.activated_at).toLocaleDateString()," by ").concat(e.activated_by,"\n                                </p>\n                              </div>\n                            </div>\n                          ")).join("")}}catch(e){console.error("Failed to load golden users:",e),p.oR.error("Failed to load Golden VIP users")}},style:{padding:"12px 24px",background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"#000",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"700",cursor:"pointer",marginBottom:"1rem"},children:"\ud83d\udcca Load Golden VIP Users"}),(0,x.jsx)("div",{id:"golden-users-list",style:{minHeight:"100px"},children:(0,x.jsx)("p",{style:{color:"#888",textAlign:"center",padding:"2rem"},children:'Click "Load Golden VIP Users" to view'})})]})]})}),"customers"===We&&(0,x.jsxs)(s.Zp,{className:"customers-table-card",children:[(0,x.jsxs)("div",{className:"table-header",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"table-title",children:"All Customers"}),(0,x.jsx)("p",{className:"table-subtitle",children:"Buyers and Lenders on the Platform"})]}),(0,x.jsxs)("div",{className:"table-actions",children:[(0,x.jsxs)("div",{className:"search-input-wrapper-admin",children:[(0,x.jsx)(d.zfp,{className:"search-icon-admin",size:20}),(0,x.jsx)(a.p,{placeholder:"Search customers...",value:ve,onChange:e=>Fe(e.target.value),className:"search-input-admin","data-testid":"search-customers"})]}),(0,x.jsxs)(l.$,{onClick:()=>{const e=[["Email","Name","Wallet","Balance","Deposited","Borrowed","Earned","Transactions","Created"].join(","),...lt.map(e=>[e.email,e.full_name,e.wallet_address||"N/A",e.wallet_balance,e.total_deposited,e.total_borrowed,e.total_earned,e.transaction_count,new Date(e.created_at).toLocaleDateString()].join(","))].join("\n"),r=new Blob([e],{type:"text/csv"}),t=window.URL.createObjectURL(r),i=document.createElement("a");i.href=t,i.download="customers_".concat((new Date).toISOString().split("T")[0],".csv"),i.click(),p.oR.success("Customers exported successfully")},className:"export-btn",children:[(0,x.jsx)(d.y10,{size:20}),(0,x.jsx)("span",{children:"Export CSV"})]})]})]}),(0,x.jsx)("div",{className:"table-container",children:(0,x.jsxs)("table",{className:"customers-table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Customer"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Wallet Address"}),(0,x.jsx)("th",{children:"Balance"}),(0,x.jsx)("th",{children:"Total Deposited"}),(0,x.jsx)("th",{children:"Total Borrowed"}),(0,x.jsx)("th",{children:"Total Earned"}),(0,x.jsx)("th",{children:"Transactions"}),(0,x.jsx)("th",{children:"Active Orders"}),(0,x.jsx)("th",{children:"Joined"})]})}),(0,x.jsx)("tbody",{children:lt.length>0?lt.map(e=>{var r,t,i,o,n;return(0,x.jsxs)("tr",{"data-testid":"customer-row",children:[(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"customer-cell",children:[(0,x.jsx)("div",{className:"customer-avatar",children:(null===(r=e.full_name)||void 0===r?void 0:r.charAt(0))||"U"}),(0,x.jsx)("span",{className:"customer-name",children:e.full_name})]})}),(0,x.jsx)("td",{children:e.email}),(0,x.jsx)("td",{children:e.wallet_address?(0,x.jsxs)("span",{className:"wallet-address-cell",children:[e.wallet_address.slice(0,6),"...",e.wallet_address.slice(-4)]}):(0,x.jsx)("span",{className:"no-wallet",children:"No wallet"})}),(0,x.jsxs)("td",{children:[(null===(t=e.wallet_balance)||void 0===t?void 0:t.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsxs)("td",{children:[(null===(i=e.total_deposited)||void 0===i?void 0:i.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsxs)("td",{children:[(null===(o=e.total_borrowed)||void 0===o?void 0:o.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsxs)("td",{className:"earned-cell",children:[(null===(n=e.total_earned)||void 0===n?void 0:n.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsx)("td",{children:e.transaction_count||0}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"orders-cell",children:(e.active_buy_orders||0)+(e.active_sell_orders||0)})}),(0,x.jsx)("td",{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]},e.user_id)}):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"10",className:"empty-row",children:"No customers found"})})})]})}),(0,x.jsx)("div",{className:"table-footer",children:(0,x.jsxs)("p",{className:"showing-text",children:["Showing ",lt.length," of ",de.length," customers"]})})]}),"overview"===We&&Se&&(0,x.jsxs)(s.Zp,{style:{marginTop:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"Platform Configuration"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px",marginBottom:"2rem"},children:"View current platform settings. Contact developer to modify core configurations."}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:Se.config&&Object.entries(Se.config).map(e=>{let[r,t]=e;return(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{color:"#888",fontSize:"12px",marginBottom:"0.5rem",textTransform:"uppercase"},children:r.replace(/_/g," ")}),(0,x.jsx)("div",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700"},children:"number"===typeof t&&(r.includes("percent")||r.includes("rate"))?"".concat(t,"%"):t})]},r)})})]}),"liquidity"===We&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(15, 15, 24, 0.95)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"700",marginBottom:"0.5rem"},children:"Admin Liquidity Wallet"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Manage platform liquidity for Express Buy. Add crypto to enable instant purchases."})]}),(0,x.jsx)(l.$,{onClick:()=>qe(!0),style:{marginBottom:"2rem",background:"linear-gradient(135deg, #00F0FF, #00B8E6)",color:"#0a1628",fontWeight:"700"},children:"+ Add Liquidity"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:De.map(e=>{var r,t,i;const o=e.available<.1;return(0,x.jsxs)("div",{style:{background:o?"rgba(239, 68, 68, 0.05)":"rgba(0, 240, 255, 0.05)",border:"2px solid ".concat(o?"rgba(239, 68, 68, 0.4)":"rgba(0, 240, 255, 0.3)"),borderRadius:"12px",padding:"1.5rem",position:"relative"},children:[o&&(0,x.jsx)("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid #EF4444",borderRadius:"6px",padding:"0.25rem 0.5rem",fontSize:"10px",color:"#EF4444",fontWeight:"700"},children:"\u26a0\ufe0f LOW"}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{fontSize:"24px"},children:{BTC:"\u20bf",ETH:"\u039e",USDT:"\u20ae",BNB:"\ud83d\udd36",SOL:"\u25ce",LTC:"\u0141"}[e.currency]||"\ud83e\ude99"}),(0,x.jsx)("span",{style:{fontSize:"16px",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase"},children:e.currency})]}),(0,x.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#00F0FF",marginBottom:"1rem"},children:(null===(r=e.balance)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",fontSize:"12px"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Available:"}),(0,x.jsx)("span",{style:{color:"#22C55E",fontWeight:"600"},children:(null===(t=e.available)||void 0===t?void 0:t.toFixed(8))||"0.00000000"})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Reserved:"}),(0,x.jsx)("span",{style:{color:"#F59E0B",fontWeight:"600"},children:(null===(i=e.reserved)||void 0===i?void 0:i.toFixed(8))||"0.00000000"})]})]}),(0,x.jsxs)(l.$,{onClick:()=>{Ze({currency:e.currency,amount:""}),qe(!0)},style:{width:"100%",marginTop:"1rem",background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",color:"#00F0FF",fontSize:"12px",fontWeight:"600"},children:["+ Add ",e.currency]})]},e.currency)})}),0===De.length&&(0,x.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"#888"},children:'No liquidity added yet. Click "Add Liquidity" to start.'}),Ue&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,x.jsxs)("div",{style:{background:"#0a1628",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"Add Liquidity for Express Buy"}),(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",fontSize:"13px",color:"#888",lineHeight:"1.6"},children:["\ud83d\udca1 ",(0,x.jsx)("strong",{style:{color:"#00F0FF"},children:"What is Liquidity?"}),(0,x.jsx)("br",{}),"Adding liquidity enables ",(0,x.jsx)("strong",{style:{color:"#fff"},children:"Instant Buy (ExpressBuy)"})," for users. When users buy crypto instantly, they pay a ",(0,x.jsx)("strong",{style:{color:"#22C55E"},children:"3% fee"})," which goes to your Fee Wallet. Liquidity is deducted automatically when users make instant purchases."]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"14px",marginBottom:"0.5rem"},children:"Currency"}),(0,x.jsxs)("select",{value:Oe.currency,onChange:e=>Ze((0,i.A)((0,i.A)({},Oe),{},{currency:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"},children:[(0,x.jsx)("option",{value:"BTC",children:"BTC"}),(0,x.jsx)("option",{value:"ETH",children:"ETH"}),(0,x.jsx)("option",{value:"USDT",children:"USDT"}),(0,x.jsx)("option",{value:"BNB",children:"BNB"}),(0,x.jsx)("option",{value:"SOL",children:"SOL"}),(0,x.jsx)("option",{value:"LTC",children:"LTC"})]})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"14px",marginBottom:"0.5rem"},children:"Amount"}),(0,x.jsx)(a.p,{type:"number",value:Oe.amount,onChange:e=>Ze((0,i.A)((0,i.A)({},Oe),{},{amount:e.target.value})),placeholder:"0.00",style:{background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",color:"#fff"}})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(l.$,{onClick:async()=>{try{(await c.A.post("".concat(b,"/api/admin/liquidity/add"),{currency:Oe.currency,amount:parseFloat(Oe.amount),admin_id:(null===ne||void 0===ne?void 0:ne.user_id)||"admin"})).data.success&&(p.oR.success("Added ".concat(Oe.amount," ").concat(Oe.currency," to liquidity")),qe(!1),Ze({currency:"BTC",amount:""}),Kr())}catch(e){p.oR.error("Failed to add liquidity")}},style:{flex:1,background:"linear-gradient(135deg, #00F0FF, #00B8E6)",color:"#0a1628",fontWeight:"700"},children:"Add Liquidity"}),(0,x.jsx)(l.$,{onClick:()=>{qe(!1),Ze({currency:"BTC",amount:""})},style:{flex:1,background:"rgba(239, 68, 68, 0.2)",border:"2px solid #EF4444",color:"#EF4444"},children:"Cancel"})]})]})}),(0,x.jsxs)("div",{style:{marginTop:"3rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udcca Liquidity History"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px",marginBottom:"1.5rem"},children:"Track all liquidity additions, withdrawals, and ExpressBuy usage."}),Qe.length>0?(0,x.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",overflow:"hidden"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)",borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Type"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Currency"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Amount"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Fee Generated"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Date"})]})}),(0,x.jsx)("tbody",{children:Qe.slice(0,20).map((e,r)=>{var t,i;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[(0,x.jsx)("td",{style:{padding:"1rem"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"12px",fontWeight:"600",background:"addition"===e.type?"rgba(34, 197, 94, 0.2)":"withdrawal"===e.type?"rgba(239, 68, 68, 0.2)":"rgba(245, 158, 11, 0.2)",color:"addition"===e.type?"#22C55E":"withdrawal"===e.type?"#EF4444":"#F59E0B"},children:"addition"===e.type?"\u2795 Added":"withdrawal"===e.type?"\u2796 Withdrawn":"\ud83d\udcb0 Used (ExpressBuy)"})}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontWeight:"600"},children:e.currency}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#00F0FF",fontWeight:"600"},children:(null===(t=e.amount)||void 0===t?void 0:t.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#22C55E",fontWeight:"600"},children:e.fee_collected?"+".concat(e.fee_collected.toFixed(8)):"-"}),(0,x.jsx)("td",{style:{padding:"1rem"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"11px",fontWeight:"700",background:"completed"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)",color:"completed"===e.status?"#22C55E":"#F59E0B"},children:null===(i=e.status)||void 0===i?void 0:i.toUpperCase()})}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"13px"},children:e.timestamp?new Date(e.timestamp).toLocaleString():"N/A"})]},r)})})]})}):(0,x.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"#888",background:"rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},children:"No liquidity history yet. Start adding liquidity to see transactions here."})]})]}),"withdrawals"===We&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(15, 15, 24, 0.95)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"700",marginBottom:"0.5rem"},children:"Admin Withdrawals"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Withdraw collected fees and liquidity to your personal wallets."})]}),(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Your Withdrawal Addresses"}),Lr.map(e=>(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsxs)("label",{style:{display:"block",color:"#888",fontSize:"14px",marginBottom:"0.5rem",fontWeight:"600"},children:[e," Address"]}),(0,x.jsx)(a.p,{type:"text",value:$e[e],onChange:r=>He((0,i.A)((0,i.A)({},$e),{},{[e]:r.target.value})),placeholder:"Paste your ".concat(e," wallet address"),style:{background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",color:"#fff",fontSize:"14px"}})]},e))]}),(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{color:"#22C55E",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Fee Wallet"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:Ve.filter(e=>e.total_fees>0).map(e=>{var r;return(0,x.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.05)",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:[e.currency," Fees"]}),(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#22C55E",marginBottom:"1rem"},children:(null===(r=e.total_fees)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsx)(l.$,{onClick:()=>Xe({currency:e.currency,amount:e.total_fees,wallet_type:"fee_wallet",address:$e[e.currency]}),disabled:!$e[e.currency],style:{width:"100%",background:$e[e.currency]?"linear-gradient(135deg, #22C55E, #16A34A)":"rgba(34, 197, 94, 0.3)",color:"#fff",fontWeight:"700"},children:"Withdraw Fees"})]},e.currency)})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Liquidity Wallet"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:De.filter(e=>e.available>0).map(e=>{var r,t;return(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:[e.currency," Liquidity"]}),(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:(null===(r=e.available)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"1rem"},children:["Total: ",null===(t=e.balance)||void 0===t?void 0:t.toFixed(8)]}),(0,x.jsx)(l.$,{onClick:()=>Xe({currency:e.currency,amount:e.available,wallet_type:"liquidity_wallet",address:$e[e.currency]}),disabled:!$e[e.currency],style:{width:"100%",background:$e[e.currency]?"linear-gradient(135deg, #00F0FF, #00B8E6)":"rgba(0, 240, 255, 0.3)",color:$e[e.currency]?"#0a1628":"rgba(255,255,255,0.5)",fontWeight:"700"},children:"Withdraw Liquidity"})]},e.currency)})})]}),Ye&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,x.jsxs)("div",{style:{background:"#0a1628",border:"2px solid rgba(245, 158, 11, 0.5)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},children:[(0,x.jsx)("h3",{style:{color:"#F59E0B",fontSize:"20px",fontWeight:"700",marginBottom:"1.5rem"},children:"\u26a0\ufe0f Confirm Withdrawal"}),(0,x.jsxs)("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Currency:"}),(0,x.jsx)("span",{style:{color:"#fff",fontWeight:"700"},children:Ye.currency})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Amount:"}),(0,x.jsx)("span",{style:{color:"#00F0FF",fontWeight:"700"},children:null===(M=Ye.amount)||void 0===M?void 0:M.toFixed(8)})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"From:"}),(0,x.jsx)("span",{style:{color:"#fff",fontWeight:"700"},children:"fee_wallet"===Ye.wallet_type?"Fee Wallet":"Liquidity Wallet"})]}),(0,x.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[(0,x.jsx)("div",{style:{color:"#888",fontSize:"12px",marginBottom:"0.25rem"},children:"To Address:"}),(0,x.jsx)("div",{style:{color:"#fff",fontSize:"12px",wordBreak:"break-all"},children:Ye.address})]})]}),(0,x.jsx)("div",{style:{color:"#F59E0B",fontSize:"14px",marginBottom:"1.5rem",lineHeight:"1.6"},children:"This withdrawal cannot be reversed. Please verify the address is correct before confirming."}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(l.$,{onClick:async()=>{Ke(!0);try{(await c.A.post("".concat(b,"/api/admin/withdraw"),{admin_id:(null===ne||void 0===ne?void 0:ne.user_id)||"admin",currency:Ye.currency,amount:Ye.amount,wallet_type:Ye.wallet_type,withdrawal_address:Ye.address})).data.success&&(p.oR.success("Withdrawal of ".concat(Ye.amount," ").concat(Ye.currency," initiated!")),Xe(null),Kr(),Qr())}catch(t){var e,r;p.oR.error((null===(e=t.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Withdrawal failed")}finally{Ke(!1)}},disabled:Je,style:{flex:1,background:Je?"rgba(245, 158, 11, 0.3)":"linear-gradient(135deg, #F59E0B, #D97706)",color:"#fff",fontWeight:"700"},children:Je?"Processing...":"Confirm Withdrawal"}),(0,x.jsx)(l.$,{onClick:()=>Xe(null),disabled:Je,style:{flex:1,background:"rgba(239, 68, 68, 0.2)",border:"2px solid #EF4444",color:"#EF4444"},children:"Cancel"})]})]})})]}),"trading"===We&&(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF",marginBottom:"2rem",textTransform:"uppercase"},children:"\u26a1 Trading Liquidity Management"}),(0,x.jsx)("p",{style:{color:"#888",marginBottom:"2rem",lineHeight:"1.6"},children:"Manage platform liquidity for the Spot Trading page. Trading pairs are automatically disabled when liquidity reaches zero. Markup/markdown percentages are hidden from users and protect the platform from market movements."}),(0,x.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#fff"},children:"Trading Pair Liquidity"}),(0,x.jsx)(l.$,{onClick:()=>hr({show:!0,type:"add",currency:"BTC",amount:""}),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"+ Add Liquidity"})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)",borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Currency"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Total Balance"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Available"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Reserved"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:xr.map((e,r)=>{var t,i,o;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontWeight:"700",fontSize:"16px"},children:e.currency}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:"#fff",fontSize:"14px"},children:(null===(t=e.balance)||void 0===t?void 0:t.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:e.available>0?"#22C55E":"#EF4444",fontSize:"14px",fontWeight:"700"},children:(null===(i=e.available)||void 0===i?void 0:i.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:"#888",fontSize:"14px"},children:(null===(o=e.reserved)||void 0===o?void 0:o.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"12px",fontWeight:"700",background:e.is_tradable?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.is_tradable?"#22C55E":"#EF4444",border:"1px solid ".concat(e.is_tradable?"#22C55E":"#EF4444")},children:"active"===e.status?"\u2713 Active":"\u23f8 Paused"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,x.jsx)("button",{onClick:()=>hr({show:!0,type:"add",currency:e.currency,amount:""}),style:{padding:"0.5rem 1rem",background:"rgba(0, 240, 255, 0.2)",color:"#00F0FF",border:"1px solid #00F0FF",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"700"},children:"Add"}),(0,x.jsx)("button",{onClick:()=>hr({show:!0,type:"remove",currency:e.currency,amount:""}),style:{padding:"0.5rem 1rem",background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",border:"1px solid #EF4444",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"700",opacity:e.available>0?1:.5},disabled:e.available<=0,children:"Remove"})]})})]},e.currency)})})]})})]}),(0,x.jsxs)("div",{style:{marginTop:"3rem",padding:"2rem",background:"rgba(168, 85, 247, 0.1)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#A855F7",marginBottom:"1.5rem"},children:"Fee & Spread Protection Settings"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Trading Fee %"}),(0,x.jsx)(a.p,{type:"number",step:"0.01",value:(null===dr||void 0===dr?void 0:dr.trading_fee_percent)||.1,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{trading_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"Charged to users (separate from P2P and Express Buy fees)"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Buy Markup % (Hidden)"}),(0,x.jsx)(a.p,{type:"number",step:"0.01",value:(null===dr||void 0===dr?void 0:dr.buy_markup_percent)||.5,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{buy_markup_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"User buys at market + this % (protects platform)"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Sell Markdown % (Hidden)"}),(0,x.jsx)(a.p,{type:"number",step:"0.01",value:(null===dr||void 0===dr?void 0:dr.sell_markdown_percent)||.5,onChange:e=>cr((0,i.A)((0,i.A)({},dr),{},{sell_markdown_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"User sells at market - this % (protects platform)"})]})]}),(0,x.jsx)(l.$,{onClick:async()=>{try{await c.A.post("".concat(b,"/api/admin/platform-settings"),{trading_fee_percent:dr.trading_fee_percent,buy_markup_percent:dr.buy_markup_percent,sell_markdown_percent:dr.sell_markdown_percent}),p.oR.success("Trading settings updated successfully!")}catch(e){console.error("Error updating settings:",e),p.oR.error("Failed to update settings")}},style:{background:"linear-gradient(135deg, #A855F7, #EC4899)",color:"#fff",fontWeight:"700",padding:"0.75rem 2rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Save Settings"})]}),ur.show&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,x.jsxs)("div",{style:{background:"#0a1628",border:"2px solid ".concat("add"===ur.type?"rgba(0, 240, 255, 0.5)":"rgba(239, 68, 68, 0.5)"),borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},children:[(0,x.jsxs)("h3",{style:{color:"add"===ur.type?"#00F0FF":"#EF4444",fontSize:"20px",fontWeight:"700",marginBottom:"1.5rem"},children:["add"===ur.type?"\u2795 Add":"\u2796 Remove"," Trading Liquidity"]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Currency"}),(0,x.jsxs)("select",{value:ur.currency,onChange:e=>hr((0,i.A)((0,i.A)({},ur),{},{currency:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"},children:[(0,x.jsx)("option",{value:"BTC",children:"BTC"}),(0,x.jsx)("option",{value:"ETH",children:"ETH"}),(0,x.jsx)("option",{value:"USDT",children:"USDT"}),(0,x.jsx)("option",{value:"BNB",children:"BNB"}),(0,x.jsx)("option",{value:"SOL",children:"SOL"}),(0,x.jsx)("option",{value:"LTC",children:"LTC"})]})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Amount"}),(0,x.jsx)(a.p,{type:"number",step:"0.00000001",value:ur.amount,onChange:e=>hr((0,i.A)((0,i.A)({},ur),{},{amount:e.target.value})),placeholder:"0.00000000",style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(l.$,{onClick:async()=>{try{const e="add"===ur.type?"/api/admin/trading-liquidity/add":"/api/admin/trading-liquidity/remove",r=await c.A.post("".concat(b).concat(e),{currency:ur.currency,amount:parseFloat(ur.amount)});r.data.success&&(p.oR.success(r.data.message),hr({show:!1,type:"add",currency:"BTC",amount:""}),et())}catch(t){var e,r;console.error("Error managing liquidity:",t),p.oR.error((null===(e=t.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to manage liquidity")}},style:{flex:1,padding:"0.75rem",background:"add"===ur.type?"linear-gradient(135deg, #00F0FF, #A855F7)":"linear-gradient(135deg, #EF4444, #DC2626)",color:"#fff",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Confirm"}),(0,x.jsx)(l.$,{onClick:()=>hr({show:!1,type:"add",currency:"BTC",amount:""}),style:{flex:1,padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",color:"#888",fontWeight:"700",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer"},children:"Cancel"})]})]})})]}),"revenue"===We&&(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF",marginBottom:"2rem",textTransform:"uppercase"},children:"\ud83d\udcb0 Revenue Tracking"}),(0,x.jsx)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:["day","week","month","all"].map(e=>(0,x.jsx)("button",{onClick:()=>{Cr(e),rt(e),tt(e,Wr)},style:{padding:"0.75rem 1.5rem",background:wr===e?"linear-gradient(135deg, #00F0FF, #A855F7)":"rgba(255, 255, 255, 0.1)",color:wr===e?"#000":"#fff",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",textTransform:"capitalize"},children:"all"===e?"All Time":"Last ".concat(e.charAt(0).toUpperCase()+e.slice(1))},e))}),fr&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(14, 165, 233, 0.2), rgba(6, 182, 212, 0.1))",border:"2px solid rgba(14, 165, 233, 0.5)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:"Total Revenue (All Fees)"}),(0,x.jsxs)("div",{style:{fontSize:"42px",fontWeight:"900",color:"#0EA5E9",marginBottom:"0.5rem"},children:["\xa3",(null===(U=fr.revenue_breakdown)||void 0===U||null===(q=U.total_revenue)||void 0===q?void 0:q.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Before referral commissions"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(147, 51, 234, 0.1))",border:"2px solid rgba(168, 85, 247, 0.5)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:"Referral Commissions Paid"}),(0,x.jsxs)("div",{style:{fontSize:"42px",fontWeight:"900",color:"#A855F7",marginBottom:"0.5rem"},children:["\xa3",(null===(O=fr.revenue_breakdown)||void 0===O||null===(Z=O.referral_commissions)||void 0===Z?void 0:Z.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Paid to referrers"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1))",border:"2px solid rgba(34, 197, 94, 0.5)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:"Net Platform Profit"}),(0,x.jsxs)("div",{style:{fontSize:"42px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:["\xa3",(null===($=fr.total_profit)||void 0===$?void 0:$.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"After all commissions"})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)(s.Zp,{style:{background:"rgba(0, 240, 255, 0.1)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Trading Fees"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",(null===(H=fr.revenue_breakdown)||void 0===H||null===(V=H.trading_fees)||void 0===V?void 0:V.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From Spot Trading"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(168, 85, 247, 0.1)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Markup/Markdown Profit"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#A855F7"},children:["\xa3",(null===(G=fr.revenue_breakdown)||void 0===G||null===(Y=G.markup_markdown_profit)||void 0===Y?void 0:Y.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"Hidden Spread Revenue"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(251, 146, 60, 0.1)",border:"2px solid rgba(251, 146, 60, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Express Buy Fees"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#FB923C"},children:["\xa3",(null===(X=fr.revenue_breakdown)||void 0===X||null===(J=X.express_buy_fees)||void 0===J?void 0:J.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From Express Buy"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(236, 72, 153, 0.1)",border:"2px solid rgba(236, 72, 153, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"P2P Marketplace Fees"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#EC4899"},children:["\xa3",(null===(K=fr.revenue_breakdown)||void 0===K||null===(Q=K.p2p_fees)||void 0===Q?void 0:Q.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From P2P Trades"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(14, 165, 233, 0.1)",border:"2px solid rgba(14, 165, 233, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"MoonPay Revenue"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#0EA5E9"},children:["\xa3",(null===(ee=fr.revenue_breakdown)||void 0===ee||null===(re=ee.moonpay_revenue)||void 0===re?void 0:re.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From MoonPay Integration"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(245, 158, 11, 0.1)",border:"2px solid rgba(245, 158, 11, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Total Fee Wallet"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#F59E0B"},children:["\xa3",(null===(te=fr.total_fee_wallet_gbp)||void 0===te?void 0:te.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"Collected Fees (All Time)"})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.4)",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#fff",marginBottom:"1rem"},children:"Fee Wallet Breakdown by Currency"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:fr.fee_wallet_breakdown&&Object.entries(fr.fee_wallet_breakdown).map(e=>{var r,t,i,o,n;let[s,l]=e;return(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:s}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Total: ",null===(r=l.total_fees)||void 0===r?void 0:r.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Trading: ",null===(t=l.trading_fees)||void 0===t?void 0:t.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["P2P: ",null===(i=l.p2p_fees)||void 0===i?void 0:i.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Express: ",null===(o=l.express_buy_fees)||void 0===o?void 0:o.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"11px",color:"#22C55E",marginTop:"0.5rem",fontWeight:"700"},children:["\u2248 \xa3",null===(n=l.gbp_value)||void 0===n?void 0:n.toLocaleString()]})]},s)})})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.4)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"900",color:"#A855F7"},children:"\ud83c\udfaf 13-Feature Monetization Breakdown"}),(0,x.jsx)("button",{onClick:async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/revenue/monetization-breakdown?period=").concat(wr));e.data.success&&(Tr(e.data),Nr(!0))}catch(e){console.error("Failed to fetch monetization breakdown:",e),p.oR.error("Failed to load monetization breakdown")}},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:"\ud83d\udcca View Detailed Breakdown"})]}),(0,x.jsx)("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6"},children:"View comprehensive revenue analysis for all 13 monetization features: Express Buy/Sell Fees, Admin Spreads, P2P Seller Fees, Payment Method Fees, Boosted Listings, Seller Verification/Levels, Referral Upgrades, Arbitrage Alerts, Internal Transfers, Dispute Penalties, and OTC Desk."})]})]}),(0,x.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#fff"},children:"Fee Transaction Log"}),(0,x.jsxs)("select",{value:Wr,onChange:e=>{Rr(e.target.value),tt(wr,e.target.value)},style:{padding:"0.5rem 1rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"},children:[(0,x.jsx)("option",{value:"all",children:"All Transactions"}),(0,x.jsx)("option",{value:"trading",children:"Trading Fees"}),(0,x.jsx)("option",{value:"p2p",children:"P2P Fees"}),(0,x.jsx)("option",{value:"express_buy",children:"Express Buy"})]})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)",borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Timestamp"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Type"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Subtype"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Amount"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Currency"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Pair/Details"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Transaction ID"})]})}),(0,x.jsx)("tbody",{children:yr.length>0?yr.map((e,r)=>{var t,i;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"12px"},children:new Date(e.timestamp).toLocaleString()}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"13px",fontWeight:"600"},children:e.type}),(0,x.jsx)("td",{style:{padding:"1rem",fontSize:"12px"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"11px",fontWeight:"700",background:"BUY"===e.subtype?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:"BUY"===e.subtype?"#22C55E":"#EF4444"},children:e.subtype})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:"#22C55E",fontSize:"14px",fontWeight:"700"},children:null===(t=e.amount)||void 0===t?void 0:t.toFixed(4)}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#00F0FF",fontSize:"13px",fontWeight:"600"},children:e.currency}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"12px"},children:e.pair||"N/A"}),(0,x.jsxs)("td",{style:{padding:"1rem",color:"#666",fontSize:"11px",fontFamily:"monospace"},children:[null===(i=e.transaction_id)||void 0===i?void 0:i.substring(0,8),"..."]})]},e.transaction_id||r)}):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"7",style:{padding:"2rem",textAlign:"center",color:"#888"},children:"No transactions found for the selected period"})})})]})})]})]}),"coins"===We&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:"Coin Management (CMS)"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Enable/disable coins, configure NowPay wallets, and control which services support each coin"})]}),(0,x.jsx)("button",{onClick:()=>{kr(!0),fetchSupportedCoins()},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"+ Add New Coin"})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Symbol"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Name"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"P2P"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Trading"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Instant Buy"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Express Buy"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"NowPay Wallet"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:vr.map(e=>(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontWeight:"700",fontSize:"16px"},children:e.symbol}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"14px"},children:e.name}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:r=>toggleCoinStatus(e.symbol,r.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,x.jsx)("span",{style:{marginLeft:"0.5rem",color:e.enabled?"#22C55E":"#EF4444",fontSize:"13px",fontWeight:"600"},children:e.enabled?"Enabled":"Disabled"})]})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_p2p?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_p2p?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_p2p?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_trading?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_trading?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_trading?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_instant_buy?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_instant_buy?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_instant_buy?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_express_buy?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_express_buy?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_express_buy?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"12px"},children:e.nowpay_wallet_id||(0,x.jsx)("span",{style:{color:"#666",fontStyle:"italic"},children:"Not configured"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("button",{onClick:()=>_r(e),style:{padding:"0.4rem 0.75rem",background:"rgba(0, 240, 255, 0.2)",border:"1px solid rgba(0, 240, 255, 0.4)",borderRadius:"4px",color:"#00F0FF",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Edit"})})]},e.symbol))})]})}),Sr&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>_r(null),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))",border:"2px solid rgba(0, 240, 255, 0.4)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,x.jsxs)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#00F0FF",marginBottom:"1.5rem"},children:["Edit ",Sr.symbol," Configuration"]}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"NowPay Wallet ID"}),(0,x.jsx)("input",{type:"text",value:Sr.nowpay_wallet_id||"",onChange:e=>_r((0,i.A)((0,i.A)({},Sr),{},{nowpay_wallet_id:e.target.value})),placeholder:"Enter NowPay wallet ID",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:Sr.supports_p2p,onChange:e=>_r((0,i.A)((0,i.A)({},Sr),{},{supports_p2p:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support P2P"})]}),(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:Sr.supports_trading,onChange:e=>_r((0,i.A)((0,i.A)({},Sr),{},{supports_trading:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support Trading"})]}),(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:Sr.supports_instant_buy,onChange:e=>_r((0,i.A)((0,i.A)({},Sr),{},{supports_instant_buy:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support Instant Buy"})]}),(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:Sr.supports_express_buy,onChange:e=>_r((0,i.A)((0,i.A)({},Sr),{},{supports_express_buy:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support Express Buy"})]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)("button",{onClick:()=>_r(null),style:{flex:1,padding:"0.75rem",background:"rgba(239, 68, 68, 0.2)",border:"2px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",color:"#EF4444",fontWeight:"700",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:()=>updateCoinConfig(Sr.symbol,{nowpay_wallet_id:Sr.nowpay_wallet_id,supports_p2p:Sr.supports_p2p,supports_trading:Sr.supports_trading,supports_instant_buy:Sr.supports_instant_buy,supports_express_buy:Sr.supports_express_buy}),style:{flex:2,padding:"0.75rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"Save Changes"})]})]})}),zr&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>kr(!1),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))",border:"2px solid rgba(0, 240, 255, 0.4)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#00F0FF",marginBottom:"1.5rem"},children:"Add New Coin"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Symbol *"}),(0,x.jsx)("input",{type:"text",value:Ar.symbol,onChange:e=>Br((0,i.A)((0,i.A)({},Ar),{},{symbol:e.target.value.toUpperCase()})),placeholder:"e.g., XRP",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Name *"}),(0,x.jsx)("input",{type:"text",value:Ar.name,onChange:e=>Br((0,i.A)((0,i.A)({},Ar),{},{name:e.target.value})),placeholder:"e.g., Ripple",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"NowPay Wallet ID (Optional)"}),(0,x.jsx)("input",{type:"text",value:Ar.nowpay_wallet_id,onChange:e=>Br((0,i.A)((0,i.A)({},Ar),{},{nowpay_wallet_id:e.target.value})),placeholder:"Configure later",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)("button",{onClick:()=>{kr(!1),Br({symbol:"",name:"",nowpay_wallet_id:""})},style:{flex:1,padding:"0.75rem",background:"rgba(239, 68, 68, 0.2)",border:"2px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",color:"#EF4444",fontWeight:"700",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:addNewCoin,style:{flex:2,padding:"0.75rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"Add Coin"})]})]})}),(0,x.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px"},children:[(0,x.jsx)("p",{style:{color:"#00F0FF",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"\ud83d\udca1 How This Works:"}),(0,x.jsxs)("ul",{style:{color:"#888",fontSize:"12px",lineHeight:"1.6",paddingLeft:"1.25rem"},children:[(0,x.jsx)("li",{children:"Enable/disable coins to control visibility across all services (P2P, Trading, Instant Buy, Express Buy)"}),(0,x.jsx)("li",{children:"Configure NowPay Wallet IDs to link each coin to its corresponding payment wallet for deposits/withdrawals"}),(0,x.jsx)("li",{children:"Toggle individual service support to control where each coin can be used"}),(0,x.jsx)("li",{children:"The crypto dropdown in P2P Marketplace automatically shows only enabled coins with P2P support"}),(0,x.jsx)("li",{children:"New coins can be added instantly and will appear throughout the platform when enabled"})]})]})]}),"banners"===We&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:"Promo Banner Management"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Create and schedule promotional banners that appear at the top of the platform"})]}),(0,x.jsx)("button",{onClick:()=>{Hr(null),Xr({title:"",message:"",type:"info",link:"",link_text:"",start_date:(new Date).toISOString().slice(0,16),end_date:"",is_active:!0}),Gr(!0)},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"+ Create New Banner"})]}),(0,x.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:0===Or.length?(0,x.jsx)("div",{style:{padding:"3rem",textAlign:"center",color:"#888"},children:(0,x.jsx)("p",{children:'No banners created yet. Click "Create New Banner" to get started.'})}):Or.map(e=>(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1.5rem"},children:[(0,x.jsxs)("div",{style:{flex:1},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[(0,x.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#00F0FF"},children:e.title}),(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",background:"info"===e.type?"rgba(0, 240, 255, 0.2)":"warning"===e.type?"rgba(251, 146, 60, 0.2)":"success"===e.type?"rgba(34, 197, 94, 0.2)":"rgba(168, 85, 247, 0.2)",color:"info"===e.type?"#00F0FF":"warning"===e.type?"#FB923C":"success"===e.type?"#22C55E":"#A855F7",borderRadius:"6px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase"},children:e.type}),(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",background:e.is_active?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.is_active?"#22C55E":"#EF4444",borderRadius:"6px",fontSize:"11px",fontWeight:"700"},children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,x.jsx)("p",{style:{margin:"0 0 1rem",color:"#E2E8F0",fontSize:"14px"},children:e.message}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1.5rem",fontSize:"13px",color:"#888"},children:[(0,x.jsxs)("span",{children:["\ud83d\udcc5 Start: ",new Date(e.start_date).toLocaleString()]}),e.end_date&&(0,x.jsxs)("span",{children:["\u23f0 End: ",new Date(e.end_date).toLocaleString()]}),e.link&&(0,x.jsxs)("span",{children:["\ud83d\udd17 Link: ",e.link_text||"View"]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,x.jsx)("button",{onClick:()=>editBanner(e),style:{padding:"0.5rem 1rem",background:"rgba(0, 240, 255, 0.2)",border:"1px solid rgba(0, 240, 255, 0.4)",borderRadius:"6px",color:"#00F0FF",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Edit"}),(0,x.jsx)("button",{onClick:()=>deleteBanner(e.banner_id),style:{padding:"0.5rem 1rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"6px",color:"#EF4444",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Delete"})]})]},e.banner_id))}),Vr&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>Gr(!1),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))",border:"2px solid rgba(0, 240, 255, 0.4)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#00F0FF",marginBottom:"1.5rem"},children:$r?"Edit Banner":"Create New Banner"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Title *"}),(0,x.jsx)("input",{type:"text",value:Yr.title,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{title:e.target.value})),placeholder:"Banner title",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Message *"}),(0,x.jsx)("textarea",{value:Yr.message,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{message:e.target.value})),placeholder:"Banner message",rows:3,style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px",resize:"vertical"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Type"}),(0,x.jsxs)("select",{value:Yr.type,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{type:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"},children:[(0,x.jsx)("option",{value:"info",children:"Info (Cyan)"}),(0,x.jsx)("option",{value:"warning",children:"Warning (Orange)"}),(0,x.jsx)("option",{value:"success",children:"Success (Green)"}),(0,x.jsx)("option",{value:"promo",children:"Promo (Purple)"})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Link URL"}),(0,x.jsx)("input",{type:"text",value:Yr.link,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{link:e.target.value})),placeholder:"/page or https://...",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Link Text"}),(0,x.jsx)("input",{type:"text",value:Yr.link_text,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{link_text:e.target.value})),placeholder:"Learn More",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Start Date *"}),(0,x.jsx)("input",{type:"datetime-local",value:Yr.start_date,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{start_date:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"End Date (Optional)"}),(0,x.jsx)("input",{type:"datetime-local",value:Yr.end_date,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{end_date:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:Yr.is_active,onChange:e=>Xr((0,i.A)((0,i.A)({},Yr),{},{is_active:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,x.jsx)("span",{style:{color:"#888",fontSize:"14px",fontWeight:"600"},children:"Active (visible to users)"})]})})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[(0,x.jsx)("button",{onClick:()=>Gr(!1),style:{flex:1,padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:saveBanner,style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:$r?"Update Banner":"Create Banner"})]})]})}),(0,x.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px"},children:[(0,x.jsx)("p",{style:{color:"#00F0FF",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"\ud83d\udca1 How Promo Banners Work:"}),(0,x.jsxs)("ul",{style:{color:"#888",fontSize:"12px",lineHeight:"1.6",paddingLeft:"1.25rem"},children:[(0,x.jsx)("li",{children:"Banners appear at the top of the platform for all users (below the price ticker)"}),(0,x.jsx)("li",{children:"Schedule banners with start/end dates for time-limited promotions"}),(0,x.jsx)("li",{children:"Users can dismiss banners - they won't see them again on that device"}),(0,x.jsx)("li",{children:"Only one banner shows at a time (most recent active banner)"}),(0,x.jsx)("li",{children:"Choose from 4 types: Info (cyan), Warning (orange), Success (green), or Promo (purple)"}),(0,x.jsx)("li",{children:"Add optional action buttons with custom links"})]})]})]}),"monetization"===We&&(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"28px",fontWeight:"900",margin:0,marginBottom:"0.5rem"},children:"\ud83d\udcb0 Monetization Settings"}),(0,x.jsx)("p",{style:{fontSize:"14px",color:"#888",margin:0},children:"Configure all platform fees and pricing - All fees are automatically deducted"})]}),!Ur&&(0,x.jsx)(l.$,{onClick:()=>qr(!0),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"\u270f\ufe0f Edit Settings"})]}),Dr&&(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udcca Trading Fees"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Buyer Express Fee"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.buyer_express_fee_percent,id:"buyer_express_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:[Dr.buyer_express_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Auto-added to Express Buy orders"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Instant Sell Fee"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.instant_sell_fee_percent,id:"instant_sell_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:[Dr.instant_sell_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Deducted from seller payout"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Admin Sell Spread"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.admin_sell_spread_percent,id:"admin_sell_spread_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#22C55E"},children:["+",Dr.admin_sell_spread_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Markup on Express Buy price"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Admin Buy Spread"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.admin_buy_spread_percent,id:"admin_buy_spread_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#EF4444"},children:[Dr.admin_buy_spread_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Markdown on Instant Sell price"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"P2P Seller Fee"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.p2p_seller_fee_percent,id:"p2p_seller_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:[Dr.p2p_seller_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Deducted from seller on P2P trade"})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udc54 Seller Features (One-Time Payments)"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Seller Verification"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.seller_verification_price,id:"seller_verification_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:["\xa3",Dr.seller_verification_price]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Get verified badge"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(192, 192, 192, 0.1)",borderRadius:"12px",border:"1px solid rgba(192, 192, 192, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Silver Level Upgrade"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.seller_silver_upgrade_price,id:"seller_silver_upgrade_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(192, 192, 192, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#C0C0C0"},children:["\xa3",Dr.seller_silver_upgrade_price]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Priority + ",Dr.silver_fee_reduction_percent,"% fee reduction"]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"12px",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Gold Level Upgrade"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.seller_gold_upgrade_price,id:"seller_gold_upgrade_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#FFD700"},children:["\xa3",Dr.seller_gold_upgrade_price]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Top priority + ",Dr.gold_fee_reduction_percent,"% fee reduction"]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\ude80 Boosted Listings"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"1 Hour Boost"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.boost_1h_price,id:"boost_1h_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",Dr.boost_1h_price]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"6 Hours Boost"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.boost_6h_price,id:"boost_6h_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",Dr.boost_6h_price]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"24 Hours Boost"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.boost_24h_price,id:"boost_24h_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",Dr.boost_24h_price]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\u2699\ufe0f Other Fees & Features"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Internal Transfer Fee"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.internal_transfer_fee_percent,id:"internal_transfer_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:[Dr.internal_transfer_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Wallet-to-wallet transfers"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Dispute Penalty"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.dispute_penalty_gbp,id:"dispute_penalty_gbp",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#EF4444"},children:["\xa3",Dr.dispute_penalty_gbp]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Applied to losing party"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Arbitrage Alerts"}),Ur?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:Dr.arbitrage_alerts_monthly_price,id:"arbitrage_alerts_monthly_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#22C55E"},children:["\xa3",Dr.arbitrage_alerts_monthly_price,"/mo"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Monthly subscription fee"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(255, 165, 0, 0.1)",borderRadius:"12px",border:"1px solid rgba(255, 165, 0, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"OTC Desk Fee"}),Ur?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:Dr.otc_fee_percent,id:"otc_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#FFA500"},children:[Dr.otc_fee_percent,"%"]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Min: \xa3",Dr.otc_minimum_amount_gbp]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udcb3 Payment Method Fees"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:Dr.payment_method_fees&&Object.entries(Dr.payment_method_fees).map(e=>{let[r,t]=e;return(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"capitalize"},children:r.replace("_"," ")}),(0,x.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:t>0?"#00F0FF":"#22C55E"},children:t>0?"+".concat(t,"%"):"Free"})]},r)})})]}),Ur&&(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1rem"},children:[(0,x.jsx)(l.$,{onClick:()=>qr(!1),style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)(l.$,{onClick:()=>{(async e=>{try{const r=await c.A.post("".concat(b,"/api/admin/monetization/settings"),e);r.data.success&&(p.oR.success("Monetization settings updated successfully!"),Mr(r.data.settings),qr(!1))}catch(r){console.error("Error updating monetization settings:",r),p.oR.error("Failed to update monetization settings")}})({buyer_express_fee_percent:parseFloat(document.getElementById("buyer_express_fee_percent").value),instant_sell_fee_percent:parseFloat(document.getElementById("instant_sell_fee_percent").value),admin_sell_spread_percent:parseFloat(document.getElementById("admin_sell_spread_percent").value),admin_buy_spread_percent:parseFloat(document.getElementById("admin_buy_spread_percent").value),p2p_seller_fee_percent:parseFloat(document.getElementById("p2p_seller_fee_percent").value),seller_verification_price:parseFloat(document.getElementById("seller_verification_price").value),seller_silver_upgrade_price:parseFloat(document.getElementById("seller_silver_upgrade_price").value),seller_gold_upgrade_price:parseFloat(document.getElementById("seller_gold_upgrade_price").value),boost_1h_price:parseFloat(document.getElementById("boost_1h_price").value),boost_6h_price:parseFloat(document.getElementById("boost_6h_price").value),boost_24h_price:parseFloat(document.getElementById("boost_24h_price").value),internal_transfer_fee_percent:parseFloat(document.getElementById("internal_transfer_fee_percent").value),dispute_penalty_gbp:parseFloat(document.getElementById("dispute_penalty_gbp").value),arbitrage_alerts_monthly_price:parseFloat(document.getElementById("arbitrage_alerts_monthly_price").value),otc_fee_percent:parseFloat(document.getElementById("otc_fee_percent").value)})},style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"\ud83d\udcbe Save Changes"})]})]}),!Dr&&(0,x.jsxs)("div",{style:{textAlign:"center",padding:"3rem",color:"#888"},children:[(0,x.jsx)("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:"\u23f3"}),(0,x.jsx)("div",{children:"Loading monetization settings..."})]})]}),"platform-wallet"===We&&(0,x.jsx)(u,{}),"support-chat"===We&&(0,x.jsx)(f,{})]}),Ir&&Er&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(10px)",padding:"2rem"},children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)",borderRadius:"24px",padding:"2rem",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"auto",border:"2px solid #A855F7",boxShadow:"0 0 50px rgba(168, 85, 247, 0.5)"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,x.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:"#A855F7"},children:"\ud83c\udfaf 13-Feature Monetization Breakdown"}),(0,x.jsx)("button",{onClick:()=>Nr(!1),style:{background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",border:"2px solid #EF4444",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:"\u2715 Close"})]}),(0,x.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"rgba(168, 85, 247, 0.1)",borderRadius:"12px",border:"2px solid rgba(168, 85, 247, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem"},children:"Total Revenue from All Features"}),(0,x.jsxs)("div",{style:{fontSize:"48px",fontWeight:"900",color:"#A855F7"},children:["\xa3",(null===(ie=Er.total_revenue_gbp)||void 0===ie?void 0:ie.toLocaleString())||"0"]}),(0,x.jsxs)("div",{style:{fontSize:"13px",color:"#888"},children:["Period: ","all"===wr?"All Time":"Last ".concat(wr)]})]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem"},children:Er.breakdown&&Object.entries(Er.breakdown).map(e=>{var r;let[t,i]=e;return(0,x.jsxs)(s.Zp,{style:{background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",transition:"all 0.3s ease"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:i.name}),(0,x.jsxs)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:["\xa3",(null===(r=i.revenue_gbp)||void 0===r?void 0:r.toLocaleString())||"0"]}),void 0!==i.transaction_count&&(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[i.transaction_count," transaction",1!==i.transaction_count?"s":""]}),void 0!==i.active_subscriptions&&(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[i.active_subscriptions," active subscription",1!==i.active_subscriptions?"s":""]})]},t)})}),(0,x.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"12px",border:"2px solid rgba(34, 197, 94, 0.3)"},children:(0,x.jsxs)("p",{style:{fontSize:"13px",color:"#888",margin:0},children:["\ud83d\udca1 ",(0,x.jsx)("strong",{style:{color:"#22C55E"},children:"Tip:"})," All fees are automatically collected and tracked. Adjust individual fee settings in the Monetization tab to optimize revenue."]})})]})})]})}}}]);