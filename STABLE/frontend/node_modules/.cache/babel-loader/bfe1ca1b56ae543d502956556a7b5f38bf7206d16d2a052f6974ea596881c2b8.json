{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{IoAlertCircle,IoChatbubbles,IoCheckmark,IoCheckmarkCircle,IoClose,IoNotifications,IoTime}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const P2PNotifications=_ref=>{let{userId,tradeId=null,onNotificationClick}=_ref;const[notifications,setNotifications]=useState([]);const[unreadCount,setUnreadCount]=useState(0);const[isOpen,setIsOpen]=useState(false);const[loading,setLoading]=useState(false);// Fetch notifications\nconst fetchNotifications=async()=>{if(!userId)return;try{const url=\"\".concat(BACKEND_URL,\"/api/p2p/notifications/\").concat(userId).concat(tradeId?\"?trade_id=\".concat(tradeId):'');const response=await fetch(url);const data=await response.json();if(data.success){setNotifications(data.notifications||[]);setUnreadCount(data.unread_count||0);}}catch(error){console.error('Failed to fetch notifications:',error);}};// Mark notification as read\nconst markAsRead=async notificationId=>{try{await fetch(\"\".concat(BACKEND_URL,\"/api/p2p/notifications/mark-read\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({notification_id:notificationId,user_id:userId})});// Update local state\nsetNotifications(prev=>prev.map(n=>n.notification_id===notificationId?_objectSpread(_objectSpread({},n),{},{read:true}):n));setUnreadCount(prev=>Math.max(0,prev-1));}catch(error){console.error('Failed to mark as read:',error);}};// Mark all as read\nconst markAllAsRead=async()=>{try{await fetch(\"\".concat(BACKEND_URL,\"/api/p2p/notifications/mark-all-read\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:userId,trade_id:tradeId})});setNotifications(prev=>prev.map(n=>_objectSpread(_objectSpread({},n),{},{read:true})));setUnreadCount(0);}catch(error){console.error('Failed to mark all as read:',error);}};// Poll for new notifications every 10 seconds\nuseEffect(()=>{if(userId){fetchNotifications();const interval=setInterval(fetchNotifications,10000);return()=>clearInterval(interval);}},[userId,tradeId]);// Get icon for notification type\nconst getNotificationIcon=type=>{switch(type){case'trade_opened':return/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,style:{color:'#22C55E'}});case'escrow_locked':return/*#__PURE__*/_jsx(IoCheckmark,{size:18,style:{color:'#22C55E'}});case'message_received':return/*#__PURE__*/_jsx(IoChatbubbles,{size:18,style:{color:'#3B82F6'}});case'payment_marked':return/*#__PURE__*/_jsx(IoTime,{size:18,style:{color:'#F59E0B'}});case'crypto_released':return/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:18,style:{color:'#22C55E'}});case'dispute_opened':return/*#__PURE__*/_jsx(IoAlertCircle,{size:18,style:{color:'#EF4444'}});case'admin_message':return/*#__PURE__*/_jsx(IoChatbubbles,{size:18,style:{color:'#8B5CF6'}});default:return/*#__PURE__*/_jsx(IoNotifications,{size:18,style:{color:'#6B7280'}});}};// Format timestamp\nconst formatTime=timestamp=>{if(!timestamp)return'';try{const date=new Date(timestamp);const now=new Date();const diffMs=now-date;const diffMins=Math.floor(diffMs/60000);if(diffMins<1)return'Just now';if(diffMins<60)return\"\".concat(diffMins,\"m ago\");if(diffMins<1440)return\"\".concat(Math.floor(diffMins/60),\"h ago\");return date.toLocaleDateString();}catch(_unused){return'';}};return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOpen(!isOpen),style:{position:'relative',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'12px',padding:'10px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsx(IoNotifications,{size:20,style:{color:'#fff'}}),unreadCount>0&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-4px',right:'-4px',background:'linear-gradient(135deg, #EF4444, #DC2626)',borderRadius:'50%',width:'20px',height:'20px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'10px',fontWeight:'700',color:'#fff',boxShadow:'0 0 10px rgba(239, 68, 68, 0.5)'},children:unreadCount>99?'99+':unreadCount})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'50px',right:'0',width:tradeId?'100%':'400px',maxWidth:'95vw',maxHeight:'500px',background:'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)',border:'1px solid rgba(0, 229, 255, 0.2)',borderRadius:'16px',boxShadow:'0 20px 60px rgba(0, 0, 0, 0.5)',zIndex:1000,overflow:'hidden',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',borderBottom:'1px solid rgba(255, 255, 255, 0.1)',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,color:'#fff',fontSize:'16px',fontWeight:'700'},children:tradeId?'Trade Notifications':'All Notifications'}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{onClick:markAllAsRead,style:{background:'rgba(34, 197, 94, 0.1)',border:'1px solid rgba(34, 197, 94, 0.3)',color:'#22C55E',padding:'6px 12px',borderRadius:'8px',fontSize:'12px',cursor:'pointer'},children:\"Mark all read\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(false),style:{background:'transparent',border:'none',color:'#fff',cursor:'pointer',padding:'4px'},children:/*#__PURE__*/_jsx(IoClose,{size:20})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{overflowY:'auto',maxHeight:'400px',padding:'8px'},children:notifications.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{padding:'40px 20px',textAlign:'center',color:'rgba(255, 255, 255, 0.5)'},children:[/*#__PURE__*/_jsx(IoNotifications,{size:40,style:{opacity:0.3,marginBottom:'16px'}}),/*#__PURE__*/_jsx(\"p\",{children:\"No notifications yet\"})]}):notifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>{markAsRead(notification.notification_id);if(onNotificationClick){onNotificationClick(notification);}},style:{background:notification.read?'rgba(255, 255, 255, 0.03)':'rgba(0, 229, 255, 0.08)',border:notification.read?'1px solid rgba(255, 255, 255, 0.05)':'1px solid rgba(0, 229, 255, 0.2)',borderRadius:'12px',padding:'12px',marginBottom:'8px',cursor:'pointer',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(0, 229, 255, 0.12)';},onMouseLeave:e=>{e.currentTarget.style.background=notification.read?'rgba(255, 255, 255, 0.03)':'rgba(0, 229, 255, 0.08)';},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flexShrink:0},children:getNotificationIcon(notification.notification_type)}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start',marginBottom:'4px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'14px',fontWeight:'700',color:'#fff'},children:notification.title}),!notification.read&&/*#__PURE__*/_jsx(\"div\",{style:{width:'8px',height:'8px',borderRadius:'50%',background:'#00E5FF',boxShadow:'0 0 8px rgba(0, 229, 255, 0.6)',flexShrink:0}})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'4px 0',fontSize:'13px',color:'rgba(255, 255, 255, 0.7)',lineHeight:'1.4'},children:notification.message}),notification.action_required&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',padding:'8px',background:'rgba(0, 229, 255, 0.1)',border:'1px solid rgba(0, 229, 255, 0.2)',borderRadius:'8px',fontSize:'12px',color:'#00E5FF',lineHeight:'1.4'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Next Step:\"}),\" \",notification.action_required]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',display:'flex',gap:'12px',fontSize:'11px',color:'rgba(255, 255, 255, 0.4)'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Trade ID: \",notification.trade_id.slice(0,8),\"...\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:formatTime(notification.created_at)})]})]})]})},notification.notification_id))})]})]});};export default P2PNotifications;","map":{"version":3,"names":["React","useEffect","useState","IoAlertCircle","IoChatbubbles","IoCheckmark","IoCheckmarkCircle","IoClose","IoNotifications","IoTime","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","P2PNotifications","_ref","userId","tradeId","onNotificationClick","notifications","setNotifications","unreadCount","setUnreadCount","isOpen","setIsOpen","loading","setLoading","fetchNotifications","url","concat","response","fetch","data","json","success","unread_count","error","console","markAsRead","notificationId","method","headers","body","JSON","stringify","notification_id","user_id","prev","map","n","_objectSpread","read","Math","max","markAllAsRead","trade_id","interval","setInterval","clearInterval","getNotificationIcon","type","size","style","color","formatTime","timestamp","date","Date","now","diffMs","diffMins","floor","toLocaleDateString","_unused","position","children","onClick","background","border","borderRadius","padding","cursor","display","alignItems","justifyContent","top","right","width","height","fontSize","fontWeight","boxShadow","maxWidth","maxHeight","zIndex","overflow","flexDirection","borderBottom","margin","gap","overflowY","length","textAlign","opacity","marginBottom","notification","transition","onMouseEnter","e","currentTarget","onMouseLeave","flexShrink","notification_type","flex","title","lineHeight","message","action_required","marginTop","slice","created_at"],"sources":["/app/frontend/src/components/P2PNotifications.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { IoAlertCircle, IoChatbubbles, IoCheckmark, IoCheckmarkCircle, IoClose, IoNotifications, IoTime } from 'react-icons/io5';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\n\nconst P2PNotifications = ({ userId, tradeId = null, onNotificationClick }) => {\n  const [notifications, setNotifications] = useState([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [isOpen, setIsOpen] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Fetch notifications\n  const fetchNotifications = async () => {\n    if (!userId) return;\n\n    try {\n      const url = `${BACKEND_URL}/api/p2p/notifications/${userId}${\n        tradeId ? `?trade_id=${tradeId}` : ''\n      }`;\n\n      const response = await fetch(url);\n      const data = await response.json();\n\n      if (data.success) {\n        setNotifications(data.notifications || []);\n        setUnreadCount(data.unread_count || 0);\n      }\n    } catch (error) {\n      console.error('Failed to fetch notifications:', error);\n    }\n  };\n\n  // Mark notification as read\n  const markAsRead = async (notificationId) => {\n    try {\n      await fetch(`${BACKEND_URL}/api/p2p/notifications/mark-read`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ notification_id: notificationId, user_id: userId }),\n      });\n\n      // Update local state\n      setNotifications((prev) =>\n        prev.map((n) => (n.notification_id === notificationId ? { ...n, read: true } : n))\n      );\n      setUnreadCount((prev) => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Failed to mark as read:', error);\n    }\n  };\n\n  // Mark all as read\n  const markAllAsRead = async () => {\n    try {\n      await fetch(`${BACKEND_URL}/api/p2p/notifications/mark-all-read`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ user_id: userId, trade_id: tradeId }),\n      });\n\n      setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n      setUnreadCount(0);\n    } catch (error) {\n      console.error('Failed to mark all as read:', error);\n    }\n  };\n\n  // Poll for new notifications every 10 seconds\n  useEffect(() => {\n    if (userId) {\n      fetchNotifications();\n      const interval = setInterval(fetchNotifications, 10000);\n      return () => clearInterval(interval);\n    }\n  }, [userId, tradeId]);\n\n  // Get icon for notification type\n  const getNotificationIcon = (type) => {\n    switch (type) {\n      case 'trade_opened':\n        return <IoCheckmarkCircle size={18} style={{ color: '#22C55E' }} />;\n      case 'escrow_locked':\n        return <IoCheckmark size={18} style={{ color: '#22C55E' }} />;\n      case 'message_received':\n        return <IoChatbubbles size={18} style={{ color: '#3B82F6' }} />;\n      case 'payment_marked':\n        return <IoTime size={18} style={{ color: '#F59E0B' }} />;\n      case 'crypto_released':\n        return <IoCheckmarkCircle size={18} style={{ color: '#22C55E' }} />;\n      case 'dispute_opened':\n        return <IoAlertCircle size={18} style={{ color: '#EF4444' }} />;\n      case 'admin_message':\n        return <IoChatbubbles size={18} style={{ color: '#8B5CF6' }} />;\n      default:\n        return <IoNotifications size={18} style={{ color: '#6B7280' }} />;\n    }\n  };\n\n  // Format timestamp\n  const formatTime = (timestamp) => {\n    if (!timestamp) return '';\n    try {\n      const date = new Date(timestamp);\n      const now = new Date();\n      const diffMs = now - date;\n      const diffMins = Math.floor(diffMs / 60000);\n\n      if (diffMins < 1) return 'Just now';\n      if (diffMins < 60) return `${diffMins}m ago`;\n      if (diffMins < 1440) return `${Math.floor(diffMins / 60)}h ago`;\n      return date.toLocaleDateString();\n    } catch {\n      return '';\n    }\n  };\n\n  return (\n    <div style={{ position: 'relative' }}>\n      {/* Bell Icon with Badge */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        style={{\n          position: 'relative',\n          background: 'rgba(255, 255, 255, 0.05)',\n          border: '1px solid rgba(255, 255, 255, 0.1)',\n          borderRadius: '12px',\n          padding: '10px',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <IoNotifications size={20} style={{ color: '#fff' }} />\n        {unreadCount > 0 && (\n          <div\n            style={{\n              position: 'absolute',\n              top: '-4px',\n              right: '-4px',\n              background: 'linear-gradient(135deg, #EF4444, #DC2626)',\n              borderRadius: '50%',\n              width: '20px',\n              height: '20px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '10px',\n              fontWeight: '700',\n              color: '#fff',\n              boxShadow: '0 0 10px rgba(239, 68, 68, 0.5)',\n            }}\n          >\n            {unreadCount > 99 ? '99+' : unreadCount}\n          </div>\n        )}\n      </button>\n\n      {/* Notification Dropdown */}\n      {isOpen && (\n        <div\n          style={{\n            position: 'absolute',\n            top: '50px',\n            right: '0',\n            width: tradeId ? '100%' : '400px',\n            maxWidth: '95vw',\n            maxHeight: '500px',\n            background: 'linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)',\n            border: '1px solid rgba(0, 229, 255, 0.2)',\n            borderRadius: '16px',\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.5)',\n            zIndex: 1000,\n            overflow: 'hidden',\n            display: 'flex',\n            flexDirection: 'column',\n          }}\n        >\n          {/* Header */}\n          <div\n            style={{\n              padding: '16px',\n              borderBottom: '1px solid rgba(255, 255, 255, 0.1)',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n            }}\n          >\n            <h3 style={{ margin: 0, color: '#fff', fontSize: '16px', fontWeight: '700' }}>\n              {tradeId ? 'Trade Notifications' : 'All Notifications'}\n            </h3>\n            <div style={{ display: 'flex', gap: '8px' }}>\n              {unreadCount > 0 && (\n                <button\n                  onClick={markAllAsRead}\n                  style={{\n                    background: 'rgba(34, 197, 94, 0.1)',\n                    border: '1px solid rgba(34, 197, 94, 0.3)',\n                    color: '#22C55E',\n                    padding: '6px 12px',\n                    borderRadius: '8px',\n                    fontSize: '12px',\n                    cursor: 'pointer',\n                  }}\n                >\n                  Mark all read\n                </button>\n              )}\n              <button\n                onClick={() => setIsOpen(false)}\n                style={{\n                  background: 'transparent',\n                  border: 'none',\n                  color: '#fff',\n                  cursor: 'pointer',\n                  padding: '4px',\n                }}\n              >\n                <IoClose size={20} />\n              </button>\n            </div>\n          </div>\n\n          {/* Notifications List */}\n          <div\n            style={{\n              overflowY: 'auto',\n              maxHeight: '400px',\n              padding: '8px',\n            }}\n          >\n            {notifications.length === 0 ? (\n              <div\n                style={{\n                  padding: '40px 20px',\n                  textAlign: 'center',\n                  color: 'rgba(255, 255, 255, 0.5)',\n                }}\n              >\n                <IoNotifications size={40} style={{ opacity: 0.3, marginBottom: '16px' }} />\n                <p>No notifications yet</p>\n              </div>\n            ) : (\n              notifications.map((notification) => (\n                <div\n                  key={notification.notification_id}\n                  onClick={() => {\n                    markAsRead(notification.notification_id);\n                    if (onNotificationClick) {\n                      onNotificationClick(notification);\n                    }\n                  }}\n                  style={{\n                    background: notification.read\n                      ? 'rgba(255, 255, 255, 0.03)'\n                      : 'rgba(0, 229, 255, 0.08)',\n                    border: notification.read\n                      ? '1px solid rgba(255, 255, 255, 0.05)'\n                      : '1px solid rgba(0, 229, 255, 0.2)',\n                    borderRadius: '12px',\n                    padding: '12px',\n                    marginBottom: '8px',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s ease',\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = 'rgba(0, 229, 255, 0.12)';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = notification.read\n                      ? 'rgba(255, 255, 255, 0.03)'\n                      : 'rgba(0, 229, 255, 0.08)';\n                  }}\n                >\n                  <div style={{ display: 'flex', gap: '12px' }}>\n                    <div style={{ flexShrink: 0 }}>{getNotificationIcon(notification.notification_type)}</div>\n                    <div style={{ flex: 1 }}>\n                      <div\n                        style={{\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'start',\n                          marginBottom: '4px',\n                        }}\n                      >\n                        <h4\n                          style={{\n                            margin: 0,\n                            fontSize: '14px',\n                            fontWeight: '700',\n                            color: '#fff',\n                          }}\n                        >\n                          {notification.title}\n                        </h4>\n                        {!notification.read && (\n                          <div\n                            style={{\n                              width: '8px',\n                              height: '8px',\n                              borderRadius: '50%',\n                              background: '#00E5FF',\n                              boxShadow: '0 0 8px rgba(0, 229, 255, 0.6)',\n                              flexShrink: 0,\n                            }}\n                          />\n                        )}\n                      </div>\n                      <p\n                        style={{\n                          margin: '4px 0',\n                          fontSize: '13px',\n                          color: 'rgba(255, 255, 255, 0.7)',\n                          lineHeight: '1.4',\n                        }}\n                      >\n                        {notification.message}\n                      </p>\n                      {notification.action_required && (\n                        <div\n                          style={{\n                            marginTop: '8px',\n                            padding: '8px',\n                            background: 'rgba(0, 229, 255, 0.1)',\n                            border: '1px solid rgba(0, 229, 255, 0.2)',\n                            borderRadius: '8px',\n                            fontSize: '12px',\n                            color: '#00E5FF',\n                            lineHeight: '1.4',\n                          }}\n                        >\n                          <strong>Next Step:</strong> {notification.action_required}\n                        </div>\n                      )}\n                      <div\n                        style={{\n                          marginTop: '8px',\n                          display: 'flex',\n                          gap: '12px',\n                          fontSize: '11px',\n                          color: 'rgba(255, 255, 255, 0.4)',\n                        }}\n                      >\n                        <span>Trade ID: {notification.trade_id.slice(0, 8)}...</span>\n                        <span>â€¢</span>\n                        <span>{formatTime(notification.created_at)}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default P2PNotifications;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}