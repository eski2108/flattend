{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL+'/api';const UploadAPK=()=>{const[file,setFile]=useState(null);const[uploading,setUploading]=useState(false);const[message,setMessage]=useState('');const handleFileChange=e=>{const selectedFile=e.target.files[0];if(selectedFile&&selectedFile.name.endsWith('.apk')){setFile(selectedFile);setMessage('');}else{setMessage('Please select a valid APK file');}};const handleUpload=async()=>{if(!file){setMessage('Please select an APK file first');return;}setUploading(true);setMessage('');try{const formData=new FormData();formData.append('file',file);const response=await axios.post(\"\".concat(API,\"/admin/upload-apk\"),formData,{headers:{'Content-Type':'multipart/form-data'}});if(response.data.success){setMessage('‚úÖ APK uploaded successfully! Download button will now work.');setFile(null);}}catch(error){var _error$response,_error$response$data;setMessage('‚ùå Upload failed: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||error.message));}finally{setUploading(false);}};return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #000D1A 0%, #1a1f3a 100%)',display:'flex',alignItems:'center',justifyContent:'center',padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'20px',padding:'3rem',maxWidth:'500px',width:'100%'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'1rem',textAlign:'center'},children:\"Upload Android APK\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',marginBottom:'2rem',textAlign:'center'},children:\"Upload your APK file to enable the \\\"Download for Android\\\" button on your website\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1.5rem'},children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".apk\",onChange:handleFileChange,style:{width:'100%',padding:'1rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',color:'#fff',cursor:'pointer'}})}),file&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',marginBottom:'1.5rem',color:'#00F0FF'},children:[\"\\uD83D\\uDCF1 \",file.name,\" (\",(file.size/1024/1024).toFixed(2),\" MB)\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUpload,disabled:!file||uploading,style:{width:'100%',padding:'1rem',background:uploading?'#666':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'12px',color:'#fff',fontSize:'1.125rem',fontWeight:'700',cursor:uploading?'not-allowed':'pointer',marginBottom:'1rem'},children:uploading?'Uploading...':'Upload APK'}),message&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:message.includes('‚úÖ')?'rgba(34, 197, 94, 0.2)':'rgba(239, 68, 68, 0.2)',border:\"1px solid \".concat(message.includes('‚úÖ')?'#22C55E':'#EF4444'),borderRadius:'8px',color:message.includes('‚úÖ')?'#22C55E':'#EF4444',textAlign:'center'},children:message}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem',padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'8px',fontSize:'0.875rem',color:'#888'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#00F0FF'},children:\"Instructions:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"1. Get your APK from WebIntoApp.com\",/*#__PURE__*/_jsx(\"br\",{}),\"2. Extract the ZIP file\",/*#__PURE__*/_jsx(\"br\",{}),\"3. Find app-release.apk in the android folder\",/*#__PURE__*/_jsx(\"br\",{}),\"4. Upload it here\",/*#__PURE__*/_jsx(\"br\",{}),\"5. Download button will work automatically!\"]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'2rem'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",style:{color:'#00F0FF',textDecoration:'none'},children:\"\\u2190 Back to Homepage\"})})]})});};export default UploadAPK;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_BACKEND_URL","UploadAPK","file","setFile","uploading","setUploading","message","setMessage","handleFileChange","e","selectedFile","target","files","name","endsWith","handleUpload","formData","FormData","append","response","post","concat","headers","data","success","error","_error$response","_error$response$data","detail","style","minHeight","background","display","alignItems","justifyContent","padding","children","border","borderRadius","maxWidth","width","fontSize","fontWeight","WebkitBackgroundClip","WebkitTextFillColor","marginBottom","textAlign","color","type","accept","onChange","cursor","size","toFixed","onClick","disabled","includes","marginTop","href","textDecoration"],"sources":["/app/frontend/src/pages/UploadAPK.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst API = process.env.REACT_APP_BACKEND_URL + '/api';\n\nconst UploadAPK = () => {\n  const [file, setFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile && selectedFile.name.endsWith('.apk')) {\n      setFile(selectedFile);\n      setMessage('');\n    } else {\n      setMessage('Please select a valid APK file');\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!file) {\n      setMessage('Please select an APK file first');\n      return;\n    }\n\n    setUploading(true);\n    setMessage('');\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await axios.post(`${API}/admin/upload-apk`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      if (response.data.success) {\n        setMessage('‚úÖ APK uploaded successfully! Download button will now work.');\n        setFile(null);\n      }\n    } catch (error) {\n      setMessage('‚ùå Upload failed: ' + (error.response?.data?.detail || error.message));\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #000D1A 0%, #1a1f3a 100%)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: '2rem'\n    }}>\n      <div style={{\n        background: 'rgba(26, 31, 58, 0.8)',\n        border: '2px solid rgba(0, 240, 255, 0.3)',\n        borderRadius: '20px',\n        padding: '3rem',\n        maxWidth: '500px',\n        width: '100%'\n      }}>\n        <h1 style={{\n          fontSize: '2rem',\n          fontWeight: '900',\n          background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n          WebkitBackgroundClip: 'text',\n          WebkitTextFillColor: 'transparent',\n          marginBottom: '1rem',\n          textAlign: 'center'\n        }}>\n          Upload Android APK\n        </h1>\n        \n        <p style={{ color: '#888', marginBottom: '2rem', textAlign: 'center' }}>\n          Upload your APK file to enable the \"Download for Android\" button on your website\n        </p>\n\n        <div style={{ marginBottom: '1.5rem' }}>\n          <input\n            type=\"file\"\n            accept=\".apk\"\n            onChange={handleFileChange}\n            style={{\n              width: '100%',\n              padding: '1rem',\n              background: 'rgba(0, 0, 0, 0.3)',\n              border: '2px solid rgba(0, 240, 255, 0.3)',\n              borderRadius: '12px',\n              color: '#fff',\n              cursor: 'pointer'\n            }}\n          />\n        </div>\n\n        {file && (\n          <div style={{\n            padding: '1rem',\n            background: 'rgba(0, 240, 255, 0.1)',\n            border: '1px solid rgba(0, 240, 255, 0.3)',\n            borderRadius: '8px',\n            marginBottom: '1.5rem',\n            color: '#00F0FF'\n          }}>\n            üì± {file.name} ({(file.size / 1024 / 1024).toFixed(2)} MB)\n          </div>\n        )}\n\n        <button\n          onClick={handleUpload}\n          disabled={!file || uploading}\n          style={{\n            width: '100%',\n            padding: '1rem',\n            background: uploading ? '#666' : 'linear-gradient(135deg, #00F0FF, #A855F7)',\n            border: 'none',\n            borderRadius: '12px',\n            color: '#fff',\n            fontSize: '1.125rem',\n            fontWeight: '700',\n            cursor: uploading ? 'not-allowed' : 'pointer',\n            marginBottom: '1rem'\n          }}\n        >\n          {uploading ? 'Uploading...' : 'Upload APK'}\n        </button>\n\n        {message && (\n          <div style={{\n            padding: '1rem',\n            background: message.includes('‚úÖ') ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)',\n            border: `1px solid ${message.includes('‚úÖ') ? '#22C55E' : '#EF4444'}`,\n            borderRadius: '8px',\n            color: message.includes('‚úÖ') ? '#22C55E' : '#EF4444',\n            textAlign: 'center'\n          }}>\n            {message}\n          </div>\n        )}\n\n        <div style={{\n          marginTop: '2rem',\n          padding: '1rem',\n          background: 'rgba(0, 0, 0, 0.2)',\n          borderRadius: '8px',\n          fontSize: '0.875rem',\n          color: '#888'\n        }}>\n          <strong style={{ color: '#00F0FF' }}>Instructions:</strong><br/>\n          1. Get your APK from WebIntoApp.com<br/>\n          2. Extract the ZIP file<br/>\n          3. Find app-release.apk in the android folder<br/>\n          4. Upload it here<br/>\n          5. Download button will work automatically!\n        </div>\n\n        <div style={{ textAlign: 'center', marginTop: '2rem' }}>\n          <a href=\"/\" style={{ color: '#00F0FF', textDecoration: 'none' }}>\n            ‚Üê Back to Homepage\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UploadAPK;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,GAAG,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAAG,MAAM,CAEtD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACa,SAAS,CAAEC,YAAY,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAE1C,KAAM,CAAAiB,gBAAgB,CAAIC,CAAC,EAAK,CAC9B,KAAM,CAAAC,YAAY,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CACtC,GAAIF,YAAY,EAAIA,YAAY,CAACG,IAAI,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAE,CACtDX,OAAO,CAACO,YAAY,CAAC,CACrBH,UAAU,CAAC,EAAE,CAAC,CAChB,CAAC,IAAM,CACLA,UAAU,CAAC,gCAAgC,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACb,IAAI,CAAE,CACTK,UAAU,CAAC,iCAAiC,CAAC,CAC7C,OACF,CAEAF,YAAY,CAAC,IAAI,CAAC,CAClBE,UAAU,CAAC,EAAE,CAAC,CAEd,GAAI,CACF,KAAM,CAAAS,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEhB,IAAI,CAAC,CAE7B,KAAM,CAAAiB,QAAQ,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,IAAI,IAAAC,MAAA,CAAIxB,GAAG,sBAAqBmB,QAAQ,CAAE,CACrEM,OAAO,CAAE,CACP,cAAc,CAAE,qBAClB,CACF,CAAC,CAAC,CAEF,GAAIH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAE,CACzBjB,UAAU,CAAC,6DAA6D,CAAC,CACzEJ,OAAO,CAAC,IAAI,CAAC,CACf,CACF,CAAE,MAAOsB,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CACdpB,UAAU,CAAC,mBAAmB,EAAI,EAAAmB,eAAA,CAAAD,KAAK,CAACN,QAAQ,UAAAO,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBH,IAAI,UAAAI,oBAAA,iBAApBA,oBAAA,CAAsBC,MAAM,GAAIH,KAAK,CAACnB,OAAO,CAAC,CAAC,CACnF,CAAC,OAAS,CACRD,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,mBACEX,IAAA,QAAKmC,KAAK,CAAE,CACVC,SAAS,CAAE,OAAO,CAClBC,UAAU,CAAE,mDAAmD,CAC/DC,OAAO,CAAE,MAAM,CACfC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBC,OAAO,CAAE,MACX,CAAE,CAAAC,QAAA,cACAxC,KAAA,QAAKiC,KAAK,CAAE,CACVE,UAAU,CAAE,uBAAuB,CACnCM,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBH,OAAO,CAAE,MAAM,CACfI,QAAQ,CAAE,OAAO,CACjBC,KAAK,CAAE,MACT,CAAE,CAAAJ,QAAA,eACA1C,IAAA,OAAImC,KAAK,CAAE,CACTY,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBX,UAAU,CAAE,2CAA2C,CACvDY,oBAAoB,CAAE,MAAM,CAC5BC,mBAAmB,CAAE,aAAa,CAClCC,YAAY,CAAE,MAAM,CACpBC,SAAS,CAAE,QACb,CAAE,CAAAV,QAAA,CAAC,oBAEH,CAAI,CAAC,cAEL1C,IAAA,MAAGmC,KAAK,CAAE,CAAEkB,KAAK,CAAE,MAAM,CAAEF,YAAY,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAV,QAAA,CAAC,oFAExE,CAAG,CAAC,cAEJ1C,IAAA,QAAKmC,KAAK,CAAE,CAAEgB,YAAY,CAAE,QAAS,CAAE,CAAAT,QAAA,cACrC1C,IAAA,UACEsD,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,MAAM,CACbC,QAAQ,CAAE1C,gBAAiB,CAC3BqB,KAAK,CAAE,CACLW,KAAK,CAAE,MAAM,CACbL,OAAO,CAAE,MAAM,CACfJ,UAAU,CAAE,oBAAoB,CAChCM,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBS,KAAK,CAAE,MAAM,CACbI,MAAM,CAAE,SACV,CAAE,CACH,CAAC,CACC,CAAC,CAELjD,IAAI,eACHN,KAAA,QAAKiC,KAAK,CAAE,CACVM,OAAO,CAAE,MAAM,CACfJ,UAAU,CAAE,wBAAwB,CACpCM,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,KAAK,CACnBO,YAAY,CAAE,QAAQ,CACtBE,KAAK,CAAE,SACT,CAAE,CAAAX,QAAA,EAAC,eACE,CAAClC,IAAI,CAACW,IAAI,CAAC,IAAE,CAAC,CAACX,IAAI,CAACkD,IAAI,CAAG,IAAI,CAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,MACxD,EAAK,CACN,cAED3D,IAAA,WACE4D,OAAO,CAAEvC,YAAa,CACtBwC,QAAQ,CAAE,CAACrD,IAAI,EAAIE,SAAU,CAC7ByB,KAAK,CAAE,CACLW,KAAK,CAAE,MAAM,CACbL,OAAO,CAAE,MAAM,CACfJ,UAAU,CAAE3B,SAAS,CAAG,MAAM,CAAG,2CAA2C,CAC5EiC,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,MAAM,CACpBS,KAAK,CAAE,MAAM,CACbN,QAAQ,CAAE,UAAU,CACpBC,UAAU,CAAE,KAAK,CACjBS,MAAM,CAAE/C,SAAS,CAAG,aAAa,CAAG,SAAS,CAC7CyC,YAAY,CAAE,MAChB,CAAE,CAAAT,QAAA,CAEDhC,SAAS,CAAG,cAAc,CAAG,YAAY,CACpC,CAAC,CAERE,OAAO,eACNZ,IAAA,QAAKmC,KAAK,CAAE,CACVM,OAAO,CAAE,MAAM,CACfJ,UAAU,CAAEzB,OAAO,CAACkD,QAAQ,CAAC,GAAG,CAAC,CAAG,wBAAwB,CAAG,wBAAwB,CACvFnB,MAAM,cAAAhB,MAAA,CAAef,OAAO,CAACkD,QAAQ,CAAC,GAAG,CAAC,CAAG,SAAS,CAAG,SAAS,CAAE,CACpElB,YAAY,CAAE,KAAK,CACnBS,KAAK,CAAEzC,OAAO,CAACkD,QAAQ,CAAC,GAAG,CAAC,CAAG,SAAS,CAAG,SAAS,CACpDV,SAAS,CAAE,QACb,CAAE,CAAAV,QAAA,CACC9B,OAAO,CACL,CACN,cAEDV,KAAA,QAAKiC,KAAK,CAAE,CACV4B,SAAS,CAAE,MAAM,CACjBtB,OAAO,CAAE,MAAM,CACfJ,UAAU,CAAE,oBAAoB,CAChCO,YAAY,CAAE,KAAK,CACnBG,QAAQ,CAAE,UAAU,CACpBM,KAAK,CAAE,MACT,CAAE,CAAAX,QAAA,eACA1C,IAAA,WAAQmC,KAAK,CAAE,CAAEkB,KAAK,CAAE,SAAU,CAAE,CAAAX,QAAA,CAAC,eAAa,CAAQ,CAAC,cAAA1C,IAAA,QAAI,CAAC,sCAC7B,cAAAA,IAAA,QAAI,CAAC,0BACjB,cAAAA,IAAA,QAAI,CAAC,gDACiB,cAAAA,IAAA,QAAI,CAAC,oBACjC,cAAAA,IAAA,QAAI,CAAC,8CAExB,EAAK,CAAC,cAENA,IAAA,QAAKmC,KAAK,CAAE,CAAEiB,SAAS,CAAE,QAAQ,CAAEW,SAAS,CAAE,MAAO,CAAE,CAAArB,QAAA,cACrD1C,IAAA,MAAGgE,IAAI,CAAC,GAAG,CAAC7B,KAAK,CAAE,CAAEkB,KAAK,CAAE,SAAS,CAAEY,cAAc,CAAE,MAAO,CAAE,CAAAvB,QAAA,CAAC,yBAEjE,CAAG,CAAC,CACD,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}