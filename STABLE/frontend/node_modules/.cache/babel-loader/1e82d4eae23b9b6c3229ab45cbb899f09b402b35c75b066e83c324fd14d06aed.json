{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{useWallet}from'@/contexts/WalletContext';import Layout from'@/components/Layout';import{Card}from'@/components/ui/card';import{Button}from'@/components/ui/button';import{Input}from'@/components/ui/input';import{Dialog,DialogContent,DialogHeader,DialogTitle,DialogDescription}from'@/components/ui/dialog';import{Copy,DollarSign,IoAlertCircle,IoCash,IoCheckmark as Check,IoCheckmarkCircle,IoCopy,IoSearch,IoTime,Search}from'react-icons/io5';import axios from'axios';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=BACKEND_URL;export default function BuyCrypto(){const{account,refreshUser}=useWallet();const navigate=useNavigate();const[sellOrders,setSellOrders]=useState([]);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState('');const[selectedOrder,setSelectedOrder]=useState(null);const[buyAmount,setBuyAmount]=useState('');const[processing,setProcessing]=useState(false);const[buyOrderDetails,setBuyOrderDetails]=useState(null);const[showPaymentDialog,setShowPaymentDialog]=useState(false);const[paymentReference,setPaymentReference]=useState('');useEffect(()=>{if(!account){navigate('/');return;}fetchSellOrders();},[account,navigate]);const fetchSellOrders=async()=>{try{const response=await axios.get(\"\".concat(API,\"/crypto-market/sell/orders\"));if(response.data.success){setSellOrders(response.data.orders);}}catch(error){console.error('Error fetching sell orders:',error);toast.error('Failed to load sell orders');}finally{setLoading(false);}};const handleBuy=async()=>{if(!selectedOrder||!buyAmount){toast.error('Please enter amount');return;}const amount=parseFloat(buyAmount);if(amount<selectedOrder.min_purchase||amount>selectedOrder.max_purchase){toast.error(\"Amount must be between \".concat(selectedOrder.min_purchase,\" and \").concat(selectedOrder.max_purchase,\" ETH\"));return;}setProcessing(true);try{const response=await axios.post(\"\".concat(API,\"/crypto-market/buy/create\"),{buyer_address:account,sell_order_id:selectedOrder.order_id,crypto_amount:amount});if(response.data.success){toast.success('Buy order created! Please complete bank transfer');setBuyOrderDetails(response.data);setSelectedOrder(null);setBuyAmount('');setShowPaymentDialog(true);fetchSellOrders();}}catch(error){var _error$response,_error$response$data;console.error('Error creating buy order:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to create buy order');}finally{setProcessing(false);}};const handleMarkAsPaid=async()=>{if(!paymentReference){toast.error('Please enter payment reference');return;}try{const response=await axios.post(\"\".concat(API,\"/crypto-market/payment/mark-paid\"),{buyer_address:account,order_id:buyOrderDetails.order.order_id,payment_reference:paymentReference});if(response.data.success){toast.success('✓ Marked as Paid! Seller will be notified to release crypto');setShowPaymentDialog(false);setBuyOrderDetails(null);setPaymentReference('');await refreshUser();}}catch(error){var _error$response2,_error$response2$data;console.error('Error marking as paid:',error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'Failed to mark as paid');}};const copyToClipboard=text=>{navigator.clipboard.writeText(text);toast.success('Copied to clipboard');};const filteredOrders=sellOrders.filter(order=>order.crypto_amount.toString().includes(searchTerm)||order.seller_address.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"buy-crypto-page\",\"data-testid\":\"buy-crypto-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",\"data-testid\":\"buy-crypto-title\",children:\"Buy Crypto with Bank Transfer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Purchase crypto directly from lenders using bank transfer\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-wrapper\",children:[/*#__PURE__*/_jsx(IoSearch,{className:\"search-icon\",size:20}),/*#__PURE__*/_jsx(Input,{placeholder:\"Search by amount or seller address...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"search-input\",\"data-testid\":\"search-input\"})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",\"data-testid\":\"loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):filteredOrders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"offers-grid\",children:filteredOrders.map(order=>{const totalValue=order.crypto_amount*order.price_per_unit;return/*#__PURE__*/_jsxs(Card,{className:\"sell-order-card\",\"data-testid\":\"sell-order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-badge\",children:\"Available\"}),/*#__PURE__*/_jsx(IoCash,{size:20,className:\"order-icon\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-amount\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"amount-value\",children:order.crypto_amount||0}),/*#__PURE__*/_jsx(\"span\",{className:\"amount-currency\",children:\"ETH\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-price\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"price-label\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"price-value\",children:[\"$\",(order.price_per_unit||0).toLocaleString(),\" / ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Total Value:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[\"$\",isNaN(totalValue)?'0':totalValue.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Min Purchase:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[order.min_purchase||0,\" ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Max Purchase:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value\",children:[order.max_purchase||0,\" ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Seller:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-value address\",children:[order.seller_address.slice(0,6),\"...\",order.seller_address.slice(-4)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"Payment:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-value\",children:\"Bank Transfer\"})]})]}),/*#__PURE__*/_jsx(Button,{className:\"buy-btn\",onClick:()=>setSelectedOrder(order),disabled:order.seller_address===account,\"data-testid\":\"buy-now-btn\",children:order.seller_address===account?'Your Order':'Buy Now'})]},order.order_id);})}):/*#__PURE__*/_jsxs(Card,{className:\"empty-state\",\"data-testid\":\"empty-orders\",children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:48,className:\"empty-icon\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No Sell Orders Available\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Check back later or create your own sell order\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/sell-crypto'),\"data-testid\":\"create-sell-order-btn\",children:\"Create Sell Order\"})]})]}),/*#__PURE__*/_jsx(Dialog,{open:!!selectedOrder,onOpenChange:()=>setSelectedOrder(null),children:/*#__PURE__*/_jsxs(DialogContent,{className:\"buy-dialog\",\"data-testid\":\"buy-dialog\",children:[/*#__PURE__*/_jsxs(DialogHeader,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Buy Crypto\"}),/*#__PURE__*/_jsx(DialogDescription,{children:\"Enter amount to purchase\"})]}),selectedOrder&&/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Available:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[selectedOrder.crypto_amount||0,\" ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Price per ETH:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[\"$\",(selectedOrder.price_per_unit||0).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Min - Max:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"info-value\",children:[selectedOrder.min_purchase||0,\" - \",selectedOrder.max_purchase||0,\" ETH\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"buy-amount\",children:\"Amount (ETH)\"}),/*#__PURE__*/_jsx(Input,{id:\"buy-amount\",type:\"number\",placeholder:\"Enter amount\",value:buyAmount,onChange:e=>setBuyAmount(e.target.value),\"data-testid\":\"buy-amount-input\"})]}),buyAmount&&/*#__PURE__*/_jsxs(\"div\",{className:\"calculation\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"calc-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Crypto Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[parseFloat(buyAmount).toFixed(4),\" ETH\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"calc-row total\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total to Pay:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"highlight\",children:[\"$\",(parseFloat(buyAmount)*selectedOrder.price_per_unit).toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(IoTime,{size:20}),/*#__PURE__*/_jsx(\"p\",{children:\"You'll have 30 minutes to complete the bank transfer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-actions\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setSelectedOrder(null),\"data-testid\":\"cancel-btn\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleBuy,disabled:processing,\"data-testid\":\"confirm-buy-btn\",children:processing?'Processing...':'Proceed to Payment'})]})]})]})}),/*#__PURE__*/_jsx(Dialog,{open:showPaymentDialog,onOpenChange:setShowPaymentDialog,children:/*#__PURE__*/_jsxs(DialogContent,{className:\"payment-dialog\",\"data-testid\":\"payment-dialog\",children:[/*#__PURE__*/_jsxs(DialogHeader,{children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Complete Bank Transfer\"}),/*#__PURE__*/_jsx(DialogDescription,{children:\"Transfer funds to seller's bank account\"})]}),buyOrderDetails&&/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"payment-timer\",children:[/*#__PURE__*/_jsx(IoTime,{size:24}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"timer-label\",children:\"Payment Deadline\"}),/*#__PURE__*/_jsx(\"p\",{className:\"timer-value\",children:new Date(buyOrderDetails.payment_deadline).toLocaleString()})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank-details-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Seller's Bank Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank-detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Bank Name:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-field\",children:[/*#__PURE__*/_jsx(\"span\",{children:buyOrderDetails.seller_bank_details.bank_name}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:()=>copyToClipboard(buyOrderDetails.seller_bank_details.bank_name),\"data-testid\":\"copy-bank-name\",children:/*#__PURE__*/_jsx(IoCopy,{size:16})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank-detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Account Holder:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-field\",children:[/*#__PURE__*/_jsx(\"span\",{children:buyOrderDetails.seller_bank_details.account_holder}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:()=>copyToClipboard(buyOrderDetails.seller_bank_details.account_holder),\"data-testid\":\"copy-account-holder\",children:/*#__PURE__*/_jsx(IoCopy,{size:16})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank-detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Account Number:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-field\",children:[/*#__PURE__*/_jsx(\"span\",{children:buyOrderDetails.seller_bank_details.account_number}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:()=>copyToClipboard(buyOrderDetails.seller_bank_details.account_number),\"data-testid\":\"copy-account-number\",children:/*#__PURE__*/_jsx(IoCopy,{size:16})})]})]}),buyOrderDetails.seller_bank_details.routing_number&&/*#__PURE__*/_jsxs(\"div\",{className:\"bank-detail-row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Routing Number:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"copy-field\",children:[/*#__PURE__*/_jsx(\"span\",{children:buyOrderDetails.seller_bank_details.routing_number}),/*#__PURE__*/_jsx(Button,{size:\"sm\",variant:\"ghost\",onClick:()=>copyToClipboard(buyOrderDetails.seller_bank_details.routing_number),\"data-testid\":\"copy-routing-number\",children:/*#__PURE__*/_jsx(IoCopy,{size:16})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bank-detail-row highlight\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Amount to Transfer:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"amount-highlight\",children:[\"$\",buyOrderDetails.order.total_price.toLocaleString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"payment-ref\",children:\"Payment Reference / Transaction ID\"}),/*#__PURE__*/_jsx(Input,{id:\"payment-ref\",placeholder:\"Enter your bank transfer reference\",value:paymentReference,onChange:e=>setPaymentReference(e.target.value),\"data-testid\":\"payment-reference-input\"}),/*#__PURE__*/_jsx(\"p\",{className:\"input-hint\",children:\"Enter the transaction ID from your bank transfer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box warn\",children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:20}),/*#__PURE__*/_jsx(\"p\",{children:\"After making the transfer, confirm payment below. Seller will release crypto once verified.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dialog-actions\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>{setShowPaymentDialog(false);setBuyOrderDetails(null);},\"data-testid\":\"cancel-payment-btn\",children:\"Cancel\"}),/*#__PURE__*/_jsxs(Button,{onClick:handleMarkAsPaid,\"data-testid\":\"mark-paid-btn\",className:\"mark-paid-btn\",children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:20,className:\"mr-2\"}),\"Mark as Paid\"]})]})]})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useWallet","Layout","Card","Button","Input","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Copy","DollarSign","IoAlertCircle","IoCash","IoCheckmark","Check","IoCheckmarkCircle","IoCopy","IoSearch","IoTime","Search","axios","toast","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","BuyCrypto","account","refreshUser","navigate","sellOrders","setSellOrders","loading","setLoading","searchTerm","setSearchTerm","selectedOrder","setSelectedOrder","buyAmount","setBuyAmount","processing","setProcessing","buyOrderDetails","setBuyOrderDetails","showPaymentDialog","setShowPaymentDialog","paymentReference","setPaymentReference","fetchSellOrders","response","get","concat","data","success","orders","error","console","handleBuy","amount","parseFloat","min_purchase","max_purchase","post","buyer_address","sell_order_id","order_id","crypto_amount","_error$response","_error$response$data","detail","handleMarkAsPaid","order","payment_reference","_error$response2","_error$response2$data","copyToClipboard","text","navigator","clipboard","writeText","filteredOrders","filter","toString","includes","seller_address","toLowerCase","children","className","size","placeholder","value","onChange","e","target","length","map","totalValue","price_per_unit","toLocaleString","isNaN","slice","onClick","disabled","open","onOpenChange","htmlFor","id","type","toFixed","variant","Date","payment_deadline","seller_bank_details","bank_name","account_holder","account_number","routing_number","total_price"],"sources":["/app/frontend/src/pages/BuyCrypto.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useWallet } from '@/contexts/WalletContext';\nimport Layout from '@/components/Layout';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\nimport { Copy, DollarSign, IoAlertCircle, IoCash, IoCheckmark as Check, IoCheckmarkCircle, IoCopy, IoSearch, IoTime, Search } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = BACKEND_URL;\n\nexport default function BuyCrypto() {\n  const { account, refreshUser } = useWallet();\n  const navigate = useNavigate();\n  const [sellOrders, setSellOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [buyAmount, setBuyAmount] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [buyOrderDetails, setBuyOrderDetails] = useState(null);\n  const [showPaymentDialog, setShowPaymentDialog] = useState(false);\n  const [paymentReference, setPaymentReference] = useState('');\n\n  useEffect(() => {\n    if (!account) {\n      navigate('/');\n      return;\n    }\n    fetchSellOrders();\n  }, [account, navigate]);\n\n  const fetchSellOrders = async () => {\n    try {\n      const response = await axios.get(`${API}/crypto-market/sell/orders`);\n      if (response.data.success) {\n        setSellOrders(response.data.orders);\n      }\n    } catch (error) {\n      console.error('Error fetching sell orders:', error);\n      toast.error('Failed to load sell orders');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBuy = async () => {\n    if (!selectedOrder || !buyAmount) {\n      toast.error('Please enter amount');\n      return;\n    }\n\n    const amount = parseFloat(buyAmount);\n    if (amount < selectedOrder.min_purchase || amount > selectedOrder.max_purchase) {\n      toast.error(`Amount must be between ${selectedOrder.min_purchase} and ${selectedOrder.max_purchase} ETH`);\n      return;\n    }\n\n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/crypto-market/buy/create`, {\n        buyer_address: account,\n        sell_order_id: selectedOrder.order_id,\n        crypto_amount: amount,\n      });\n\n      if (response.data.success) {\n        toast.success('Buy order created! Please complete bank transfer');\n        setBuyOrderDetails(response.data);\n        setSelectedOrder(null);\n        setBuyAmount('');\n        setShowPaymentDialog(true);\n        fetchSellOrders();\n      }\n    } catch (error) {\n      console.error('Error creating buy order:', error);\n      toast.error(error.response?.data?.detail || 'Failed to create buy order');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleMarkAsPaid = async () => {\n    if (!paymentReference) {\n      toast.error('Please enter payment reference');\n      return;\n    }\n\n    try {\n      const response = await axios.post(`${API}/crypto-market/payment/mark-paid`, {\n        buyer_address: account,\n        order_id: buyOrderDetails.order.order_id,\n        payment_reference: paymentReference,\n      });\n\n      if (response.data.success) {\n        toast.success('✓ Marked as Paid! Seller will be notified to release crypto');\n        setShowPaymentDialog(false);\n        setBuyOrderDetails(null);\n        setPaymentReference('');\n        await refreshUser();\n      }\n    } catch (error) {\n      console.error('Error marking as paid:', error);\n      toast.error(error.response?.data?.detail || 'Failed to mark as paid');\n    }\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    toast.success('Copied to clipboard');\n  };\n\n  const filteredOrders = sellOrders.filter(\n    (order) =>\n      order.crypto_amount.toString().includes(searchTerm) ||\n      order.seller_address.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  return (\n    <Layout>\n      <div className=\"buy-crypto-page\" data-testid=\"buy-crypto-page\">\n        <div className=\"page-header\">\n          <div>\n            <h1 className=\"page-title\" data-testid=\"buy-crypto-title\">Buy Crypto with Bank Transfer</h1>\n            <p className=\"page-subtitle\">Purchase crypto directly from lenders using bank transfer</p>\n          </div>\n        </div>\n\n        {/* Search Bar */}\n        <div className=\"search-container\">\n          <div className=\"search-input-wrapper\">\n            <IoSearch className=\"search-icon\" size={20} />\n            <Input\n              placeholder=\"Search by amount or seller address...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"search-input\"\n              data-testid=\"search-input\"\n            />\n          </div>\n        </div>\n\n        {/* Sell Orders Grid */}\n        {loading ? (\n          <div className=\"loading-container\" data-testid=\"loading-spinner\">\n            <div className=\"spinner\"></div>\n          </div>\n        ) : filteredOrders.length > 0 ? (\n          <div className=\"offers-grid\">\n            {filteredOrders.map((order) => {\n              const totalValue = order.crypto_amount * order.price_per_unit;\n              return (\n                <Card key={order.order_id} className=\"sell-order-card\" data-testid=\"sell-order-card\">\n                  <div className=\"order-header\">\n                    <div className=\"order-badge\">Available</div>\n                    <IoCash size={20} className=\"order-icon\" />\n                  </div>\n                  <div className=\"order-amount\">\n                    <span className=\"amount-value\">{order.crypto_amount || 0}</span>\n                    <span className=\"amount-currency\">ETH</span>\n                  </div>\n                  <div className=\"order-price\">\n                    <span className=\"price-label\">Price:</span>\n                    <span className=\"price-value\">${(order.price_per_unit || 0).toLocaleString()} / ETH</span>\n                  </div>\n                  <div className=\"order-details\">\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Total Value:</span>\n                      <span className=\"detail-value\">${isNaN(totalValue) ? '0' : totalValue.toLocaleString()}</span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Min Purchase:</span>\n                      <span className=\"detail-value\">{order.min_purchase || 0} ETH</span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Max Purchase:</span>\n                      <span className=\"detail-value\">{order.max_purchase || 0} ETH</span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Seller:</span>\n                      <span className=\"detail-value address\">\n                        {order.seller_address.slice(0, 6)}...{order.seller_address.slice(-4)}\n                      </span>\n                    </div>\n                    <div className=\"detail-row\">\n                      <span className=\"detail-label\">Payment:</span>\n                      <span className=\"detail-value\">Bank Transfer</span>\n                    </div>\n                  </div>\n                  <Button\n                    className=\"buy-btn\"\n                    onClick={() => setSelectedOrder(order)}\n                    disabled={order.seller_address === account}\n                    data-testid=\"buy-now-btn\"\n                  >\n                    {order.seller_address === account ? 'Your Order' : 'Buy Now'}\n                  </Button>\n                </Card>\n              );\n            })}\n          </div>\n        ) : (\n          <Card className=\"empty-state\" data-testid=\"empty-orders\">\n            <IoAlertCircle size={48} className=\"empty-icon\" />\n            <h3>No Sell Orders Available</h3>\n            <p>Check back later or create your own sell order</p>\n            <Button onClick={() => navigate('/sell-crypto')} data-testid=\"create-sell-order-btn\">Create Sell Order</Button>\n          </Card>\n        )}\n      </div>\n\n      {/* Buy Dialog */}\n      <Dialog open={!!selectedOrder} onOpenChange={() => setSelectedOrder(null)}>\n        <DialogContent className=\"buy-dialog\" data-testid=\"buy-dialog\">\n          <DialogHeader>\n            <DialogTitle>Buy Crypto</DialogTitle>\n            <DialogDescription>Enter amount to purchase</DialogDescription>\n          </DialogHeader>\n          {selectedOrder && (\n            <div className=\"dialog-content\">\n              <div className=\"order-info\">\n                <div className=\"info-row\">\n                  <span>Available:</span>\n                  <span className=\"info-value\">{selectedOrder.crypto_amount || 0} ETH</span>\n                </div>\n                <div className=\"info-row\">\n                  <span>Price per ETH:</span>\n                  <span className=\"info-value\">${(selectedOrder.price_per_unit || 0).toLocaleString()}</span>\n                </div>\n                <div className=\"info-row\">\n                  <span>Min - Max:</span>\n                  <span className=\"info-value\">{selectedOrder.min_purchase || 0} - {selectedOrder.max_purchase || 0} ETH</span>\n                </div>\n              </div>\n\n              <div className=\"input-group\">\n                <label htmlFor=\"buy-amount\">Amount (ETH)</label>\n                <Input\n                  id=\"buy-amount\"\n                  type=\"number\"\n                  placeholder=\"Enter amount\"\n                  value={buyAmount}\n                  onChange={(e) => setBuyAmount(e.target.value)}\n                  data-testid=\"buy-amount-input\"\n                />\n              </div>\n\n              {buyAmount && (\n                <div className=\"calculation\">\n                  <div className=\"calc-row\">\n                    <span>Crypto Amount:</span>\n                    <span>{parseFloat(buyAmount).toFixed(4)} ETH</span>\n                  </div>\n                  <div className=\"calc-row total\">\n                    <span>Total to Pay:</span>\n                    <span className=\"highlight\">${(parseFloat(buyAmount) * selectedOrder.price_per_unit).toLocaleString()}</span>\n                  </div>\n                </div>\n              )}\n\n              <div className=\"info-box\">\n                <IoTime size={20} />\n                <p>You'll have 30 minutes to complete the bank transfer</p>\n              </div>\n\n              <div className=\"dialog-actions\">\n                <Button variant=\"outline\" onClick={() => setSelectedOrder(null)} data-testid=\"cancel-btn\">\n                  Cancel\n                </Button>\n                <Button onClick={handleBuy} disabled={processing} data-testid=\"confirm-buy-btn\">\n                  {processing ? 'Processing...' : 'Proceed to Payment'}\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Payment Instructions Dialog */}\n      <Dialog open={showPaymentDialog} onOpenChange={setShowPaymentDialog}>\n        <DialogContent className=\"payment-dialog\" data-testid=\"payment-dialog\">\n          <DialogHeader>\n            <DialogTitle>Complete Bank Transfer</DialogTitle>\n            <DialogDescription>Transfer funds to seller's bank account</DialogDescription>\n          </DialogHeader>\n          {buyOrderDetails && (\n            <div className=\"dialog-content\">\n              <div className=\"payment-timer\">\n                <IoTime size={24} />\n                <div>\n                  <p className=\"timer-label\">Payment Deadline</p>\n                  <p className=\"timer-value\">{new Date(buyOrderDetails.payment_deadline).toLocaleString()}</p>\n                </div>\n              </div>\n\n              <div className=\"bank-details-card\">\n                <h3>Seller's Bank Details</h3>\n                <div className=\"bank-detail-row\">\n                  <span>Bank Name:</span>\n                  <div className=\"copy-field\">\n                    <span>{buyOrderDetails.seller_bank_details.bank_name}</span>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => copyToClipboard(buyOrderDetails.seller_bank_details.bank_name)}\n                      data-testid=\"copy-bank-name\"\n                    >\n                      <IoCopy size={16} />\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"bank-detail-row\">\n                  <span>Account Holder:</span>\n                  <div className=\"copy-field\">\n                    <span>{buyOrderDetails.seller_bank_details.account_holder}</span>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => copyToClipboard(buyOrderDetails.seller_bank_details.account_holder)}\n                      data-testid=\"copy-account-holder\"\n                    >\n                      <IoCopy size={16} />\n                    </Button>\n                  </div>\n                </div>\n                <div className=\"bank-detail-row\">\n                  <span>Account Number:</span>\n                  <div className=\"copy-field\">\n                    <span>{buyOrderDetails.seller_bank_details.account_number}</span>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => copyToClipboard(buyOrderDetails.seller_bank_details.account_number)}\n                      data-testid=\"copy-account-number\"\n                    >\n                      <IoCopy size={16} />\n                    </Button>\n                  </div>\n                </div>\n                {buyOrderDetails.seller_bank_details.routing_number && (\n                  <div className=\"bank-detail-row\">\n                    <span>Routing Number:</span>\n                    <div className=\"copy-field\">\n                      <span>{buyOrderDetails.seller_bank_details.routing_number}</span>\n                      <Button\n                        size=\"sm\"\n                        variant=\"ghost\"\n                        onClick={() => copyToClipboard(buyOrderDetails.seller_bank_details.routing_number)}\n                        data-testid=\"copy-routing-number\"\n                      >\n                        <IoCopy size={16} />\n                      </Button>\n                    </div>\n                  </div>\n                )}\n                <div className=\"bank-detail-row highlight\">\n                  <span>Amount to Transfer:</span>\n                  <span className=\"amount-highlight\">${buyOrderDetails.order.total_price.toLocaleString()}</span>\n                </div>\n              </div>\n\n              <div className=\"input-group\">\n                <label htmlFor=\"payment-ref\">Payment Reference / Transaction ID</label>\n                <Input\n                  id=\"payment-ref\"\n                  placeholder=\"Enter your bank transfer reference\"\n                  value={paymentReference}\n                  onChange={(e) => setPaymentReference(e.target.value)}\n                  data-testid=\"payment-reference-input\"\n                />\n                <p className=\"input-hint\">Enter the transaction ID from your bank transfer</p>\n              </div>\n\n              <div className=\"info-box warn\">\n                <IoAlertCircle size={20} />\n                <p>After making the transfer, confirm payment below. Seller will release crypto once verified.</p>\n              </div>\n\n              <div className=\"dialog-actions\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => {\n                    setShowPaymentDialog(false);\n                    setBuyOrderDetails(null);\n                  }}\n                  data-testid=\"cancel-payment-btn\"\n                >\n                  Cancel\n                </Button>\n                <Button onClick={handleMarkAsPaid} data-testid=\"mark-paid-btn\" className=\"mark-paid-btn\">\n                  <IoCheckmarkCircle size={20} className=\"mr-2\" />\n                  Mark as Paid\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </Layout>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}