{"ast":null,"code":"/* eslint-disable */import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'sonner';import{IoCopyOutline,IoLogoWhatsapp,IoLogoFacebook,IoLogoTwitter,IoCheckmarkCircleOutline,IoInformationCircleOutline,IoTrendingUpOutline,IoPeopleOutline,IoTimeOutline,IoTrophyOutline,IoQrCodeOutline,IoScanOutline,IoPhonePortraitOutline}from'react-icons/io5';import QRCode from'qrcode';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;// API already defined\nexport default function ReferralDashboardNew(){const navigate=useNavigate();const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[referralData,setReferralData]=useState(null);const[commissions,setCommissions]=useState([]);const[stats,setStats]=useState({total_earned:0,pending:0,completed:0,this_month:0,last_30_days:[]});const[showInfoTooltip,setShowInfoTooltip]=useState(false);const[showUsersList,setShowUsersList]=useState(null);const[copySuccess,setCopySuccess]=useState('');const[qrCodeUrl,setQrCodeUrl]=useState('');useEffect(()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/login');return;}setUser(JSON.parse(userData));},[navigate]);useEffect(()=>{if(user!==null&&user!==void 0&&user.user_id){fetchReferralData();}},[user===null||user===void 0?void 0:user.user_id]);const fetchReferralData=async()=>{try{var _data$total_earnings,_data$earnings_by_per,_data$earnings_by_per2,_data$referral_stats,_data$referral_stats2,_data$earnings_by_per3,_data$earnings_by_per4,_data$earnings_by_per5,_data$earnings_by_per6,_data$earnings_by_per7,_data$earnings_by_per8;setLoading(true);// üî• USE COMPREHENSIVE ENDPOINT - 100% REAL DATA FROM ALL SOURCES\nconst comprehensiveRes=await axios.get(\"\".concat(API,\"/referral/dashboard/comprehensive/\").concat(user.user_id));const data=comprehensiveRes.data;if(!data.success){throw new Error(data.error||'Failed to load dashboard');}// Set referral basic info\nsetReferralData({referral_code:data.referral_code,referral_link:data.referral_link,tier:data.tier});// Set real-time stats from ALL revenue streams\nsetStats({total_earned:((_data$total_earnings=data.total_earnings)===null||_data$total_earnings===void 0?void 0:_data$total_earnings.total_gbp)||0,this_month:((_data$earnings_by_per=data.earnings_by_period)===null||_data$earnings_by_per===void 0?void 0:(_data$earnings_by_per2=_data$earnings_by_per.month)===null||_data$earnings_by_per2===void 0?void 0:_data$earnings_by_per2.amount)||0,completed:((_data$referral_stats=data.referral_stats)===null||_data$referral_stats===void 0?void 0:_data$referral_stats.active_referrals)||0,pending:((_data$referral_stats2=data.referral_stats)===null||_data$referral_stats2===void 0?void 0:_data$referral_stats2.pending_signups)||0,today:((_data$earnings_by_per3=data.earnings_by_period)===null||_data$earnings_by_per3===void 0?void 0:(_data$earnings_by_per4=_data$earnings_by_per3.today)===null||_data$earnings_by_per4===void 0?void 0:_data$earnings_by_per4.amount)||0,week:((_data$earnings_by_per5=data.earnings_by_period)===null||_data$earnings_by_per5===void 0?void 0:(_data$earnings_by_per6=_data$earnings_by_per5.week)===null||_data$earnings_by_per6===void 0?void 0:_data$earnings_by_per6.amount)||0,year:((_data$earnings_by_per7=data.earnings_by_period)===null||_data$earnings_by_per7===void 0?void 0:(_data$earnings_by_per8=_data$earnings_by_per7.year)===null||_data$earnings_by_per8===void 0?void 0:_data$earnings_by_per8.amount)||0});// Set activity timeline (real transactions)\nsetCommissions(data.activity_timeline||[]);// Store comprehensive data for advanced features\nwindow.referralAnalytics={earnings_by_stream:data.earnings_by_stream||[],referral_tree:data.referral_tree||{},conversion_metrics:data.conversion_metrics||{},geographic_breakdown:data.geographic_breakdown||[],tier_progress:data.tier_progress||{}};// Generate QR code for referral link\nif(data.referral_link){try{const qrUrl=await QRCode.toDataURL(data.referral_link,{width:300,margin:2,color:{dark:'#00F0FF',light:'#0a0b1a'},errorCorrectionLevel:'M'});setQrCodeUrl(qrUrl);}catch(error){console.error('Error generating QR code:',error);}}}catch(error){console.error('Error fetching referral data:',error);toast.error('Failed to load referral data');}finally{setLoading(false);}};const copyToClipboard=(text,type)=>{navigator.clipboard.writeText(text);setCopySuccess(type);toast.success(\"\".concat(type==='code'?'Referral code':'Referral link',\" copied!\"));setTimeout(()=>setCopySuccess(''),2000);};const shareVia=platform=>{const link=(referralData===null||referralData===void 0?void 0:referralData.referral_link)||'';const text=\"Join CoinHub X and start trading crypto! Use my referral link: \".concat(link);const urls={whatsapp:\"https://wa.me/?text=\".concat(encodeURIComponent(text)),telegram:\"https://t.me/share/url?url=\".concat(encodeURIComponent(link),\"&text=\").concat(encodeURIComponent('Join CoinHub X with my referral')),twitter:\"https://twitter.com/intent/tweet?text=\".concat(encodeURIComponent(text)),facebook:\"https://www.facebook.com/sharer/sharer.php?u=\".concat(encodeURIComponent(link))};if(urls[platform]){window.open(urls[platform],'_blank');}};const calculateGoldenValue=()=>{var _window$referralAnaly;// Use REAL tier progress data from backend\nconst tierProgress=((_window$referralAnaly=window.referralAnalytics)===null||_window$referralAnaly===void 0?void 0:_window$referralAnaly.tier_progress)||{};return{goldenEarnings:tierProgress.golden_potential_earnings||stats.total_earned*2.5,difference:tierProgress.difference||stats.total_earned*1.5,breakEvenNeeded:tierProgress.break_even_needed||Math.max(0,150-stats.total_earned*1.5),progress_percentage:tierProgress.progress_percentage||0,is_worth_upgrading:tierProgress.is_worth_upgrading||false};};const getTierInfo=tier=>{if(!tier)return{name:'Standard',rate:'20%',color:'#00F0FF'};const tierLower=tier.toLowerCase();if(tierLower==='golden')return{name:'Golden',rate:'50%',color:'#FFD700'};return{name:'Standard',rate:'20%',color:'#00F0FF'};};const tierInfo=getTierInfo(referralData===null||referralData===void 0?void 0:referralData.tier);const{goldenEarnings,difference,breakEvenNeeded}=calculateGoldenValue();if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',border:'4px solid rgba(0, 240, 255, 0.1)',borderTop:'4px solid #00F0FF',borderRadius:'50%',animation:'spin 1s linear infinite',margin:'0 auto 1rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#00F0FF',fontSize:'18px',fontWeight:'600'},children:\"Loading...\"})]})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes pulse {\\n            0%, 100% { opacity: 0.8; transform: scale(1); }\\n            50% { opacity: 1; transform: scale(1.05); }\\n          }\\n          @keyframes float {\\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\\n            33% { transform: translateY(-10px) rotate(1deg); }\\n            66% { transform: translateY(5px) rotate(-1deg); }\\n          }\\n          @keyframes scan {\\n            0% { top: 2rem; opacity: 0; }\\n            10% { opacity: 1; }\\n            90% { opacity: 1; }\\n            100% { top: calc(100% - 4rem); opacity: 0; }\\n          }\\n          @keyframes spin {\\n            from { transform: rotate(0deg); }\\n            to { transform: rotate(360deg); }\\n          }\\n        \"}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',padding:'1rem',paddingTop:'80px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'28px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'0.5rem'},children:\"Referral Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px'},children:\"Invite friends and earn commission on every transaction\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.1))',borderRadius:'16px',padding:'1.25rem',border:'1px solid rgba(0, 240, 255, 0.3)',marginBottom:'1rem',display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTrendingUpOutline,{size:18,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'11px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Total Earned\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'28px',fontWeight:'900',color:'#00F0FF'},children:[\"\\xA3\",stats.total_earned.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTimeOutline,{size:18,color:\"#A855F7\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'11px',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"This Month\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'28px',fontWeight:'900',color:'#A855F7'},children:[\"\\xA3\",stats.this_month.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#666',fontSize:'10px',marginTop:'4px'},children:[\"From \",stats.completed,\" active referrals\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.25rem',border:\"2px solid \".concat(tierInfo.color),marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px',marginBottom:'4px',textTransform:'uppercase',letterSpacing:'0.5px'},children:\"Your Tier\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'900',color:tierInfo.color},children:tierInfo.name})]}),/*#__PURE__*/_jsx(\"div\",{style:{background:\"\".concat(tierInfo.color,\"20\"),borderRadius:'50%',width:'50px',height:'50px',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'24px'},children:tierInfo.name==='Golden'?'‚≠ê':'üéØ'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.3)',borderRadius:'12px',padding:'1rem',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px',marginBottom:'4px',textTransform:'uppercase'},children:\"Commission Rate\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'900',color:tierInfo.color},children:tierInfo.rate})]}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>setShowInfoTooltip(!showInfoTooltip),style:{cursor:'pointer',color:'#00F0FF'},children:/*#__PURE__*/_jsx(IoInformationCircleOutline,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#aaa',fontSize:'12px',marginTop:'0.5rem',lineHeight:'1.4'},children:[\"You earn \",tierInfo.rate,\" of the trading fees your referrals generate, for life.\"]}),showInfoTooltip&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.75rem',padding:'0.75rem',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#fff',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Example:\"}),\" If your referral pays \\xA310 in trading fees, you earn \\xA3\",tierInfo.name==='Golden'?'5.00':'2.00',\".\"]})]}),tierInfo.name!=='Golden'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'10px',color:'#888',marginBottom:'6px',textTransform:'uppercase',letterSpacing:'0.5px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Standard\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Golden\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'8px',background:'rgba(255, 215, 0, 0.2)',borderRadius:'4px',overflow:'hidden',position:'relative'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:'30%',background:'linear-gradient(90deg, #00F0FF, #FFD700)',borderRadius:'4px'}})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',color:'#aaa',marginTop:'6px',textAlign:'center'},children:\"Upgrade available anytime \\u2013 one-time \\xA3150\"})]})]}),tierInfo.name!=='Golden'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.1))',border:'2px solid rgba(255, 215, 0, 0.5)',borderRadius:'16px',padding:'1.25rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsx(IoTrophyOutline,{size:24,color:\"#FFD700\"}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'18px',fontWeight:'900',color:'#FFD700',margin:0},children:\"Upgrade to GOLDEN TIER\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#FFD700',fontSize:'14px',marginBottom:'1rem',fontWeight:'600'},children:\"Lifetime 50% commission\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255, 255, 255, 0.9)',fontSize:'13px',marginBottom:'1rem'},children:\"Pay once. Earn 2.5\\xD7 commission on every trade, forever.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.4)',borderRadius:'12px',padding:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'40px',fontWeight:'900',color:'#FFD700',marginBottom:'0.5rem'},children:\"\\xA3150\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#aaa',marginBottom:'1rem'},children:\"One-time payment, no subscription\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#fff',lineHeight:'1.8'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'6px'},children:\"\\u2714 50% of all referral trading fees\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'6px'},children:\"\\u2714 Applies to all current + future referrals\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u2714 One-time payment, no subscription\"})]})]}),stats.total_earned>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 215, 0, 0.1)',border:'1px solid rgba(255, 215, 0, 0.3)',borderRadius:'8px',padding:'0.75rem',marginBottom:'1rem',fontSize:'12px',color:'#fff'},children:[/*#__PURE__*/_jsx(\"strong\",{style:{color:'#FFD700'},children:\"Value Comparison:\"}),/*#__PURE__*/_jsx(\"br\",{}),\"With your current referrals, Golden Tier would have earned you \\xA3\",goldenEarnings.toFixed(2),\" instead of \\xA3\",stats.total_earned.toFixed(2),\".\",breakEvenNeeded>0?/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'6px',color:'#aaa'},children:[\"You need only \\xA3\",breakEvenNeeded.toFixed(2),\" more commission to break even on the upgrade.\"]}):/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'6px',color:'#00FF88'},children:\"\\u2705 You've already earned enough to justify the upgrade!\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{try{const response=await axios.post(\"\".concat(API,\"/referrals/purchase-vip\"),{user_id:user.user_id});if(response.data.success){toast.success('üéâ Upgraded to GOLDEN TIER!');fetchReferralData();}else{toast.error(response.data.message||'Upgrade failed');}}catch(error){toast.error('Failed to upgrade');}},style:{width:'100%',padding:'14px',background:'linear-gradient(135deg, #FFD700, #FFA500)',border:'none',borderRadius:'12px',color:'#000',fontSize:'16px',fontWeight:'900',cursor:'pointer',boxShadow:'0 4px 20px rgba(255, 215, 0, 0.4)'},children:\"\\uD83C\\uDFC6 UPGRADE NOW\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'0.75rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setShowUsersList(showUsersList==='active'?null:'active'),style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 240, 255, 0.05))',borderRadius:'12px',padding:'1rem',border:'1px solid rgba(0, 240, 255, 0.3)',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoPeopleOutline,{size:16,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'10px',fontWeight:'600',textTransform:'uppercase'},children:\"Active Referrals\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'900',color:'#00F0FF'},children:stats.completed})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setShowUsersList(showUsersList==='pending'?null:'pending'),style:{background:'linear-gradient(135deg, rgba(255, 165, 0, 0.1), rgba(255, 165, 0, 0.05))',borderRadius:'12px',padding:'1rem',border:'1px solid rgba(255, 165, 0, 0.3)',cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(IoTimeOutline,{size:16,color:\"#FFA500\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#888',fontSize:'10px',fontWeight:'600',textTransform:'uppercase'},children:\"Pending Sign-ups\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'32px',fontWeight:'900',color:'#FFA500'},children:stats.pending})]})]}),showUsersList&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.95)',borderRadius:'12px',padding:'1rem',marginBottom:'1rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'700',color:'#00F0FF',marginBottom:'0.75rem'},children:showUsersList==='active'?'Active Referrals':'Pending Sign-ups'}),(_window$referralAnaly2=>{const referralTree=((_window$referralAnaly2=window.referralAnalytics)===null||_window$referralAnaly2===void 0?void 0:_window$referralAnaly2.referral_tree)||{};const referrals=referralTree.referrals||[];const filteredReferrals=showUsersList==='active'?referrals.filter(r=>r.status==='active'):referrals.filter(r=>r.status==='pending');if(filteredReferrals.length===0){return/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'12px',textAlign:'center',padding:'1rem'},children:[\"No \",showUsersList,\" referrals yet. Start sharing your link!\"]});}return filteredReferrals.slice(0,10).map((referral,idx)=>{var _referral$total_earne;return/*#__PURE__*/_jsx(\"div\",{style:{padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px',marginBottom:'0.5rem',fontSize:'12px',color:'#fff'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:referral.username||\"User \".concat(idx+1)}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px'},children:referral.email_masked}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#888',fontSize:'11px'},children:referral.last_activity?\"Last: \".concat(new Date(referral.last_activity).toLocaleDateString()):'Joined: '+new Date(referral.joined_date).toLocaleDateString()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'700'},children:[\"\\xA3\",((_referral$total_earne=referral.total_earned_from_user)===null||_referral$total_earne===void 0?void 0:_referral$total_earne.toFixed(2))||'0.00']}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'10px'},children:[referral.transaction_count||0,\" txns\"]})]})]})},idx);});})()]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.08), rgba(168, 85, 247, 0.08))',borderRadius:'20px',padding:'2rem',border:'2px solid rgba(0, 240, 255, 0.3)',marginBottom:'1rem',position:'relative',overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'radial-gradient(circle at 20% 80%, rgba(0,240,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(168,85,247,0.1) 0%, transparent 50%)',animation:'float 6s ease-in-out infinite',pointerEvents:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',zIndex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',borderRadius:'50%',background:'linear-gradient(135deg, #00F0FF, #A855F7)',display:'flex',alignItems:'center',justifyContent:'center',boxShadow:'0 0 40px rgba(0,240,255,0.6)',animation:'pulse 2s ease-in-out infinite'},children:/*#__PURE__*/_jsx(IoQrCodeOutline,{size:32,style:{color:'#000'}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'28px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',margin:0,textShadow:'0 0 30px rgba(0,240,255,0.3)'},children:\"Share & Earn\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#A3AEC2',fontSize:'16px',margin:0,fontWeight:'600'},children:\"Scan to join \\u2022 Lifetime commission\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'300px 1fr',gap:'2rem',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0,0,0,0.6)',borderRadius:'20px',padding:'2rem',border:'3px solid transparent',backgroundImage:'linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), linear-gradient(135deg, #00F0FF, #A855F7)',backgroundOrigin:'border-box',backgroundClip:'content-box, border-box',position:'relative',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'2rem',left:'2rem',right:'2rem',height:'2px',background:'linear-gradient(90deg, transparent, #00F0FF, transparent)',animation:'scan 3s ease-in-out infinite',zIndex:2}}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'18px',fontWeight:'900',color:'#00F0FF',marginBottom:'1rem',textTransform:'uppercase',letterSpacing:'2px',textShadow:'0 0 20px rgba(0,240,255,0.5)'},children:\"SCAN TO JOIN\"}),qrCodeUrl?/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:qrCodeUrl,alt:\"Referral QR Code\",style:{width:'200px',height:'200px',borderRadius:'12px',border:'2px solid rgba(0,240,255,0.3)',boxShadow:'0 0 30px rgba(0,240,255,0.3)',background:'#0a0b1a'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-5px',left:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderRight:'none',borderBottom:'none',borderRadius:'8px 0 0 0'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-5px',right:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderLeft:'none',borderBottom:'none',borderRadius:'0 8px 0 0'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'-5px',left:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderRight:'none',borderTop:'none',borderRadius:'0 0 0 8px'}}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'-5px',right:'-5px',width:'30px',height:'30px',border:'3px solid #00F0FF',borderLeft:'none',borderTop:'none',borderRadius:'0 0 8px 0'}})]}):/*#__PURE__*/_jsx(\"div\",{style:{width:'200px',height:'200px',borderRadius:'12px',border:'2px dashed rgba(0,240,255,0.3)',display:'flex',alignItems:'center',justifyContent:'center',color:'#00F0FF',fontSize:'14px',fontWeight:'600'},children:\"Generating QR...\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#A855F7',marginTop:'1rem',fontWeight:'700',textShadow:'0 0 15px rgba(168,85,247,0.5)'},children:\"Point camera here\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'900',color:'#FFFFFF',marginBottom:'1rem',textTransform:'uppercase',letterSpacing:'1px'},children:\"Share on Social Media\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(5, 1fr)',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('whatsapp'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #25D366, #128C7E)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',boxShadow:'0 8px 32px rgba(37,211,102,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsx(IoLogoWhatsapp,{size:28})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('telegram'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #0088cc, #005577)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',fontSize:'24px',fontWeight:'700',boxShadow:'0 8px 32px rgba(0,136,204,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:\"\\u2708\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('twitter'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #1DA1F2, #0d8bd9)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',boxShadow:'0 8px 32px rgba(29,161,242,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsx(IoLogoTwitter,{size:28})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareVia('facebook'),style:{width:'60px',height:'60px',borderRadius:'16px',background:'linear-gradient(135deg, #1877F2, #166fe5)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#fff',boxShadow:'0 8px 32px rgba(24,119,242,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:/*#__PURE__*/_jsx(IoLogoFacebook,{size:28})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.referral_link,'link'),style:{width:'60px',height:'60px',borderRadius:'16px',background:copySuccess==='link'?'linear-gradient(135deg, #00FF88, #00cc6a)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',color:'#000',boxShadow:copySuccess==='link'?'0 8px 32px rgba(0,255,136,0.4)':'0 8px 32px rgba(0,240,255,0.4)',transition:'all 0.3s ease'},onMouseEnter:e=>e.currentTarget.style.transform='translateY(-4px)',onMouseLeave:e=>e.currentTarget.style.transform='translateY(0)',children:copySuccess==='link'?/*#__PURE__*/_jsx(IoCheckmarkCircleOutline,{size:28}):/*#__PURE__*/_jsx(IoCopyOutline,{size:28})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#A3AEC2',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'1px',fontWeight:'700'},children:\"Your Referral Code\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',background:'rgba(0,0,0,0.4)',padding:'1rem',borderRadius:'12px',border:'2px solid rgba(0,240,255,0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,fontSize:'20px',fontWeight:'900',background:'linear-gradient(135deg, #00F0FF, #FFFFFF)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',textShadow:'0 0 20px rgba(0,240,255,0.5)'},children:(referralData===null||referralData===void 0?void 0:referralData.referral_code)||'Loading...'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.referral_code,'code'),style:{padding:'12px 20px',background:copySuccess==='code'?'linear-gradient(135deg, #00FF88, #00cc6a)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'8px',color:'#000',cursor:'pointer',fontSize:'14px',fontWeight:'900',textTransform:'uppercase',letterSpacing:'0.5px',boxShadow:'0 4px 16px rgba(0,240,255,0.3)'},children:copySuccess==='code'?'‚úì COPIED':'COPY'})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#A3AEC2',marginBottom:'8px',textTransform:'uppercase',letterSpacing:'1px',fontWeight:'700'},children:\"Your Referral Link\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',background:'rgba(0,0,0,0.4)',padding:'1rem',borderRadius:'12px',border:'2px solid rgba(168,85,247,0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1,color:'#A855F7',fontSize:'14px',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',fontWeight:'600'},children:(referralData===null||referralData===void 0?void 0:referralData.referral_link)||'Loading...'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(referralData===null||referralData===void 0?void 0:referralData.referral_link,'link'),style:{padding:'12px 20px',background:copySuccess==='link'?'linear-gradient(135deg, #00FF88, #00cc6a)':'linear-gradient(135deg, #A855F7, #00F0FF)',border:'none',borderRadius:'8px',color:'#000',cursor:'pointer',fontSize:'14px',fontWeight:'900',textTransform:'uppercase',letterSpacing:'0.5px',boxShadow:'0 4px 16px rgba(168,85,247,0.3)'},children:copySuccess==='link'?'‚úì COPIED':'COPY'})]})]})]})]})]})]}),commissions.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',borderRadius:'16px',padding:'1.25rem',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'700',color:'#00F0FF',marginBottom:'1rem'},children:\"Recent Activity\"}),commissions.slice(0,10).map((activity,idx)=>{var _activity$amount;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'0.75rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px',marginBottom:'0.5rem',fontSize:'12px',border:'1px solid rgba(0, 240, 255, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontWeight:'600',marginBottom:'4px'},children:activity.transaction_type||'Transaction'}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:'11px'},children:[activity.referred_user||'User',\" \\u2022 \",(()=>{try{const date=new Date(activity.date);if(isNaN(date.getTime())){return'Recent';}return date.toLocaleDateString('en-GB',{day:'2-digit',month:'short',hour:'2-digit',minute:'2-digit'});}catch(e){return'Recent';}})()]}),/*#__PURE__*/_jsx(\"div\",{style:{color:activity.status==='completed'?'#00FF88':'#FFA500',fontSize:'10px',marginTop:'4px',textTransform:'uppercase',fontWeight:'600'},children:activity.status||'completed'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#00FF88',fontWeight:'900',fontSize:'16px',textAlign:'right'},children:[\"+\\xA3\",((_activity$amount=activity.amount)===null||_activity$amount===void 0?void 0:_activity$amount.toFixed(2))||'0.00']})]},idx);}),commissions.length>10&&/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'1rem',color:'#888',fontSize:'12px'},children:[\"Showing 10 of \",commissions.length,\" transactions\"]})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","toast","IoCopyOutline","IoLogoWhatsapp","IoLogoFacebook","IoLogoTwitter","IoCheckmarkCircleOutline","IoInformationCircleOutline","IoTrendingUpOutline","IoPeopleOutline","IoTimeOutline","IoTrophyOutline","IoQrCodeOutline","IoScanOutline","IoPhonePortraitOutline","QRCode","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","process","env","REACT_APP_BACKEND_URL","ReferralDashboardNew","navigate","user","setUser","loading","setLoading","referralData","setReferralData","commissions","setCommissions","stats","setStats","total_earned","pending","completed","this_month","last_30_days","showInfoTooltip","setShowInfoTooltip","showUsersList","setShowUsersList","copySuccess","setCopySuccess","qrCodeUrl","setQrCodeUrl","userData","localStorage","getItem","JSON","parse","user_id","fetchReferralData","_data$total_earnings","_data$earnings_by_per","_data$earnings_by_per2","_data$referral_stats","_data$referral_stats2","_data$earnings_by_per3","_data$earnings_by_per4","_data$earnings_by_per5","_data$earnings_by_per6","_data$earnings_by_per7","_data$earnings_by_per8","comprehensiveRes","get","concat","data","success","Error","error","referral_code","referral_link","tier","total_earnings","total_gbp","earnings_by_period","month","amount","referral_stats","active_referrals","pending_signups","today","week","year","activity_timeline","window","referralAnalytics","earnings_by_stream","referral_tree","conversion_metrics","geographic_breakdown","tier_progress","qrUrl","toDataURL","width","margin","color","dark","light","errorCorrectionLevel","console","copyToClipboard","text","type","navigator","clipboard","writeText","setTimeout","shareVia","platform","link","urls","whatsapp","encodeURIComponent","telegram","twitter","facebook","open","calculateGoldenValue","_window$referralAnaly","tierProgress","goldenEarnings","golden_potential_earnings","difference","breakEvenNeeded","break_even_needed","Math","max","progress_percentage","is_worth_upgrading","getTierInfo","name","rate","tierLower","toLowerCase","tierInfo","style","minHeight","background","display","alignItems","justifyContent","children","textAlign","height","border","borderTop","borderRadius","animation","fontSize","fontWeight","padding","paddingTop","maxWidth","marginBottom","WebkitBackgroundClip","WebkitTextFillColor","gridTemplateColumns","gap","size","textTransform","letterSpacing","toFixed","marginTop","onClick","cursor","lineHeight","overflow","position","response","post","message","boxShadow","_window$referralAnaly2","referralTree","referrals","filteredReferrals","filter","r","status","length","slice","map","referral","idx","_referral$total_earne","username","email_masked","last_activity","Date","toLocaleDateString","joined_date","total_earned_from_user","transaction_count","top","left","right","bottom","pointerEvents","zIndex","textShadow","backgroundImage","backgroundOrigin","backgroundClip","src","alt","borderRight","borderBottom","borderLeft","transition","onMouseEnter","e","currentTarget","transform","onMouseLeave","flex","textOverflow","whiteSpace","activity","_activity$amount","transaction_type","referred_user","date","isNaN","getTime","day","hour","minute"],"sources":["/app/frontend/src/pages/ReferralDashboardNew.js"],"sourcesContent":["/* eslint-disable */\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport { \n  IoCopyOutline, \n  IoLogoWhatsapp,\n  IoLogoFacebook,\n  IoLogoTwitter,\n  IoCheckmarkCircleOutline,\n  IoInformationCircleOutline,\n  IoTrendingUpOutline,\n  IoPeopleOutline,\n  IoTimeOutline,\n  IoTrophyOutline,\n  IoQrCodeOutline,\n  IoScanOutline,\n  IoPhonePortraitOutline\n} from 'react-icons/io5';\nimport QRCode from 'qrcode';\nconst API = process.env.REACT_APP_BACKEND_URL;\n\n// API already defined\n\nexport default function ReferralDashboardNew() {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [referralData, setReferralData] = useState(null);\n  const [commissions, setCommissions] = useState([]);\n  const [stats, setStats] = useState({\n    total_earned: 0,\n    pending: 0,\n    completed: 0,\n    this_month: 0,\n    last_30_days: []\n  });\n  const [showInfoTooltip, setShowInfoTooltip] = useState(false);\n  const [showUsersList, setShowUsersList] = useState(null);\n  const [copySuccess, setCopySuccess] = useState('');\n  const [qrCodeUrl, setQrCodeUrl] = useState('');\n\n  useEffect(() => {\n    const userData = localStorage.getItem('cryptobank_user');\n    if (!userData) {\n      navigate('/login');\n      return;\n    }\n    setUser(JSON.parse(userData));\n  }, [navigate]);\n\n  useEffect(() => {\n    if (user?.user_id) {\n      fetchReferralData();\n    }\n  }, [user?.user_id]);\n\n  const fetchReferralData = async () => {\n    try {\n      setLoading(true);\n      \n      // üî• USE COMPREHENSIVE ENDPOINT - 100% REAL DATA FROM ALL SOURCES\n      const comprehensiveRes = await axios.get(`${API}/referral/dashboard/comprehensive/${user.user_id}`);\n      const data = comprehensiveRes.data;\n      \n      if (!data.success) {\n        throw new Error(data.error || 'Failed to load dashboard');\n      }\n      \n      // Set referral basic info\n      setReferralData({\n        referral_code: data.referral_code,\n        referral_link: data.referral_link,\n        tier: data.tier\n      });\n      \n      // Set real-time stats from ALL revenue streams\n      setStats({\n        total_earned: data.total_earnings?.total_gbp || 0,\n        this_month: data.earnings_by_period?.month?.amount || 0,\n        completed: data.referral_stats?.active_referrals || 0,\n        pending: data.referral_stats?.pending_signups || 0,\n        today: data.earnings_by_period?.today?.amount || 0,\n        week: data.earnings_by_period?.week?.amount || 0,\n        year: data.earnings_by_period?.year?.amount || 0\n      });\n      \n      // Set activity timeline (real transactions)\n      setCommissions(data.activity_timeline || []);\n      \n      // Store comprehensive data for advanced features\n      window.referralAnalytics = {\n        earnings_by_stream: data.earnings_by_stream || [],\n        referral_tree: data.referral_tree || {},\n        conversion_metrics: data.conversion_metrics || {},\n        geographic_breakdown: data.geographic_breakdown || [],\n        tier_progress: data.tier_progress || {}\n      };\n\n      // Generate QR code for referral link\n      if (data.referral_link) {\n        try {\n          const qrUrl = await QRCode.toDataURL(data.referral_link, {\n            width: 300,\n            margin: 2,\n            color: {\n              dark: '#00F0FF',\n              light: '#0a0b1a'\n            },\n            errorCorrectionLevel: 'M'\n          });\n          setQrCodeUrl(qrUrl);\n        } catch (error) {\n          console.error('Error generating QR code:', error);\n        }\n      }\n      \n    } catch (error) {\n      console.error('Error fetching referral data:', error);\n      toast.error('Failed to load referral data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const copyToClipboard = (text, type) => {\n    navigator.clipboard.writeText(text);\n    setCopySuccess(type);\n    toast.success(`${type === 'code' ? 'Referral code' : 'Referral link'} copied!`);\n    setTimeout(() => setCopySuccess(''), 2000);\n  };\n\n  const shareVia = (platform) => {\n    const link = referralData?.referral_link || '';\n    const text = `Join CoinHub X and start trading crypto! Use my referral link: ${link}`;\n    \n    const urls = {\n      whatsapp: `https://wa.me/?text=${encodeURIComponent(text)}`,\n      telegram: `https://t.me/share/url?url=${encodeURIComponent(link)}&text=${encodeURIComponent('Join CoinHub X with my referral')}`,\n      twitter: `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`,\n      facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(link)}`\n    };\n    \n    if (urls[platform]) {\n      window.open(urls[platform], '_blank');\n    }\n  };\n\n  const calculateGoldenValue = () => {\n    // Use REAL tier progress data from backend\n    const tierProgress = window.referralAnalytics?.tier_progress || {};\n    \n    return {\n      goldenEarnings: tierProgress.golden_potential_earnings || (stats.total_earned * 2.5),\n      difference: tierProgress.difference || (stats.total_earned * 1.5),\n      breakEvenNeeded: tierProgress.break_even_needed || Math.max(0, 150 - (stats.total_earned * 1.5)),\n      progress_percentage: tierProgress.progress_percentage || 0,\n      is_worth_upgrading: tierProgress.is_worth_upgrading || false\n    };\n  };\n\n  const getTierInfo = (tier) => {\n    if (!tier) return { name: 'Standard', rate: '20%', color: '#00F0FF' };\n    const tierLower = tier.toLowerCase();\n    if (tierLower === 'golden') return { name: 'Golden', rate: '50%', color: '#FFD700' };\n    return { name: 'Standard', rate: '20%', color: '#00F0FF' };\n  };\n\n  const tierInfo = getTierInfo(referralData?.tier);\n  const { goldenEarnings, difference, breakEvenNeeded } = calculateGoldenValue();\n\n  if (loading) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{\n            width: '60px',\n            height: '60px',\n            border: '4px solid rgba(0, 240, 255, 0.1)',\n            borderTop: '4px solid #00F0FF',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '0 auto 1rem'\n          }}></div>\n          <p style={{ color: '#00F0FF', fontSize: '18px', fontWeight: '600' }}>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <style>\n        {`\n          @keyframes pulse {\n            0%, 100% { opacity: 0.8; transform: scale(1); }\n            50% { opacity: 1; transform: scale(1.05); }\n          }\n          @keyframes float {\n            0%, 100% { transform: translateY(0px) rotate(0deg); }\n            33% { transform: translateY(-10px) rotate(1deg); }\n            66% { transform: translateY(5px) rotate(-1deg); }\n          }\n          @keyframes scan {\n            0% { top: 2rem; opacity: 0; }\n            10% { opacity: 1; }\n            90% { opacity: 1; }\n            100% { top: calc(100% - 4rem); opacity: 0; }\n          }\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        `}\n      </style>\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #0a0b1a 0%, #1a1f3a 50%, #0a0b1a 100%)',\n        padding: '1rem',\n        paddingTop: '80px'\n      }}>\n      <div style={{ maxWidth: '600px', margin: '0 auto' }}>\n        \n        {/* 1. HEADER */}\n        <div style={{ marginBottom: '1.5rem', textAlign: 'center' }}>\n          <h1 style={{\n            fontSize: '28px',\n            fontWeight: '900',\n            background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent',\n            marginBottom: '0.5rem'\n          }}>\n            Referral Dashboard\n          </h1>\n          <p style={{ color: '#888', fontSize: '14px' }}>\n            Invite friends and earn commission on every transaction\n          </p>\n        </div>\n\n        {/* 2. COMBINED EARNINGS PANEL */}\n        <div style={{\n          background: 'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.1))',\n          borderRadius: '16px',\n          padding: '1.25rem',\n          border: '1px solid rgba(0, 240, 255, 0.3)',\n          marginBottom: '1rem',\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '1rem'\n        }}>\n          <div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '0.5rem' }}>\n              <IoTrendingUpOutline size={18} color=\"#00F0FF\" />\n              <span style={{ color: '#888', fontSize: '11px', fontWeight: '600', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Total Earned</span>\n            </div>\n            <div style={{ fontSize: '28px', fontWeight: '900', color: '#00F0FF' }}>\n              ¬£{stats.total_earned.toFixed(2)}\n            </div>\n          </div>\n          <div>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '0.5rem' }}>\n              <IoTimeOutline size={18} color=\"#A855F7\" />\n              <span style={{ color: '#888', fontSize: '11px', fontWeight: '600', textTransform: 'uppercase', letterSpacing: '0.5px' }}>This Month</span>\n            </div>\n            <div style={{ fontSize: '28px', fontWeight: '900', color: '#A855F7' }}>\n              ¬£{stats.this_month.toFixed(2)}\n            </div>\n            <div style={{ color: '#666', fontSize: '10px', marginTop: '4px' }}>\n              From {stats.completed} active referrals\n            </div>\n          </div>\n        </div>\n\n        {/* 3. CURRENT TIER PANEL */}\n        <div style={{\n          background: 'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',\n          borderRadius: '16px',\n          padding: '1.25rem',\n          border: `2px solid ${tierInfo.color}`,\n          marginBottom: '1rem'\n        }}>\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '1rem' }}>\n            <div>\n              <div style={{ color: '#888', fontSize: '11px', marginBottom: '4px', textTransform: 'uppercase', letterSpacing: '0.5px' }}>Your Tier</div>\n              <div style={{ fontSize: '24px', fontWeight: '900', color: tierInfo.color }}>\n                {tierInfo.name}\n              </div>\n            </div>\n            <div style={{\n              background: `${tierInfo.color}20`,\n              borderRadius: '50%',\n              width: '50px',\n              height: '50px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              fontSize: '24px'\n            }}>\n              {tierInfo.name === 'Golden' ? '‚≠ê' : 'üéØ'}\n            </div>\n          </div>\n          \n          <div style={{\n            background: 'rgba(0, 0, 0, 0.3)',\n            borderRadius: '12px',\n            padding: '1rem',\n            marginBottom: '0.75rem'\n          }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n              <div>\n                <div style={{ color: '#888', fontSize: '11px', marginBottom: '4px', textTransform: 'uppercase' }}>Commission Rate</div>\n                <div style={{ fontSize: '24px', fontWeight: '900', color: tierInfo.color }}>\n                  {tierInfo.rate}\n                </div>\n              </div>\n              <div \n                onClick={() => setShowInfoTooltip(!showInfoTooltip)}\n                style={{ cursor: 'pointer', color: '#00F0FF' }}\n              >\n                <IoInformationCircleOutline size={24} />\n              </div>\n            </div>\n            <div style={{ color: '#aaa', fontSize: '12px', marginTop: '0.5rem', lineHeight: '1.4' }}>\n              You earn {tierInfo.rate} of the trading fees your referrals generate, for life.\n            </div>\n            {showInfoTooltip && (\n              <div style={{\n                marginTop: '0.75rem',\n                padding: '0.75rem',\n                background: 'rgba(0, 240, 255, 0.1)',\n                border: '1px solid rgba(0, 240, 255, 0.3)',\n                borderRadius: '8px',\n                color: '#fff',\n                fontSize: '12px'\n              }}>\n                <strong>Example:</strong> If your referral pays ¬£10 in trading fees, you earn ¬£{tierInfo.name === 'Golden' ? '5.00' : '2.00'}.\n              </div>\n            )}\n          </div>\n\n          {/* PROGRESS BAR */}\n          {tierInfo.name !== 'Golden' && (\n            <div style={{ marginTop: '1rem' }}>\n              <div style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                fontSize: '10px',\n                color: '#888',\n                marginBottom: '6px',\n                textTransform: 'uppercase',\n                letterSpacing: '0.5px'\n              }}>\n                <span>Standard</span>\n                <span>Golden</span>\n              </div>\n              <div style={{\n                height: '8px',\n                background: 'rgba(255, 215, 0, 0.2)',\n                borderRadius: '4px',\n                overflow: 'hidden',\n                position: 'relative'\n              }}>\n                <div style={{\n                  height: '100%',\n                  width: '30%',\n                  background: 'linear-gradient(90deg, #00F0FF, #FFD700)',\n                  borderRadius: '4px'\n                }} />\n              </div>\n              <div style={{ fontSize: '10px', color: '#aaa', marginTop: '6px', textAlign: 'center' }}>\n                Upgrade available anytime ‚Äì one-time ¬£150\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* 4. GOLDEN TIER UPGRADE */}\n        {tierInfo.name !== 'Golden' && (\n          <div style={{\n            background: 'linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 165, 0, 0.1))',\n            border: '2px solid rgba(255, 215, 0, 0.5)',\n            borderRadius: '16px',\n            padding: '1.25rem',\n            marginBottom: '1rem'\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '0.75rem' }}>\n              <IoTrophyOutline size={24} color=\"#FFD700\" />\n              <h3 style={{\n                fontSize: '18px',\n                fontWeight: '900',\n                color: '#FFD700',\n                margin: 0\n              }}>\n                Upgrade to GOLDEN TIER\n              </h3>\n            </div>\n            \n            <p style={{ color: '#FFD700', fontSize: '14px', marginBottom: '1rem', fontWeight: '600' }}>\n              Lifetime 50% commission\n            </p>\n            \n            <p style={{ color: 'rgba(255, 255, 255, 0.9)', fontSize: '13px', marginBottom: '1rem' }}>\n              Pay once. Earn 2.5√ó commission on every trade, forever.\n            </p>\n\n            <div style={{\n              background: 'rgba(0, 0, 0, 0.4)',\n              borderRadius: '12px',\n              padding: '1rem',\n              marginBottom: '1rem'\n            }}>\n              <div style={{ fontSize: '40px', fontWeight: '900', color: '#FFD700', marginBottom: '0.5rem' }}>\n                ¬£150\n              </div>\n              <div style={{ fontSize: '11px', color: '#aaa', marginBottom: '1rem' }}>\n                One-time payment, no subscription\n              </div>\n              \n              <div style={{ fontSize: '12px', color: '#fff', lineHeight: '1.8' }}>\n                <div style={{ marginBottom: '6px' }}>‚úî 50% of all referral trading fees</div>\n                <div style={{ marginBottom: '6px' }}>‚úî Applies to all current + future referrals</div>\n                <div>‚úî One-time payment, no subscription</div>\n              </div>\n            </div>\n\n            {stats.total_earned > 0 && (\n              <div style={{\n                background: 'rgba(255, 215, 0, 0.1)',\n                border: '1px solid rgba(255, 215, 0, 0.3)',\n                borderRadius: '8px',\n                padding: '0.75rem',\n                marginBottom: '1rem',\n                fontSize: '12px',\n                color: '#fff'\n              }}>\n                <strong style={{ color: '#FFD700' }}>Value Comparison:</strong><br />\n                With your current referrals, Golden Tier would have earned you ¬£{goldenEarnings.toFixed(2)} instead of ¬£{stats.total_earned.toFixed(2)}.\n                {breakEvenNeeded > 0 ? (\n                  <div style={{ marginTop: '6px', color: '#aaa' }}>\n                    You need only ¬£{breakEvenNeeded.toFixed(2)} more commission to break even on the upgrade.\n                  </div>\n                ) : (\n                  <div style={{ marginTop: '6px', color: '#00FF88' }}>\n                    ‚úÖ You&apos;ve already earned enough to justify the upgrade!\n                  </div>\n                )}\n              </div>\n            )}\n\n            <button\n              onClick={async () => {\n                try {\n                  const response = await axios.post(`${API}/referrals/purchase-vip`, {\n                    user_id: user.user_id\n                  });\n                  \n                  if (response.data.success) {\n                    toast.success('üéâ Upgraded to GOLDEN TIER!');\n                    fetchReferralData();\n                  } else {\n                    toast.error(response.data.message || 'Upgrade failed');\n                  }\n                } catch (error) {\n                  toast.error('Failed to upgrade');\n                }\n              }}\n              style={{\n                width: '100%',\n                padding: '14px',\n                background: 'linear-gradient(135deg, #FFD700, #FFA500)',\n                border: 'none',\n                borderRadius: '12px',\n                color: '#000',\n                fontSize: '16px',\n                fontWeight: '900',\n                cursor: 'pointer',\n                boxShadow: '0 4px 20px rgba(255, 215, 0, 0.4)'\n              }}\n            >\n              üèÜ UPGRADE NOW\n            </button>\n          </div>\n        )}\n\n        {/* 5. REFERRAL STATS */}\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '0.75rem',\n          marginBottom: '1rem'\n        }}>\n          <div \n            onClick={() => setShowUsersList(showUsersList === 'active' ? null : 'active')}\n            style={{\n              background: 'linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 240, 255, 0.05))',\n              borderRadius: '12px',\n              padding: '1rem',\n              border: '1px solid rgba(0, 240, 255, 0.3)',\n              cursor: 'pointer'\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '0.5rem' }}>\n              <IoPeopleOutline size={16} color=\"#00F0FF\" />\n              <span style={{ color: '#888', fontSize: '10px', fontWeight: '600', textTransform: 'uppercase' }}>Active Referrals</span>\n            </div>\n            <div style={{ fontSize: '32px', fontWeight: '900', color: '#00F0FF' }}>\n              {stats.completed}\n            </div>\n          </div>\n\n          <div \n            onClick={() => setShowUsersList(showUsersList === 'pending' ? null : 'pending')}\n            style={{\n              background: 'linear-gradient(135deg, rgba(255, 165, 0, 0.1), rgba(255, 165, 0, 0.05))',\n              borderRadius: '12px',\n              padding: '1rem',\n              border: '1px solid rgba(255, 165, 0, 0.3)',\n              cursor: 'pointer'\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '0.5rem' }}>\n              <IoTimeOutline size={16} color=\"#FFA500\" />\n              <span style={{ color: '#888', fontSize: '10px', fontWeight: '600', textTransform: 'uppercase' }}>Pending Sign-ups</span>\n            </div>\n            <div style={{ fontSize: '32px', fontWeight: '900', color: '#FFA500' }}>\n              {stats.pending}\n            </div>\n          </div>\n        </div>\n\n        {/* User List Modal - REAL DATA FROM REFERRAL TREE */}\n        {showUsersList && (\n          <div style={{\n            background: 'rgba(26, 31, 58, 0.95)',\n            borderRadius: '12px',\n            padding: '1rem',\n            marginBottom: '1rem',\n            border: '1px solid rgba(0, 240, 255, 0.3)'\n          }}>\n            <div style={{ fontSize: '14px', fontWeight: '700', color: '#00F0FF', marginBottom: '0.75rem' }}>\n              {showUsersList === 'active' ? 'Active Referrals' : 'Pending Sign-ups'}\n            </div>\n            {(() => {\n              const referralTree = window.referralAnalytics?.referral_tree || {};\n              const referrals = referralTree.referrals || [];\n              const filteredReferrals = showUsersList === 'active' \n                ? referrals.filter(r => r.status === 'active')\n                : referrals.filter(r => r.status === 'pending');\n              \n              if (filteredReferrals.length === 0) {\n                return (\n                  <div style={{ color: '#888', fontSize: '12px', textAlign: 'center', padding: '1rem' }}>\n                    No {showUsersList} referrals yet. Start sharing your link!\n                  </div>\n                );\n              }\n              \n              return filteredReferrals.slice(0, 10).map((referral, idx) => (\n                <div key={idx} style={{\n                  padding: '0.75rem',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  borderRadius: '8px',\n                  marginBottom: '0.5rem',\n                  fontSize: '12px',\n                  color: '#fff'\n                }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <div style={{ fontWeight: '600' }}>{referral.username || `User ${idx + 1}`}</div>\n                      <div style={{ color: '#888', fontSize: '11px' }}>\n                        {referral.email_masked}\n                      </div>\n                      <div style={{ color: '#888', fontSize: '11px' }}>\n                        {referral.last_activity ? `Last: ${new Date(referral.last_activity).toLocaleDateString()}` : 'Joined: ' + new Date(referral.joined_date).toLocaleDateString()}\n                      </div>\n                    </div>\n                    <div style={{ textAlign: 'right' }}>\n                      <div style={{ color: '#00FF88', fontWeight: '700' }}>\n                        ¬£{referral.total_earned_from_user?.toFixed(2) || '0.00'}\n                      </div>\n                      <div style={{ color: '#888', fontSize: '10px' }}>\n                        {referral.transaction_count || 0} txns\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ));\n            })()}\n          </div>\n        )}\n\n        {/* 6. PREMIUM QR CODE & SHARE SECTION */}\n        <div style={{\n          background: 'linear-gradient(135deg, rgba(0, 240, 255, 0.08), rgba(168, 85, 247, 0.08))',\n          borderRadius: '20px',\n          padding: '2rem',\n          border: '2px solid rgba(0, 240, 255, 0.3)',\n          marginBottom: '1rem',\n          position: 'relative',\n          overflow: 'hidden'\n        }}>\n          {/* Animated background particles */}\n          <div style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'radial-gradient(circle at 20% 80%, rgba(0,240,255,0.1) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(168,85,247,0.1) 0%, transparent 50%)',\n            animation: 'float 6s ease-in-out infinite',\n            pointerEvents: 'none'\n          }} />\n\n          <div style={{ position: 'relative', zIndex: 1 }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '1.5rem' }}>\n              <div style={{\n                width: '60px',\n                height: '60px',\n                borderRadius: '50%',\n                background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                boxShadow: '0 0 40px rgba(0,240,255,0.6)',\n                animation: 'pulse 2s ease-in-out infinite'\n              }}>\n                <IoQrCodeOutline size={32} style={{ color: '#000' }} />\n              </div>\n              <div>\n                <h3 style={{\n                  fontSize: '28px',\n                  fontWeight: '900',\n                  background: 'linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)',\n                  WebkitBackgroundClip: 'text',\n                  WebkitTextFillColor: 'transparent',\n                  margin: 0,\n                  textShadow: '0 0 30px rgba(0,240,255,0.3)'\n                }}>\n                  Share & Earn\n                </h3>\n                <p style={{ \n                  color: '#A3AEC2', \n                  fontSize: '16px', \n                  margin: 0,\n                  fontWeight: '600'\n                }}>\n                  Scan to join ‚Ä¢ Lifetime commission\n                </p>\n              </div>\n            </div>\n\n            <div style={{ \n              display: 'grid', \n              gridTemplateColumns: '300px 1fr', \n              gap: '2rem', \n              alignItems: 'center' \n            }}>\n              {/* Premium QR Code Section */}\n              <div style={{\n                background: 'rgba(0,0,0,0.6)',\n                borderRadius: '20px',\n                padding: '2rem',\n                border: '3px solid transparent',\n                backgroundImage: 'linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), linear-gradient(135deg, #00F0FF, #A855F7)',\n                backgroundOrigin: 'border-box',\n                backgroundClip: 'content-box, border-box',\n                position: 'relative',\n                textAlign: 'center'\n              }}>\n                {/* Scanning animation overlay */}\n                <div style={{\n                  position: 'absolute',\n                  top: '2rem',\n                  left: '2rem',\n                  right: '2rem',\n                  height: '2px',\n                  background: 'linear-gradient(90deg, transparent, #00F0FF, transparent)',\n                  animation: 'scan 3s ease-in-out infinite',\n                  zIndex: 2\n                }} />\n\n                <div style={{\n                  fontSize: '18px',\n                  fontWeight: '900',\n                  color: '#00F0FF',\n                  marginBottom: '1rem',\n                  textTransform: 'uppercase',\n                  letterSpacing: '2px',\n                  textShadow: '0 0 20px rgba(0,240,255,0.5)'\n                }}>\n                  SCAN TO JOIN\n                </div>\n\n                {qrCodeUrl ? (\n                  <div style={{ position: 'relative' }}>\n                    <img \n                      src={qrCodeUrl} \n                      alt=\"Referral QR Code\" \n                      style={{\n                        width: '200px',\n                        height: '200px',\n                        borderRadius: '12px',\n                        border: '2px solid rgba(0,240,255,0.3)',\n                        boxShadow: '0 0 30px rgba(0,240,255,0.3)',\n                        background: '#0a0b1a'\n                      }}\n                    />\n                    {/* Corner decorations */}\n                    <div style={{\n                      position: 'absolute',\n                      top: '-5px',\n                      left: '-5px',\n                      width: '30px',\n                      height: '30px',\n                      border: '3px solid #00F0FF',\n                      borderRight: 'none',\n                      borderBottom: 'none',\n                      borderRadius: '8px 0 0 0'\n                    }} />\n                    <div style={{\n                      position: 'absolute',\n                      top: '-5px',\n                      right: '-5px',\n                      width: '30px',\n                      height: '30px',\n                      border: '3px solid #00F0FF',\n                      borderLeft: 'none',\n                      borderBottom: 'none',\n                      borderRadius: '0 8px 0 0'\n                    }} />\n                    <div style={{\n                      position: 'absolute',\n                      bottom: '-5px',\n                      left: '-5px',\n                      width: '30px',\n                      height: '30px',\n                      border: '3px solid #00F0FF',\n                      borderRight: 'none',\n                      borderTop: 'none',\n                      borderRadius: '0 0 0 8px'\n                    }} />\n                    <div style={{\n                      position: 'absolute',\n                      bottom: '-5px',\n                      right: '-5px',\n                      width: '30px',\n                      height: '30px',\n                      border: '3px solid #00F0FF',\n                      borderLeft: 'none',\n                      borderTop: 'none',\n                      borderRadius: '0 0 8px 0'\n                    }} />\n                  </div>\n                ) : (\n                  <div style={{\n                    width: '200px',\n                    height: '200px',\n                    borderRadius: '12px',\n                    border: '2px dashed rgba(0,240,255,0.3)',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    color: '#00F0FF',\n                    fontSize: '14px',\n                    fontWeight: '600'\n                  }}>\n                    Generating QR...\n                  </div>\n                )}\n\n                <div style={{\n                  fontSize: '14px',\n                  color: '#A855F7',\n                  marginTop: '1rem',\n                  fontWeight: '700',\n                  textShadow: '0 0 15px rgba(168,85,247,0.5)'\n                }}>\n                  Point camera here\n                </div>\n              </div>\n\n              {/* Share Options & Links */}\n              <div>\n                {/* Social Share Buttons */}\n                <div style={{ marginBottom: '2rem' }}>\n                  <div style={{\n                    fontSize: '16px',\n                    fontWeight: '900',\n                    color: '#FFFFFF',\n                    marginBottom: '1rem',\n                    textTransform: 'uppercase',\n                    letterSpacing: '1px'\n                  }}>\n                    Share on Social Media\n                  </div>\n                  <div style={{\n                    display: 'grid',\n                    gridTemplateColumns: 'repeat(5, 1fr)',\n                    gap: '1rem'\n                  }}>\n                    <button\n                      onClick={() => shareVia('whatsapp')}\n                      style={{\n                        width: '60px',\n                        height: '60px',\n                        borderRadius: '16px',\n                        background: 'linear-gradient(135deg, #25D366, #128C7E)',\n                        border: 'none',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#fff',\n                        boxShadow: '0 8px 32px rgba(37,211,102,0.4)',\n                        transition: 'all 0.3s ease'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-4px)'}\n                      onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\n                    >\n                      <IoLogoWhatsapp size={28} />\n                    </button>\n                    \n                    <button\n                      onClick={() => shareVia('telegram')}\n                      style={{\n                        width: '60px',\n                        height: '60px',\n                        borderRadius: '16px',\n                        background: 'linear-gradient(135deg, #0088cc, #005577)',\n                        border: 'none',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#fff',\n                        fontSize: '24px',\n                        fontWeight: '700',\n                        boxShadow: '0 8px 32px rgba(0,136,204,0.4)',\n                        transition: 'all 0.3s ease'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-4px)'}\n                      onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\n                    >\n                      ‚úàÔ∏è\n                    </button>\n                    \n                    <button\n                      onClick={() => shareVia('twitter')}\n                      style={{\n                        width: '60px',\n                        height: '60px',\n                        borderRadius: '16px',\n                        background: 'linear-gradient(135deg, #1DA1F2, #0d8bd9)',\n                        border: 'none',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#fff',\n                        boxShadow: '0 8px 32px rgba(29,161,242,0.4)',\n                        transition: 'all 0.3s ease'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-4px)'}\n                      onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\n                    >\n                      <IoLogoTwitter size={28} />\n                    </button>\n                    \n                    <button\n                      onClick={() => shareVia('facebook')}\n                      style={{\n                        width: '60px',\n                        height: '60px',\n                        borderRadius: '16px',\n                        background: 'linear-gradient(135deg, #1877F2, #166fe5)',\n                        border: 'none',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#fff',\n                        boxShadow: '0 8px 32px rgba(24,119,242,0.4)',\n                        transition: 'all 0.3s ease'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-4px)'}\n                      onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\n                    >\n                      <IoLogoFacebook size={28} />\n                    </button>\n                    \n                    <button\n                      onClick={() => copyToClipboard(referralData?.referral_link, 'link')}\n                      style={{\n                        width: '60px',\n                        height: '60px',\n                        borderRadius: '16px',\n                        background: copySuccess === 'link' ? 'linear-gradient(135deg, #00FF88, #00cc6a)' : 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                        border: 'none',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        color: '#000',\n                        boxShadow: copySuccess === 'link' ? '0 8px 32px rgba(0,255,136,0.4)' : '0 8px 32px rgba(0,240,255,0.4)',\n                        transition: 'all 0.3s ease'\n                      }}\n                      onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-4px)'}\n                      onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\n                    >\n                      {copySuccess === 'link' ? <IoCheckmarkCircleOutline size={28} /> : <IoCopyOutline size={28} />}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Referral Code */}\n                <div style={{ marginBottom: '1.5rem' }}>\n                  <div style={{\n                    fontSize: '14px',\n                    color: '#A3AEC2',\n                    marginBottom: '8px',\n                    textTransform: 'uppercase',\n                    letterSpacing: '1px',\n                    fontWeight: '700'\n                  }}>\n                    Your Referral Code\n                  </div>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem',\n                    background: 'rgba(0,0,0,0.4)',\n                    padding: '1rem',\n                    borderRadius: '12px',\n                    border: '2px solid rgba(0,240,255,0.3)'\n                  }}>\n                    <div style={{\n                      flex: 1,\n                      fontSize: '20px',\n                      fontWeight: '900',\n                      background: 'linear-gradient(135deg, #00F0FF, #FFFFFF)',\n                      WebkitBackgroundClip: 'text',\n                      WebkitTextFillColor: 'transparent',\n                      textShadow: '0 0 20px rgba(0,240,255,0.5)'\n                    }}>\n                      {referralData?.referral_code || 'Loading...'}\n                    </div>\n                    <button\n                      onClick={() => copyToClipboard(referralData?.referral_code, 'code')}\n                      style={{\n                        padding: '12px 20px',\n                        background: copySuccess === 'code' ? 'linear-gradient(135deg, #00FF88, #00cc6a)' : 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                        border: 'none',\n                        borderRadius: '8px',\n                        color: '#000',\n                        cursor: 'pointer',\n                        fontSize: '14px',\n                        fontWeight: '900',\n                        textTransform: 'uppercase',\n                        letterSpacing: '0.5px',\n                        boxShadow: '0 4px 16px rgba(0,240,255,0.3)'\n                      }}\n                    >\n                      {copySuccess === 'code' ? '‚úì COPIED' : 'COPY'}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Referral Link */}\n                <div>\n                  <div style={{\n                    fontSize: '14px',\n                    color: '#A3AEC2',\n                    marginBottom: '8px',\n                    textTransform: 'uppercase',\n                    letterSpacing: '1px',\n                    fontWeight: '700'\n                  }}>\n                    Your Referral Link\n                  </div>\n                  <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '1rem',\n                    background: 'rgba(0,0,0,0.4)',\n                    padding: '1rem',\n                    borderRadius: '12px',\n                    border: '2px solid rgba(168,85,247,0.3)'\n                  }}>\n                    <div style={{\n                      flex: 1,\n                      color: '#A855F7',\n                      fontSize: '14px',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      whiteSpace: 'nowrap',\n                      fontWeight: '600'\n                    }}>\n                      {referralData?.referral_link || 'Loading...'}\n                    </div>\n                    <button\n                      onClick={() => copyToClipboard(referralData?.referral_link, 'link')}\n                      style={{\n                        padding: '12px 20px',\n                        background: copySuccess === 'link' ? 'linear-gradient(135deg, #00FF88, #00cc6a)' : 'linear-gradient(135deg, #A855F7, #00F0FF)',\n                        border: 'none',\n                        borderRadius: '8px',\n                        color: '#000',\n                        cursor: 'pointer',\n                        fontSize: '14px',\n                        fontWeight: '900',\n                        textTransform: 'uppercase',\n                        letterSpacing: '0.5px',\n                        boxShadow: '0 4px 16px rgba(168,85,247,0.3)'\n                      }}\n                    >\n                      {copySuccess === 'link' ? '‚úì COPIED' : 'COPY'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* 9. ACTIVITY TIMELINE - REAL TRANSACTION DATA */}\n        {commissions.length > 0 && (\n          <div style={{\n            background: 'linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)',\n            borderRadius: '16px',\n            padding: '1.25rem',\n            border: '1px solid rgba(0, 240, 255, 0.3)'\n          }}>\n            <div style={{ fontSize: '14px', fontWeight: '700', color: '#00F0FF', marginBottom: '1rem' }}>\n              Recent Activity\n            </div>\n            {commissions.slice(0, 10).map((activity, idx) => (\n              <div key={idx} style={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n                padding: '0.75rem',\n                background: 'rgba(0, 0, 0, 0.3)',\n                borderRadius: '8px',\n                marginBottom: '0.5rem',\n                fontSize: '12px',\n                border: '1px solid rgba(0, 240, 255, 0.1)'\n              }}>\n                <div style={{ flex: 1 }}>\n                  <div style={{ color: '#fff', fontWeight: '600', marginBottom: '4px' }}>\n                    {activity.transaction_type || 'Transaction'}\n                  </div>\n                  <div style={{ color: '#888', fontSize: '11px' }}>\n                    {activity.referred_user || 'User'} ‚Ä¢ {(() => {\n                      try {\n                        const date = new Date(activity.date);\n                        if (isNaN(date.getTime())) {\n                          return 'Recent';\n                        }\n                        return date.toLocaleDateString('en-GB', { \n                          day: '2-digit', \n                          month: 'short',\n                          hour: '2-digit',\n                          minute: '2-digit'\n                        });\n                      } catch (e) {\n                        return 'Recent';\n                      }\n                    })()}\n                  </div>\n                  <div style={{ \n                    color: activity.status === 'completed' ? '#00FF88' : '#FFA500',\n                    fontSize: '10px',\n                    marginTop: '4px',\n                    textTransform: 'uppercase',\n                    fontWeight: '600'\n                  }}>\n                    {activity.status || 'completed'}\n                  </div>\n                </div>\n                <div style={{\n                  color: '#00FF88',\n                  fontWeight: '900',\n                  fontSize: '16px',\n                  textAlign: 'right'\n                }}>\n                  +¬£{activity.amount?.toFixed(2) || '0.00'}\n                </div>\n              </div>\n            ))}\n            \n            {commissions.length > 10 && (\n              <div style={{ \n                textAlign: 'center', \n                marginTop: '1rem',\n                color: '#888',\n                fontSize: '12px'\n              }}>\n                Showing 10 of {commissions.length} transactions\n              </div>\n            )}\n          </div>\n        )}\n\n      </div>\n    </div>\n    </>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}