{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import Layout from'@/components/Layout';import{IoChatbubbles,IoCheckmark as Check,IoCheckmarkCircle,IoClose,IoCloudUpload,IoDocument,IoSend,IoTime,IoWarning}from'react-icons/io5';import axios from'axios';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=BACKEND_URL;export default function OrderDetails(){var _order$fiat_amount;const{orderId}=useParams();const navigate=useNavigate();const[order,setOrder]=useState(null);const[dispute,setDispute]=useState(null);const[loading,setLoading]=useState(true);const[showDisputeDialog,setShowDisputeDialog]=useState(false);const[showEvidenceDialog,setShowEvidenceDialog]=useState(false);const[disputeReason,setDisputeReason]=useState('');const[evidenceDescription,setEvidenceDescription]=useState('');const[evidenceType,setEvidenceType]=useState('screenshot');const[messages,setMessages]=useState([]);const[newMessage,setNewMessage]=useState('');const[processing,setProcessing]=useState(false);const[currentUser,setCurrentUser]=useState(null);useEffect(()=>{const userData=localStorage.getItem('cryptobank_user');if(!userData){navigate('/');return;}const user=JSON.parse(userData);setCurrentUser(user);fetchOrderDetails(user.user_id);},[orderId,navigate]);const fetchOrderDetails=async userId=>{try{const ordersResp=await axios.get(\"\".concat(API,\"/crypto-market/orders/\").concat(userId));const allOrders=[...ordersResp.data.buy_orders,...ordersResp.data.sell_orders];const foundOrder=allOrders.find(o=>o.order_id===orderId);if(foundOrder){setOrder(foundOrder);}}catch(error){console.error('Error fetching order:',error);toast.error('Failed to load order details');}finally{setLoading(false);}};const handleInitiateDispute=async()=>{if(!disputeReason.trim()){toast.error('Please provide a reason for the dispute');return;}setProcessing(true);try{const response=await axios.post(\"\".concat(API,\"/disputes/initiate\"),{user_address:currentUser.user_id,order_id:orderId,reason:disputeReason});if(response.data.success){toast.success('Dispute opened! Crypto is now locked in escrow.');setShowDisputeDialog(false);setDisputeReason('');setDispute(response.data.dispute);fetchOrderDetails(currentUser.user_id);}}catch(error){var _error$response,_error$response$data;console.error('Error initiating dispute:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to initiate dispute');}finally{setProcessing(false);}};const handleUploadEvidence=async()=>{if(!evidenceDescription.trim()){toast.error('Please provide evidence description');return;}if(!dispute){toast.error('No active dispute found');return;}setProcessing(true);try{const response=await axios.post(\"\".concat(API,\"/disputes/evidence\"),{dispute_id:dispute.dispute_id,uploaded_by:currentUser.user_id,evidence_type:evidenceType,description:evidenceDescription,file_url:null});if(response.data.success){toast.success('Evidence uploaded successfully');setShowEvidenceDialog(false);setEvidenceDescription('');}}catch(error){console.error('Error uploading evidence:',error);toast.error('Failed to upload evidence');}finally{setProcessing(false);}};const handleSendMessage=async()=>{if(!newMessage.trim()||!dispute)return;try{const userRole=order.buyer_id===currentUser.user_id?'buyer':'seller';const response=await axios.post(\"\".concat(API,\"/disputes/message\"),{dispute_id:dispute.dispute_id,sender_address:currentUser.user_id,sender_role:userRole,message:newMessage});if(response.data.success){setMessages([...messages,response.data.message]);setNewMessage('');}}catch(error){console.error('Error sending message:',error);toast.error('Failed to send message');}};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'60vh'},\"data-testid\":\"loading-spinner\",children:/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',border:'4px solid rgba(0, 240, 255, 0.3)',borderTopColor:'#00F0FF',borderRadius:'50%',animation:'spin 1s linear infinite'}})})});}if(!order){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',margin:'4rem auto',padding:'3rem 2rem',textAlign:'center',background:'linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))',border:'2px solid rgba(239, 68, 68, 0.3)',borderRadius:'16px'},children:[/*#__PURE__*/_jsx(IoWarning,{size:64,color:\"#EF4444\",style:{marginBottom:'1.5rem'}}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'1rem'},children:\"Order Not Found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-orders'),style:{padding:'0.75rem 2rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'10px',color:'#000000',fontSize:'1rem',fontWeight:'600',cursor:'pointer',marginTop:'1rem'},children:\"Go Back\"})]})});}const isBuyer=order.buyer_id===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id);const getStatusColor=status=>{switch(status){case'completed':return'#22C55E';case'disputed':return'#F59E0B';case'cancelled':return'#EF4444';default:return'#00F0FF';}};const getStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:20});case'disputed':return/*#__PURE__*/_jsx(IoWarning,{size:20});default:return/*#__PURE__*/_jsx(IoTime,{size:20});}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto',padding:'2rem 1rem'},\"data-testid\":\"order-details-page\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem',display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'900',marginBottom:'0.5rem',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},\"data-testid\":\"order-title\",children:\"Order Details\"}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'rgba(255,255,255,0.6)',fontSize:'0.875rem'},children:[\"Order ID: \",orderId.slice(0,12),\"...\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-orders'),style:{padding:'0.75rem 1.5rem',background:'rgba(0, 240, 255, 0.1)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#00F0FF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer'},children:\"Back to Orders\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))',border:'2px solid rgba(0, 240, 255, 0.2)',borderRadius:'16px',padding:'2rem',marginBottom:'2rem'},\"data-testid\":\"order-status\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.375rem',fontWeight:'700',color:'#FFFFFF'},children:\"Order Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:\"\".concat(getStatusColor(order.status),\"20\"),border:\"2px solid \".concat(getStatusColor(order.status)),borderRadius:'10px',color:getStatusColor(order.status),fontWeight:'700',fontSize:'0.875rem',textTransform:'uppercase'},children:[getStatusIcon(order.status),/*#__PURE__*/_jsx(\"span\",{children:order.status.replace(/_/g,' ')})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1.25rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:\"Amount\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#FFFFFF'},children:[order.crypto_amount,\" \",order.crypto_currency]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:\"Total Price\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#FFFFFF'},children:[\"\\xA3\",(_order$fiat_amount=order.fiat_amount)===null||_order$fiat_amount===void 0?void 0:_order$fiat_amount.toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.6)',marginBottom:'0.5rem'},children:isBuyer?'Seller':'Buyer'}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',fontWeight:'600',color:'#FFFFFF',fontFamily:'monospace'},children:isBuyer?\"\".concat(order.seller_id.slice(0,8),\"...\"):\"\".concat(order.buyer_id.slice(0,8),\"...\")})]})]}),order.status==='disputed'&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',padding:'1rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'10px',display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(IoWarning,{size:24,color:\"#F59E0B\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:'700',color:'#F59E0B',marginBottom:'0.25rem'},children:\"Crypto Locked in Escrow\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.7)'},children:\"This order is under dispute. Crypto is securely held in escrow until admin resolution.\"})]})]}),order.status!=='disputed'&&order.status!=='completed'&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1.5rem'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDisputeDialog(true),\"data-testid\":\"open-dispute-btn\",style:{padding:'0.875rem 1.5rem',background:'linear-gradient(135deg, #EF4444, #DC2626)',border:'none',borderRadius:'10px',color:'#FFFFFF',fontSize:'1rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoWarning,{size:20}),\"Open Dispute\"]})})]}),order.status==='disputed'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(245, 158, 11, 0.05), rgba(251, 191, 36, 0.05))',border:'2px solid rgba(245, 158, 11, 0.2)',borderRadius:'16px',padding:'2rem'},\"data-testid\":\"dispute-section\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.375rem',fontWeight:'700',color:'#FFFFFF'},children:\"Dispute & Evidence\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowEvidenceDialog(true),\"data-testid\":\"upload-evidence-btn\",style:{padding:'0.75rem 1.25rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'10px',color:'#F59E0B',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:18}),\"Upload Evidence\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.25rem',background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px',marginBottom:'1.5rem',display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(IoDocument,{size:28,color:\"#F59E0B\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',fontWeight:'700',color:'#FFFFFF',marginBottom:'0.25rem'},children:\"Provide Evidence\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.7)'},children:\"Upload bank transfer screenshots, receipts, or any proof to support your case. Admin will review all evidence.\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.2)',borderRadius:'10px',padding:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(IoChatbubbles,{size:20,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'1.125rem',fontWeight:'700',color:'#FFFFFF'},children:\"Dispute Chat\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'200px',maxHeight:'400px',overflowY:'auto',marginBottom:'1rem',padding:'1rem',background:'rgba(0, 0, 0, 0.3)',borderRadius:'8px'},children:messages.length>0?messages.map(msg=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',padding:'0.875rem',background:msg.sender_address===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id)?'rgba(0, 240, 255, 0.1)':'rgba(168, 85, 247, 0.1)',borderRadius:'8px',borderLeft:\"4px solid \".concat(msg.sender_address===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id)?'#00F0FF':'#A855F7')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'700',color:msg.sender_address===(currentUser===null||currentUser===void 0?void 0:currentUser.user_id)?'#00F0FF':'#A855F7',textTransform:'uppercase'},children:msg.sender_role}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'rgba(255,255,255,0.6)'},children:new Date(msg.created_at).toLocaleTimeString()})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#FFFFFF',fontSize:'0.9375rem'},children:msg.message})]},msg.message_id)):/*#__PURE__*/_jsx(\"p\",{style:{color:'rgba(255,255,255,0.6)',textAlign:'center',padding:'2rem'},children:\"No messages yet. Start the conversation.\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Type your message...\",value:newMessage,onChange:e=>setNewMessage(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSendMessage(),\"data-testid\":\"chat-input\",style:{flex:1,padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none'}}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleSendMessage,\"data-testid\":\"send-message-btn\",style:{padding:'0.875rem 1.5rem',background:'linear-gradient(135deg, #00F0FF, #00B8E6)',border:'none',borderRadius:'8px',color:'#000000',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(IoSend,{size:18}),\"Send\"]})]})]})]}),showDisputeDialog&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},onClick:()=>setShowDisputeDialog(false),\"data-testid\":\"dispute-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',width:'100%',background:'linear-gradient(135deg, rgba(30, 39, 73, 0.95), rgba(20, 27, 50, 0.95))',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'16px',padding:'2rem',maxHeight:'90vh',overflowY:'auto'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF'},children:\"Open Dispute\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDisputeDialog(false),style:{background:'none',border:'none',color:'rgba(255,255,255,0.6)',cursor:'pointer'},children:/*#__PURE__*/_jsx(IoClose,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',marginBottom:'1.5rem',display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoWarning,{size:20,color:\"#F59E0B\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.9)'},children:\"Only open a dispute if there is a genuine issue. False disputes may affect your account.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.9375rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Reason for Dispute *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Explain the issue (e.g., Payment sent but seller not releasing crypto, No payment received, etc.)\",value:disputeReason,onChange:e=>setDisputeReason(e.target.value),rows:5,\"data-testid\":\"dispute-reason-input\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDisputeDialog(false),style:{flex:1,padding:'0.875rem',background:'rgba(255, 255, 255, 0.1)',border:'2px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleInitiateDispute,disabled:processing,\"data-testid\":\"submit-dispute-btn\",style:{flex:1,padding:'0.875rem',background:processing?'rgba(239, 68, 68, 0.5)':'linear-gradient(135deg, #EF4444, #DC2626)',border:'none',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',fontWeight:'600',cursor:processing?'not-allowed':'pointer'},children:processing?'Opening...':'Open Dispute'})]})]})}),showEvidenceDialog&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},onClick:()=>setShowEvidenceDialog(false),\"data-testid\":\"evidence-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'600px',width:'100%',background:'linear-gradient(135deg, rgba(30, 39, 73, 0.95), rgba(20, 27, 50, 0.95))',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'16px',padding:'2rem',maxHeight:'90vh',overflowY:'auto'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',fontWeight:'700',color:'#FFFFFF'},children:\"Upload Evidence\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEvidenceDialog(false),style:{background:'none',border:'none',color:'rgba(255,255,255,0.6)',cursor:'pointer'},children:/*#__PURE__*/_jsx(IoClose,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.9375rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Evidence Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:evidenceType,onChange:e=>setEvidenceType(e.target.value),\"data-testid\":\"evidence-type-select\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"screenshot\",children:\"Screenshot\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bank_statement\",children:\"Bank Statement\"}),/*#__PURE__*/_jsx(\"option\",{value:\"message\",children:\"Message/Email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',fontSize:'0.9375rem',fontWeight:'600',color:'#FFFFFF',marginBottom:'0.5rem'},children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Describe this evidence (e.g., Bank transfer confirmation showing payment of \\xA33000 to seller's account)\",value:evidenceDescription,onChange:e=>setEvidenceDescription(e.target.value),rows:4,\"data-testid\":\"evidence-description-input\",style:{width:'100%',padding:'0.875rem',background:'rgba(0, 0, 0, 0.3)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',outline:'none',resize:'vertical'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(245, 158, 11, 0.1)',border:'2px solid rgba(245, 158, 11, 0.3)',borderRadius:'8px',marginBottom:'1.5rem',display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoCloudUpload,{size:20,color:\"#F59E0B\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'rgba(255,255,255,0.9)'},children:\"In production: Upload actual files here. For this demo, description is sufficient.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEvidenceDialog(false),style:{flex:1,padding:'0.875rem',background:'rgba(255, 255, 255, 0.1)',border:'2px solid rgba(255, 255, 255, 0.2)',borderRadius:'8px',color:'#FFFFFF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer'},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleUploadEvidence,disabled:processing,\"data-testid\":\"submit-evidence-btn\",style:{flex:1,padding:'0.875rem',background:processing?'rgba(245, 158, 11, 0.5)':'linear-gradient(135deg, #F59E0B, #F97316)',border:'none',borderRadius:'8px',color:'#000000',fontSize:'0.9375rem',fontWeight:'600',cursor:processing?'not-allowed':'pointer'},children:processing?'Uploading...':'Upload Evidence'})]})]})})]})});}","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Layout","IoChatbubbles","IoCheckmark","Check","IoCheckmarkCircle","IoClose","IoCloudUpload","IoDocument","IoSend","IoTime","IoWarning","axios","toast","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","OrderDetails","_order$fiat_amount","orderId","navigate","order","setOrder","dispute","setDispute","loading","setLoading","showDisputeDialog","setShowDisputeDialog","showEvidenceDialog","setShowEvidenceDialog","disputeReason","setDisputeReason","evidenceDescription","setEvidenceDescription","evidenceType","setEvidenceType","messages","setMessages","newMessage","setNewMessage","processing","setProcessing","currentUser","setCurrentUser","userData","localStorage","getItem","user","JSON","parse","fetchOrderDetails","user_id","userId","ordersResp","get","concat","allOrders","data","buy_orders","sell_orders","foundOrder","find","o","order_id","error","console","handleInitiateDispute","trim","response","post","user_address","reason","success","_error$response","_error$response$data","detail","handleUploadEvidence","dispute_id","uploaded_by","evidence_type","description","file_url","handleSendMessage","userRole","buyer_id","sender_address","sender_role","message","children","style","display","alignItems","justifyContent","minHeight","width","height","border","borderTopColor","borderRadius","animation","maxWidth","margin","padding","textAlign","background","size","color","marginBottom","fontSize","fontWeight","onClick","cursor","marginTop","isBuyer","getStatusColor","status","getStatusIcon","flexWrap","gap","WebkitBackgroundClip","WebkitTextFillColor","slice","textTransform","replace","gridTemplateColumns","crypto_amount","crypto_currency","fiat_amount","toLocaleString","fontFamily","seller_id","maxHeight","overflowY","length","map","msg","borderLeft","Date","created_at","toLocaleTimeString","message_id","type","placeholder","value","onChange","e","target","onKeyPress","key","flex","outline","position","top","left","right","bottom","zIndex","stopPropagation","flexShrink","rows","resize","disabled"],"sources":["/app/frontend/src/pages/OrderDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Layout from '@/components/Layout';\nimport { IoChatbubbles, IoCheckmark as Check, IoCheckmarkCircle, IoClose, IoCloudUpload, IoDocument, IoSend, IoTime, IoWarning } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = BACKEND_URL;\n\nexport default function OrderDetails() {\n  const { orderId } = useParams();\n  const navigate = useNavigate();\n  const [order, setOrder] = useState(null);\n  const [dispute, setDispute] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [showDisputeDialog, setShowDisputeDialog] = useState(false);\n  const [showEvidenceDialog, setShowEvidenceDialog] = useState(false);\n  const [disputeReason, setDisputeReason] = useState('');\n  const [evidenceDescription, setEvidenceDescription] = useState('');\n  const [evidenceType, setEvidenceType] = useState('screenshot');\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    const userData = localStorage.getItem('cryptobank_user');\n    if (!userData) {\n      navigate('/');\n      return;\n    }\n    const user = JSON.parse(userData);\n    setCurrentUser(user);\n    fetchOrderDetails(user.user_id);\n  }, [orderId, navigate]);\n\n  const fetchOrderDetails = async (userId) => {\n    try {\n      const ordersResp = await axios.get(`${API}/crypto-market/orders/${userId}`);\n      const allOrders = [...ordersResp.data.buy_orders, ...ordersResp.data.sell_orders];\n      const foundOrder = allOrders.find(o => o.order_id === orderId);\n      \n      if (foundOrder) {\n        setOrder(foundOrder);\n      }\n    } catch (error) {\n      console.error('Error fetching order:', error);\n      toast.error('Failed to load order details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInitiateDispute = async () => {\n    if (!disputeReason.trim()) {\n      toast.error('Please provide a reason for the dispute');\n      return;\n    }\n\n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/disputes/initiate`, {\n        user_address: currentUser.user_id,\n        order_id: orderId,\n        reason: disputeReason,\n      });\n\n      if (response.data.success) {\n        toast.success('Dispute opened! Crypto is now locked in escrow.');\n        setShowDisputeDialog(false);\n        setDisputeReason('');\n        setDispute(response.data.dispute);\n        fetchOrderDetails(currentUser.user_id);\n      }\n    } catch (error) {\n      console.error('Error initiating dispute:', error);\n      toast.error(error.response?.data?.detail || 'Failed to initiate dispute');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleUploadEvidence = async () => {\n    if (!evidenceDescription.trim()) {\n      toast.error('Please provide evidence description');\n      return;\n    }\n\n    if (!dispute) {\n      toast.error('No active dispute found');\n      return;\n    }\n\n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/disputes/evidence`, {\n        dispute_id: dispute.dispute_id,\n        uploaded_by: currentUser.user_id,\n        evidence_type: evidenceType,\n        description: evidenceDescription,\n        file_url: null,\n      });\n\n      if (response.data.success) {\n        toast.success('Evidence uploaded successfully');\n        setShowEvidenceDialog(false);\n        setEvidenceDescription('');\n      }\n    } catch (error) {\n      console.error('Error uploading evidence:', error);\n      toast.error('Failed to upload evidence');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || !dispute) return;\n\n    try {\n      const userRole = order.buyer_id === currentUser.user_id ? 'buyer' : 'seller';\n      \n      const response = await axios.post(`${API}/disputes/message`, {\n        dispute_id: dispute.dispute_id,\n        sender_address: currentUser.user_id,\n        sender_role: userRole,\n        message: newMessage,\n      });\n\n      if (response.data.success) {\n        setMessages([...messages, response.data.message]);\n        setNewMessage('');\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      toast.error('Failed to send message');\n    }\n  };\n\n  if (loading) {\n    return (\n      <Layout>\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', minHeight: '60vh' }} data-testid=\"loading-spinner\">\n          <div style={{\n            width: '48px',\n            height: '48px',\n            border: '4px solid rgba(0, 240, 255, 0.3)',\n            borderTopColor: '#00F0FF',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite'\n          }}></div>\n        </div>\n      </Layout>\n    );\n  }\n\n  if (!order) {\n    return (\n      <Layout>\n        <div style={{\n          maxWidth: '600px',\n          margin: '4rem auto',\n          padding: '3rem 2rem',\n          textAlign: 'center',\n          background: 'linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))',\n          border: '2px solid rgba(239, 68, 68, 0.3)',\n          borderRadius: '16px'\n        }}>\n          <IoWarning size={64} color=\"#EF4444\" style={{ marginBottom: '1.5rem' }} />\n          <h3 style={{ fontSize: '1.5rem', fontWeight: '700', color: '#FFFFFF', marginBottom: '1rem' }}>Order Not Found</h3>\n          <button\n            onClick={() => navigate('/my-orders')}\n            style={{\n              padding: '0.75rem 2rem',\n              background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n              border: 'none',\n              borderRadius: '10px',\n              color: '#000000',\n              fontSize: '1rem',\n              fontWeight: '600',\n              cursor: 'pointer',\n              marginTop: '1rem'\n            }}\n          >\n            Go Back\n          </button>\n        </div>\n      </Layout>\n    );\n  }\n\n  const isBuyer = order.buyer_id === currentUser?.user_id;\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'completed': return '#22C55E';\n      case 'disputed': return '#F59E0B';\n      case 'cancelled': return '#EF4444';\n      default: return '#00F0FF';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'completed': return <IoCheckmarkCircle size={20} />;\n      case 'disputed': return <IoWarning size={20} />;\n      default: return <IoTime size={20} />;\n    }\n  };\n\n  return (\n    <Layout>\n      <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '2rem 1rem' }} data-testid=\"order-details-page\">\n        {/* Header */}\n        <div style={{ marginBottom: '2rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center', flexWrap: 'wrap', gap: '1rem' }}>\n          <div>\n            <h1 style={{ \n              fontSize: '2rem', \n              fontWeight: '900', \n              marginBottom: '0.5rem',\n              background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent'\n            }} data-testid=\"order-title\">\n              Order Details\n            </h1>\n            <p style={{ color: 'rgba(255,255,255,0.6)', fontSize: '0.875rem' }}>Order ID: {orderId.slice(0, 12)}...</p>\n          </div>\n          <button\n            onClick={() => navigate('/my-orders')}\n            style={{\n              padding: '0.75rem 1.5rem',\n              background: 'rgba(0, 240, 255, 0.1)',\n              border: '2px solid rgba(0, 240, 255, 0.3)',\n              borderRadius: '10px',\n              color: '#00F0FF',\n              fontSize: '0.9375rem',\n              fontWeight: '600',\n              cursor: 'pointer'\n            }}\n          >\n            Back to Orders\n          </button>\n        </div>\n\n        {/* Order Status Card */}\n        <div style={{\n          background: 'linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))',\n          border: '2px solid rgba(0, 240, 255, 0.2)',\n          borderRadius: '16px',\n          padding: '2rem',\n          marginBottom: '2rem'\n        }} data-testid=\"order-status\">\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem', flexWrap: 'wrap', gap: '1rem' }}>\n            <h3 style={{ fontSize: '1.375rem', fontWeight: '700', color: '#FFFFFF' }}>Order Status</h3>\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              padding: '0.5rem 1rem',\n              background: `${getStatusColor(order.status)}20`,\n              border: `2px solid ${getStatusColor(order.status)}`,\n              borderRadius: '10px',\n              color: getStatusColor(order.status),\n              fontWeight: '700',\n              fontSize: '0.875rem',\n              textTransform: 'uppercase'\n            }}>\n              {getStatusIcon(order.status)}\n              <span>{order.status.replace(/_/g, ' ')}</span>\n            </div>\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1.25rem' }}>\n            <div style={{ padding: '1rem', background: 'rgba(0, 0, 0, 0.2)', borderRadius: '10px' }}>\n              <div style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.6)', marginBottom: '0.5rem' }}>Amount</div>\n              <div style={{ fontSize: '1.25rem', fontWeight: '700', color: '#FFFFFF' }}>{order.crypto_amount} {order.crypto_currency}</div>\n            </div>\n            <div style={{ padding: '1rem', background: 'rgba(0, 0, 0, 0.2)', borderRadius: '10px' }}>\n              <div style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.6)', marginBottom: '0.5rem' }}>Total Price</div>\n              <div style={{ fontSize: '1.25rem', fontWeight: '700', color: '#FFFFFF' }}>Â£{order.fiat_amount?.toLocaleString()}</div>\n            </div>\n            <div style={{ padding: '1rem', background: 'rgba(0, 0, 0, 0.2)', borderRadius: '10px' }}>\n              <div style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.6)', marginBottom: '0.5rem' }}>{isBuyer ? 'Seller' : 'Buyer'}</div>\n              <div style={{ fontSize: '0.875rem', fontWeight: '600', color: '#FFFFFF', fontFamily: 'monospace' }}>\n                {isBuyer ? `${order.seller_id.slice(0, 8)}...` : `${order.buyer_id.slice(0, 8)}...`}\n              </div>\n            </div>\n          </div>\n\n          {order.status === 'disputed' && (\n            <div style={{\n              marginTop: '1.5rem',\n              padding: '1rem',\n              background: 'rgba(245, 158, 11, 0.1)',\n              border: '2px solid rgba(245, 158, 11, 0.3)',\n              borderRadius: '10px',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem'\n            }}>\n              <IoWarning size={24} color=\"#F59E0B\" />\n              <div>\n                <div style={{ fontSize: '1rem', fontWeight: '700', color: '#F59E0B', marginBottom: '0.25rem' }}>Crypto Locked in Escrow</div>\n                <div style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.7)' }}>This order is under dispute. Crypto is securely held in escrow until admin resolution.</div>\n              </div>\n            </div>\n          )}\n\n          {order.status !== 'disputed' && order.status !== 'completed' && (\n            <div style={{ marginTop: '1.5rem' }}>\n              <button\n                onClick={() => setShowDisputeDialog(true)}\n                data-testid=\"open-dispute-btn\"\n                style={{\n                  padding: '0.875rem 1.5rem',\n                  background: 'linear-gradient(135deg, #EF4444, #DC2626)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: '#FFFFFF',\n                  fontSize: '1rem',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem'\n                }}\n              >\n                <IoWarning size={20} />\n                Open Dispute\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Dispute Section */}\n        {order.status === 'disputed' && (\n          <div style={{\n            background: 'linear-gradient(135deg, rgba(245, 158, 11, 0.05), rgba(251, 191, 36, 0.05))',\n            border: '2px solid rgba(245, 158, 11, 0.2)',\n            borderRadius: '16px',\n            padding: '2rem'\n          }} data-testid=\"dispute-section\">\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\n              <h3 style={{ fontSize: '1.375rem', fontWeight: '700', color: '#FFFFFF' }}>Dispute & Evidence</h3>\n              <button\n                onClick={() => setShowEvidenceDialog(true)}\n                data-testid=\"upload-evidence-btn\"\n                style={{\n                  padding: '0.75rem 1.25rem',\n                  background: 'rgba(245, 158, 11, 0.1)',\n                  border: '2px solid rgba(245, 158, 11, 0.3)',\n                  borderRadius: '10px',\n                  color: '#F59E0B',\n                  fontSize: '0.9375rem',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem'\n                }}\n              >\n                <IoCloudUpload size={18} />\n                Upload Evidence\n              </button>\n            </div>\n\n            <div style={{\n              padding: '1.25rem',\n              background: 'rgba(0, 0, 0, 0.2)',\n              borderRadius: '10px',\n              marginBottom: '1.5rem',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '1rem'\n            }}>\n              <IoDocument size={28} color=\"#F59E0B\" />\n              <div>\n                <div style={{ fontSize: '1rem', fontWeight: '700', color: '#FFFFFF', marginBottom: '0.25rem' }}>Provide Evidence</div>\n                <div style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.7)' }}>Upload bank transfer screenshots, receipts, or any proof to support your case. Admin will review all evidence.</div>\n              </div>\n            </div>\n\n            {/* Dispute Chat */}\n            <div style={{\n              background: 'rgba(0, 0, 0, 0.2)',\n              borderRadius: '10px',\n              padding: '1.5rem'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '1rem' }}>\n                <IoChatbubbles size={20} color=\"#00F0FF\" />\n                <h4 style={{ fontSize: '1.125rem', fontWeight: '700', color: '#FFFFFF' }}>Dispute Chat</h4>\n              </div>\n              \n              <div style={{ minHeight: '200px', maxHeight: '400px', overflowY: 'auto', marginBottom: '1rem', padding: '1rem', background: 'rgba(0, 0, 0, 0.3)', borderRadius: '8px' }}>\n                {messages.length > 0 ? (\n                  messages.map((msg) => (\n                    <div key={msg.message_id} style={{\n                      marginBottom: '1rem',\n                      padding: '0.875rem',\n                      background: msg.sender_address === currentUser?.user_id ? 'rgba(0, 240, 255, 0.1)' : 'rgba(168, 85, 247, 0.1)',\n                      borderRadius: '8px',\n                      borderLeft: `4px solid ${msg.sender_address === currentUser?.user_id ? '#00F0FF' : '#A855F7'}`\n                    }}>\n                      <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\n                        <span style={{ fontSize: '0.875rem', fontWeight: '700', color: msg.sender_address === currentUser?.user_id ? '#00F0FF' : '#A855F7', textTransform: 'uppercase' }}>{msg.sender_role}</span>\n                        <span style={{ fontSize: '0.75rem', color: 'rgba(255,255,255,0.6)' }}>{new Date(msg.created_at).toLocaleTimeString()}</span>\n                      </div>\n                      <p style={{ color: '#FFFFFF', fontSize: '0.9375rem' }}>{msg.message}</p>\n                    </div>\n                  ))\n                ) : (\n                  <p style={{ color: 'rgba(255,255,255,0.6)', textAlign: 'center', padding: '2rem' }}>No messages yet. Start the conversation.</p>\n                )}\n              </div>\n\n              <div style={{ display: 'flex', gap: '0.75rem' }}>\n                <input\n                  type=\"text\"\n                  placeholder=\"Type your message...\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                  data-testid=\"chat-input\"\n                  style={{\n                    flex: 1,\n                    padding: '0.875rem',\n                    background: 'rgba(0, 0, 0, 0.3)',\n                    border: '2px solid rgba(0, 240, 255, 0.3)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    outline: 'none'\n                  }}\n                />\n                <button\n                  onClick={handleSendMessage}\n                  data-testid=\"send-message-btn\"\n                  style={{\n                    padding: '0.875rem 1.5rem',\n                    background: 'linear-gradient(135deg, #00F0FF, #00B8E6)',\n                    border: 'none',\n                    borderRadius: '8px',\n                    color: '#000000',\n                    fontSize: '0.9375rem',\n                    fontWeight: '600',\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem'\n                  }}\n                >\n                  <IoSend size={18} />\n                  Send\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Dispute Dialog */}\n        {showDisputeDialog && (\n          <div style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(0, 0, 0, 0.8)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n            padding: '1rem'\n          }} onClick={() => setShowDisputeDialog(false)} data-testid=\"dispute-dialog\">\n            <div style={{\n              maxWidth: '600px',\n              width: '100%',\n              background: 'linear-gradient(135deg, rgba(30, 39, 73, 0.95), rgba(20, 27, 50, 0.95))',\n              border: '2px solid rgba(0, 240, 255, 0.3)',\n              borderRadius: '16px',\n              padding: '2rem',\n              maxHeight: '90vh',\n              overflowY: 'auto'\n            }} onClick={(e) => e.stopPropagation()}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\n                <h3 style={{ fontSize: '1.5rem', fontWeight: '700', color: '#FFFFFF' }}>Open Dispute</h3>\n                <button onClick={() => setShowDisputeDialog(false)} style={{ background: 'none', border: 'none', color: 'rgba(255,255,255,0.6)', cursor: 'pointer' }}>\n                  <IoClose size={24} />\n                </button>\n              </div>\n              \n              <div style={{ padding: '1rem', background: 'rgba(245, 158, 11, 0.1)', border: '2px solid rgba(245, 158, 11, 0.3)', borderRadius: '8px', marginBottom: '1.5rem', display: 'flex', gap: '0.75rem' }}>\n                <IoWarning size={20} color=\"#F59E0B\" style={{ flexShrink: 0, marginTop: '2px' }} />\n                <p style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.9)' }}>Only open a dispute if there is a genuine issue. False disputes may affect your account.</p>\n              </div>\n\n              <div style={{ marginBottom: '1.5rem' }}>\n                <label style={{ display: 'block', fontSize: '0.9375rem', fontWeight: '600', color: '#FFFFFF', marginBottom: '0.5rem' }}>Reason for Dispute *</label>\n                <textarea\n                  placeholder=\"Explain the issue (e.g., Payment sent but seller not releasing crypto, No payment received, etc.)\"\n                  value={disputeReason}\n                  onChange={(e) => setDisputeReason(e.target.value)}\n                  rows={5}\n                  data-testid=\"dispute-reason-input\"\n                  style={{\n                    width: '100%',\n                    padding: '0.875rem',\n                    background: 'rgba(0, 0, 0, 0.3)',\n                    border: '2px solid rgba(0, 240, 255, 0.3)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    outline: 'none',\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n\n              <div style={{ display: 'flex', gap: '0.75rem' }}>\n                <button\n                  onClick={() => setShowDisputeDialog(false)}\n                  style={{\n                    flex: 1,\n                    padding: '0.875rem',\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    border: '2px solid rgba(255, 255, 255, 0.2)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    fontWeight: '600',\n                    cursor: 'pointer'\n                  }}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleInitiateDispute}\n                  disabled={processing}\n                  data-testid=\"submit-dispute-btn\"\n                  style={{\n                    flex: 1,\n                    padding: '0.875rem',\n                    background: processing ? 'rgba(239, 68, 68, 0.5)' : 'linear-gradient(135deg, #EF4444, #DC2626)',\n                    border: 'none',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    fontWeight: '600',\n                    cursor: processing ? 'not-allowed' : 'pointer'\n                  }}\n                >\n                  {processing ? 'Opening...' : 'Open Dispute'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Evidence Dialog */}\n        {showEvidenceDialog && (\n          <div style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(0, 0, 0, 0.8)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n            padding: '1rem'\n          }} onClick={() => setShowEvidenceDialog(false)} data-testid=\"evidence-dialog\">\n            <div style={{\n              maxWidth: '600px',\n              width: '100%',\n              background: 'linear-gradient(135deg, rgba(30, 39, 73, 0.95), rgba(20, 27, 50, 0.95))',\n              border: '2px solid rgba(245, 158, 11, 0.3)',\n              borderRadius: '16px',\n              padding: '2rem',\n              maxHeight: '90vh',\n              overflowY: 'auto'\n            }} onClick={(e) => e.stopPropagation()}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\n                <h3 style={{ fontSize: '1.5rem', fontWeight: '700', color: '#FFFFFF' }}>Upload Evidence</h3>\n                <button onClick={() => setShowEvidenceDialog(false)} style={{ background: 'none', border: 'none', color: 'rgba(255,255,255,0.6)', cursor: 'pointer' }}>\n                  <IoClose size={24} />\n                </button>\n              </div>\n              \n              <div style={{ marginBottom: '1.5rem' }}>\n                <label style={{ display: 'block', fontSize: '0.9375rem', fontWeight: '600', color: '#FFFFFF', marginBottom: '0.5rem' }}>Evidence Type</label>\n                <select\n                  value={evidenceType}\n                  onChange={(e) => setEvidenceType(e.target.value)}\n                  data-testid=\"evidence-type-select\"\n                  style={{\n                    width: '100%',\n                    padding: '0.875rem',\n                    background: 'rgba(0, 0, 0, 0.3)',\n                    border: '2px solid rgba(245, 158, 11, 0.3)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    outline: 'none'\n                  }}\n                >\n                  <option value=\"screenshot\">Screenshot</option>\n                  <option value=\"bank_statement\">Bank Statement</option>\n                  <option value=\"message\">Message/Email</option>\n                </select>\n              </div>\n\n              <div style={{ marginBottom: '1.5rem' }}>\n                <label style={{ display: 'block', fontSize: '0.9375rem', fontWeight: '600', color: '#FFFFFF', marginBottom: '0.5rem' }}>Description *</label>\n                <textarea\n                  placeholder=\"Describe this evidence (e.g., Bank transfer confirmation showing payment of Â£3000 to seller's account)\"\n                  value={evidenceDescription}\n                  onChange={(e) => setEvidenceDescription(e.target.value)}\n                  rows={4}\n                  data-testid=\"evidence-description-input\"\n                  style={{\n                    width: '100%',\n                    padding: '0.875rem',\n                    background: 'rgba(0, 0, 0, 0.3)',\n                    border: '2px solid rgba(245, 158, 11, 0.3)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    outline: 'none',\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n\n              <div style={{ padding: '1rem', background: 'rgba(245, 158, 11, 0.1)', border: '2px solid rgba(245, 158, 11, 0.3)', borderRadius: '8px', marginBottom: '1.5rem', display: 'flex', gap: '0.75rem' }}>\n                <IoCloudUpload size={20} color=\"#F59E0B\" style={{ flexShrink: 0, marginTop: '2px' }} />\n                <p style={{ fontSize: '0.875rem', color: 'rgba(255,255,255,0.9)' }}>In production: Upload actual files here. For this demo, description is sufficient.</p>\n              </div>\n\n              <div style={{ display: 'flex', gap: '0.75rem' }}>\n                <button\n                  onClick={() => setShowEvidenceDialog(false)}\n                  style={{\n                    flex: 1,\n                    padding: '0.875rem',\n                    background: 'rgba(255, 255, 255, 0.1)',\n                    border: '2px solid rgba(255, 255, 255, 0.2)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '0.9375rem',\n                    fontWeight: '600',\n                    cursor: 'pointer'\n                  }}\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={handleUploadEvidence}\n                  disabled={processing}\n                  data-testid=\"submit-evidence-btn\"\n                  style={{\n                    flex: 1,\n                    padding: '0.875rem',\n                    background: processing ? 'rgba(245, 158, 11, 0.5)' : 'linear-gradient(135deg, #F59E0B, #F97316)',\n                    border: 'none',\n                    borderRadius: '8px',\n                    color: '#000000',\n                    fontSize: '0.9375rem',\n                    fontWeight: '600',\n                    cursor: processing ? 'not-allowed' : 'pointer'\n                  }}\n                >\n                  {processing ? 'Uploading...' : 'Upload Evidence'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}