{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'sonner';import CHXButton from'@/components/CHXButton';import DualCurrencyInput from'@/components/DualCurrencyInput';import{IoAlertCircle as AlertCircle,IoArrowDown as ArrowDownUp,IoCash,IoCheckmark as Check,IoCheckmarkCircle,IoChevronDown,IoFlash,IoInformationCircle,IoRefresh as RefreshCw,IoSettings,IoShield,IoTime,IoTrendingUp}from'react-icons/io5';import{notifyWalletBalanceUpdated}from'@/utils/walletEvents';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;const getCoinLogo=symbol=>\"/crypto-logos/\".concat(symbol===null||symbol===void 0?void 0:symbol.toLowerCase(),\".png\");function SwapCrypto(){var _prices$toCrypto;const navigate=useNavigate();const[cryptos,setCryptos]=useState([{code:'BTC',name:'Bitcoin',color:'#F7931A'},{code:'ETH',name:'Ethereum',color:'#627EEA'},{code:'USDT',name:'Tether',color:'#26A17B'},{code:'USDC',name:'USD Coin',color:'#2775CA'},{code:'BNB',name:'Binance Coin',color:'#F3BA2F'},{code:'SOL',name:'Solana',color:'#14F195'},{code:'XRP',name:'Ripple',color:'#00AAE4'},{code:'ADA',name:'Cardano',color:'#0033AD'},{code:'DOGE',name:'Dogecoin',color:'#C2A633'}]);const[fromCrypto,setFromCrypto]=useState('BTC');const[toCrypto,setToCrypto]=useState('ETH');const[fromAmount,setFromAmount]=useState('');const[toAmount,setToAmount]=useState('');const[loading,setLoading]=useState(false);const[swapping,setSwapping]=useState(false);const[prices,setPrices]=useState(null);const[lastUpdate,setLastUpdate]=useState(null);const[exchangeRate,setExchangeRate]=useState(0);const[slippage,setSlippage]=useState(0.5);const[showSettings,setShowSettings]=useState(false);const[recentSwaps,setRecentSwaps]=useState([]);const[tickerData,setTickerData]=useState([]);const[walletBalances,setWalletBalances]=useState({});const[inputType,setInputType]=useState('crypto');// 'crypto' or 'fiat'\nconst[selectedFiat,setSelectedFiat]=useState('GBP');const[swapSuccess,setSwapSuccess]=useState(null);// Local success message\nconst isMobile=window.innerWidth<768;useEffect(()=>{fetchAvailableCryptos();fetchRecentSwaps();fetchWalletBalances();},[]);useEffect(()=>{fetchPrices();const interval=setInterval(fetchPrices,10000);return()=>clearInterval(interval);},[]);useEffect(()=>{if(fromAmount&&prices){calculateToAmount();}},[fromAmount,fromCrypto,toCrypto,prices]);const fetchWalletBalances=async()=>{try{const userData=localStorage.getItem('cryptobank_user');const user=userData?JSON.parse(userData):null;if(user!==null&&user!==void 0&&user.user_id){const response=await axios.get(\"\".concat(API,\"/api/wallets/balances/\").concat(user.user_id));if(response.data.success){const balances={};response.data.balances.forEach(bal=>{balances[bal.currency]=bal.available_balance||0;});setWalletBalances(balances);}}}catch(error){console.error('Error fetching wallet balances:',error);}};const fetchAvailableCryptos=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/swap/available-coins\"));if(response.data.success&&response.data.coins_detailed.length>0){const cryptoList=response.data.coins_detailed.map(coin=>({code:coin.symbol,name:coin.name,color:coin.color||'#00F0FF',logo:getCoinLogo(coin.symbol)}));setCryptos(cryptoList);}}catch(error){console.error('Error fetching available cryptos:',error);}};const fetchPrices=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/prices/live\"));if(response.data.success&&response.data.prices){setPrices(response.data.prices);setLastUpdate(new Date());// Update ticker data with REAL prices and changes\nconst ticker=cryptos.map(crypto=>{const priceData=response.data.prices[crypto.code];return _objectSpread(_objectSpread({},crypto),{},{price:(priceData===null||priceData===void 0?void 0:priceData.price_gbp)||0,change:(priceData===null||priceData===void 0?void 0:priceData.change_24h)||0});});setTickerData(ticker);}}catch(error){console.error('Error fetching prices:',error);}};const fetchRecentSwaps=async()=>{try{const userData=localStorage.getItem('cryptobank_user');if(!userData)return;const user=JSON.parse(userData);const response=await axios.get(\"\".concat(API,\"/api/swap/history/\").concat(user.user_id,\"?limit=5\"));if(response.data.success){setRecentSwaps(response.data.swaps||[]);}}catch(error){console.error('Error fetching recent swaps:',error);}};const calculateToAmount=()=>{if(!fromAmount||!prices)return;const fromPriceData=prices[fromCrypto];const toPriceData=prices[toCrypto];const fromPrice=(fromPriceData===null||fromPriceData===void 0?void 0:fromPriceData.price_gbp)||0;const toPrice=(toPriceData===null||toPriceData===void 0?void 0:toPriceData.price_gbp)||0;if(fromPrice&&toPrice){const rate=fromPrice/toPrice;setExchangeRate(rate);const calculated=(parseFloat(fromAmount)*rate).toFixed(8);setToAmount(calculated);}};const handleSwap=async()=>{// COMPREHENSIVE VALIDATION - Prevent all customer issues\n// 1. Validate amount exists and is valid\nif(!fromAmount||isNaN(parseFloat(fromAmount))||parseFloat(fromAmount)<=0){toast.error('Please enter a valid amount');console.error('Invalid amount:',fromAmount);return;}// 2. fromAmount is already in crypto (converted by DualCurrencyInput)\nconst actualCryptoAmount=parseFloat(fromAmount);// 3. Check if user has enough balance\nconst availableBalance=walletBalances[fromCrypto]||0;// 4. Check zero balance\nif(availableBalance===0){toast.error(\"You have no \".concat(fromCrypto,\" to swap. Please select a currency you own or deposit \").concat(fromCrypto,\" first.\"));return;}// 5. Check insufficient balance with helpful message\nif(actualCryptoAmount>availableBalance){var _prices$fromCrypto;const maxFiat=(availableBalance*(((_prices$fromCrypto=prices[fromCrypto])===null||_prices$fromCrypto===void 0?void 0:_prices$fromCrypto.price_gbp)||0)).toFixed(2);toast.error(\"Insufficient \".concat(fromCrypto,\" balance. You have \").concat(availableBalance.toFixed(8),\" \").concat(fromCrypto,\" (\\u2248\\xA3\").concat(maxFiat,\"). Please enter a smaller amount.\"));return;}// 6. Validate prices are available\nif(!prices||!prices[fromCrypto]||!prices[toCrypto]){toast.error('Price data not available. Please wait and try again.');console.error('Price data missing:',{prices,fromCrypto,toCrypto});return;}try{setSwapping(true);const userData=localStorage.getItem('cryptobank_user');if(!userData){toast.error('Please login to swap');return;}const user=JSON.parse(userData);const response=await axios.post(\"\".concat(API,\"/api/swap/execute\"),{user_id:user.user_id,from_currency:fromCrypto,to_currency:toCrypto,from_amount:actualCryptoAmount,slippage_percent:slippage});if(response.data.success){// Show local success message in the swap box\nsetSwapSuccess({message:\"Swap completed! Received \".concat(response.data.to_amount.toFixed(8),\" \").concat(toCrypto),fromAmount:actualCryptoAmount,toAmount:response.data.to_amount});// Clear after 5 seconds\nsetTimeout(()=>setSwapSuccess(null),5000);setFromAmount('');setToAmount('');fetchRecentSwaps();fetchWalletBalances();// Refresh balances\nnotifyWalletBalanceUpdated();// Notify other components to refresh\n}else{toast.error(response.data.message||'Swap failed');}}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error('Swap error:',error);const errorMsg=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Swap failed';toast.error(errorMsg);}finally{setSwapping(false);}};const flipCurrencies=()=>{const tempCrypto=fromCrypto;const tempAmount=fromAmount;setFromCrypto(toCrypto);setToCrypto(tempCrypto);setFromAmount(toAmount);setToAmount(tempAmount);};const getFromCrypto=()=>cryptos.find(c=>c.code===fromCrypto)||cryptos[0];const getToCrypto=()=>cryptos.find(c=>c.code===toCrypto)||cryptos[1];const platformFee=0.1;const estimatedReceive=toAmount?(parseFloat(toAmount)*(1-platformFee/100)).toFixed(8):'0.00';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(180deg, #020618 0%, #071327 100%)',paddingBottom:'60px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{padding:isMobile?'16px':'24px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:isMobile?'28px':'40px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:isMobile?'column':'row',justifyContent:'space-between',alignItems:isMobile?'flex-start':'center',marginBottom:'16px',gap:isMobile?'16px':'0'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{style:{fontSize:isMobile?'32px':'42px',fontWeight:'700',color:'#FFFFFF',marginBottom:'8px',display:'flex',alignItems:'center',gap:'16px'},children:[/*#__PURE__*/_jsx(IoFlash,{size:isMobile?32:42,color:\"#00F0FF\",strokeWidth:2.5}),\"Crypto Swap\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:isMobile?'15px':'17px',color:'#8F9BB3',margin:0},children:\"Instant exchange with best rates and zero hidden fees\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'center',width:isMobile?'100%':'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:isMobile?'10px 14px':'12px 18px',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',display:'flex',alignItems:'center',gap:'8px',flex:isMobile?1:'auto',boxShadow:'0 0 20px rgba(0, 240, 255, 0.2)'},children:[/*#__PURE__*/_jsx(IoTime,{size:18,color:\"#00F0FF\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'12px':'13px',color:'#00F0FF',fontWeight:'600'},children:lastUpdate?lastUpdate.toLocaleTimeString():'Live'})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(!showSettings),style:{padding:isMobile?'10px':'12px',background:'rgba(0, 240, 255, 0.1)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'12px',cursor:'pointer',transition:'all 0.3s',boxShadow:'0 0 20px rgba(0, 240, 255, 0.2)'},children:/*#__PURE__*/_jsx(IoSettings,{size:20,color:\"#00F0FF\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'2px',background:'linear-gradient(90deg, transparent 0%, rgba(0, 240, 255, 0.6) 50%, transparent 100%)',boxShadow:'0 0 10px rgba(0, 240, 255, 0.5)'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:isMobile?'1fr':'1fr 380px',gap:isMobile?'24px':'32px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.95) 100%)',border:'2px solid rgba(0, 240, 255, 0.4)',borderRadius:'24px',padding:isMobile?'24px':'32px',marginBottom:isMobile?'20px':'32px',boxShadow:'0 0 60px rgba(0, 240, 255, 0.3), inset 0 0 40px rgba(0, 240, 255, 0.08)',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-40px',left:'50%',transform:'translateX(-50%)',width:'200px',height:'80px',background:'radial-gradient(circle, rgba(0, 240, 255, 0.4), transparent)',filter:'blur(40px)',pointerEvents:'none'}}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'18px',padding:isMobile?'20px':'24px',marginBottom:'24px',boxShadow:'inset 0 2px 10px rgba(0, 0, 0, 0.3)',maxWidth:isMobile?'100%':'600px',margin:'0 auto 24px auto'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'13px':'14px',color:'#8F9BB3',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px',display:'block'},children:\"From\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'8px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',background:'rgba(0, 240, 255, 0.1)',padding:isMobile?'10px 14px':'12px 16px',borderRadius:'12px',border:'1px solid rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"img\",{src:getCoinLogo(fromCrypto),alt:fromCrypto,style:{width:'28px',height:'28px',objectFit:'contain'}}),/*#__PURE__*/_jsx(\"select\",{value:fromCrypto,onChange:e=>setFromCrypto(e.target.value),style:{background:'transparent',border:'none',color:'#FFFFFF',fontSize:isMobile?'16px':'18px',fontWeight:'700',cursor:'pointer',outline:'none'},children:cryptos.map(crypto=>/*#__PURE__*/_jsx(\"option\",{value:crypto.code,children:crypto.code},crypto.code))})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'16px',padding:'10px',background:(walletBalances[fromCrypto]||0)===0?'rgba(255, 59, 48, 0.1)':'rgba(0, 240, 255, 0.05)',borderRadius:'10px',border:\"1px solid \".concat((walletBalances[fromCrypto]||0)===0?'rgba(255, 59, 48, 0.3)':'rgba(0, 240, 255, 0.2)')},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#8F9BB3',marginBottom:'4px'},children:\"Available Balance\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'18px':'20px',fontWeight:'700',color:(walletBalances[fromCrypto]||0)===0?'#FF3B30':'#00F0FF'},children:[(walletBalances[fromCrypto]||0).toFixed(8),\" \",fromCrypto]}),prices&&prices[fromCrypto]&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',color:'#8F9BB3',marginTop:'4px'},children:[\"\\u2248 \\xA3\",((walletBalances[fromCrypto]||0)*prices[fromCrypto].price_gbp).toFixed(2)]}),(walletBalances[fromCrypto]||0)===0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#FF3B30',marginBottom:'8px',fontWeight:'600'},children:[\"\\u26A0\\uFE0F No \",fromCrypto,\" to swap\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/p2p-express'),style:{background:'linear-gradient(135deg, #00F0FF, #9B4DFF)',border:'none',borderRadius:'10px',padding:isMobile?'10px 20px':'8px 16px',color:'#FFFFFF',fontSize:isMobile?'14px':'13px',fontWeight:'700',cursor:'pointer',boxShadow:'0 4px 15px rgba(0, 240, 255, 0.3)',transition:'all 0.3s',width:isMobile?'100%':'auto'},onMouseEnter:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 6px 20px rgba(0, 240, 255, 0.5)';}},onMouseLeave:e=>{if(!isMobile){e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 4px 15px rgba(0, 240, 255, 0.3)';}},children:[\"Buy \",fromCrypto,\" Now \\u2192\"]})]})]}),/*#__PURE__*/_jsx(DualCurrencyInput,{cryptoSymbol:fromCrypto,fiatCurrency:selectedFiat,onFiatChange:amount=>{const cryptoAmt=amount&&prices[fromCrypto]?amount/prices[fromCrypto].price_gbp:0;setFromAmount(cryptoAmt.toString());},onCryptoChange:amount=>{setFromAmount(amount.toString());},initialFiatAmount:\"\",initialCryptoAmount:fromAmount,fee:1.5,availableBalance:walletBalances[fromCrypto]||0,balanceInCrypto:true,label:\"\",showCurrencySelector:true})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',margin:'-8px 0 -8px 0',position:'relative',zIndex:10},children:/*#__PURE__*/_jsx(\"button\",{onClick:flipCurrencies,style:{width:isMobile?'42px':'46px',height:isMobile?'42px':'46px',borderRadius:'50%',background:'linear-gradient(135deg, #00F0FF, #9B4DFF)',border:'3px solid #071327',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',transition:'all 0.3s',boxShadow:'0 0 20px rgba(0, 240, 255, 0.5), 0 0 40px rgba(155, 77, 255, 0.3)',position:'relative'},onMouseEnter:e=>{e.currentTarget.style.transform='rotate(180deg) scale(1.1)';e.currentTarget.style.boxShadow='0 0 30px rgba(0, 240, 255, 0.7), 0 0 60px rgba(155, 77, 255, 0.5)';},onMouseLeave:e=>{e.currentTarget.style.transform='rotate(0deg) scale(1)';e.currentTarget.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.5), 0 0 40px rgba(155, 77, 255, 0.3)';},children:/*#__PURE__*/_jsx(ArrowDownUp,{size:isMobile?20:22,color:\"white\",strokeWidth:3})})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(155, 77, 255, 0.3)',borderRadius:'18px',padding:isMobile?'20px':'24px',marginTop:'24px',boxShadow:'inset 0 2px 10px rgba(0, 0, 0, 0.3)',maxWidth:isMobile?'100%':'600px',margin:'24px auto 0 auto'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px'},children:/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'13px':'14px',color:'#8F9BB3',fontWeight:'600',textTransform:'uppercase',letterSpacing:'0.5px',display:'block'},children:\"To\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'16px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'10px',background:'rgba(155, 77, 255, 0.1)',padding:isMobile?'10px 14px':'12px 16px',borderRadius:'12px',border:'1px solid rgba(155, 77, 255, 0.3)'},children:[/*#__PURE__*/_jsx(\"img\",{src:getCoinLogo(toCrypto),alt:toCrypto,style:{width:'28px',height:'28px',objectFit:'contain'}}),/*#__PURE__*/_jsx(\"select\",{value:toCrypto,onChange:e=>setToCrypto(e.target.value),style:{background:'transparent',border:'none',color:'#FFFFFF',fontSize:isMobile?'16px':'18px',fontWeight:'700',cursor:'pointer',outline:'none'},children:cryptos.map(crypto=>/*#__PURE__*/_jsx(\"option\",{value:crypto.code,children:crypto.code},crypto.code))})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#0B1B2A',border:'1px solid rgba(155, 77, 255, 0.3)',borderRadius:'12px',padding:isMobile?'16px':'18px',display:'flex',alignItems:'center',justifyContent:'space-between',gap:'12px',maxWidth:'100%',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:isMobile?'12px':'13px',color:'#8F9BB3',fontWeight:'600'},children:\"You Receive:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:toAmount,readOnly:true,placeholder:\"0.00\",style:{flex:1,background:'transparent',border:'none',color:'#9B4DFF',fontSize:isMobile?'20px':'24px',fontWeight:'700',outline:'none',textAlign:'right'}}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#9B4DFF',fontSize:isMobile?'14px':'16px',fontWeight:'600'},children:toCrypto})]}),prices&&toAmount&&prices[toCrypto]&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',textAlign:'center',fontSize:isMobile?'12px':'13px',color:'#8F9BB3'},children:[\"\\u2248 \\xA3\",(parseFloat(toAmount||0)*(((_prices$toCrypto=prices[toCrypto])===null||_prices$toCrypto===void 0?void 0:_prices$toCrypto.price_gbp)||0)).toFixed(2)]})]}),exchangeRate>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'28px',padding:isMobile?'18px':'20px',background:'rgba(0, 240, 255, 0.05)',border:'1px solid rgba(0, 240, 255, 0.2)',borderRadius:'16px',display:'grid',gridTemplateColumns:isMobile?'1fr':'repeat(2, 1fr)',gap:'16px',boxShadow:'inset 0 2px 10px rgba(0, 240, 255, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'12px':'13px',color:'#8F9BB3',marginBottom:'6px',fontWeight:'500'},children:\"Live Rate\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'14px':'15px',color:'#00F0FF',fontWeight:'700'},children:[\"1 \",fromCrypto,\" = \",exchangeRate.toFixed(6),\" \",toCrypto]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'12px':'13px',color:'#8F9BB3',marginBottom:'6px',fontWeight:'500'},children:\"Platform Fee\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'14px':'15px',color:'#8FFF4E',fontWeight:'700'},children:[platformFee,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'12px':'13px',color:'#8F9BB3',marginBottom:'6px',fontWeight:'500'},children:\"Slippage\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'14px':'15px',color:'#F5C542',fontWeight:'700'},children:[slippage,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:isMobile?'12px':'13px',color:'#8F9BB3',marginBottom:'6px',fontWeight:'500'},children:\"You Receive (estimated)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'14px':'15px',color:'#9B4DFF',fontWeight:'700'},children:[estimatedReceive,\" \",toCrypto]})]})]}),swapSuccess&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',padding:'16px 20px',background:'linear-gradient(135deg, rgba(0, 240, 0, 0.1), rgba(0, 180, 0, 0.15))',border:'2px solid rgba(0, 240, 0, 0.4)',borderRadius:'12px',display:'flex',alignItems:'center',gap:'12px',boxShadow:'0 4px 20px rgba(0, 240, 0, 0.2)',animation:'slideIn 0.3s ease-out'},children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:32,color:\"#00F000\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'700',color:'#00F000',marginBottom:'4px'},children:\"Swap Successful!\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#FFFFFF'},children:swapSuccess.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'28px',position:'relative'},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'-20px',left:'50%',transform:'translateX(-50%)',width:'80%',height:'60px',background:'linear-gradient(90deg, rgba(0, 240, 255, 0.4), rgba(155, 77, 255, 0.4))',filter:'blur(30px)',pointerEvents:'none'}}),/*#__PURE__*/_jsx(CHXButton,{onClick:handleSwap,coinColor:\"#00F0FF\",variant:\"primary\",size:\"large\",fullWidth:true,disabled:swapping||!fromAmount||!toAmount,icon:/*#__PURE__*/_jsx(IoFlash,{size:22}),children:swapping?'Swapping...':'Swap Now'})]})]}),recentSwaps.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(2, 6, 24, 0.8)',border:'1px solid rgba(0, 240, 255, 0.25)',borderRadius:'20px',padding:isMobile?'20px':'24px',boxShadow:'0 0 30px rgba(0, 240, 255, 0.15)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:isMobile?'17px':'19px',fontWeight:'600',color:'#FFFFFF',marginBottom:'20px'},children:\"Recent Swaps\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'12px'},children:recentSwaps.map((swap,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(0, 240, 255, 0.15)',borderRadius:'12px',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:isMobile?'13px':'14px',color:'#FFFFFF',fontWeight:'600',marginBottom:'4px'},children:[swap.from_amount,\" \",swap.from_currency,\" \\u2192 \",swap.to_amount,\" \",swap.to_currency]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#8F9BB3'},children:new Date(swap.timestamp).toLocaleDateString()})]}),/*#__PURE__*/_jsx(\"div\",{style:{padding:'6px 12px',background:swap.status==='completed'?'rgba(34, 197, 94, 0.1)':'rgba(245, 197, 66, 0.1)',border:\"1px solid \".concat(swap.status==='completed'?'rgba(34, 197, 94, 0.3)':'rgba(245, 197, 66, 0.3)'),borderRadius:'8px',fontSize:'12px',fontWeight:'600',color:swap.status==='completed'?'#22C55E':'#F5C542'},children:swap.status})]},index))})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(2, 6, 24, 0.95) 0%, rgba(7, 19, 39, 0.9) 100%)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'20px',padding:isMobile?'20px':'24px',marginBottom:'24px',boxShadow:'inset 0 2px 20px rgba(0, 0, 0, 0.4), 0 0 30px rgba(0, 240, 255, 0.15)'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:isMobile?'17px':'19px',fontWeight:'600',color:'#FFFFFF',marginBottom:'20px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(IoTrendingUp,{size:22,color:\"#00F0FF\",strokeWidth:2.5}),\"Market Prices\"]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'14px'},children:cryptos.slice(0,6).map(crypto=>{const priceData=prices?prices[crypto.code]:null;const price=(priceData===null||priceData===void 0?void 0:priceData.price_usd)||0;const change=(priceData===null||priceData===void 0?void 0:priceData.change_24h)||0;const isPositive=parseFloat(change)>=0;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'14px',background:'rgba(0, 0, 0, 0.3)',borderRadius:'12px',border:'1px solid rgba(0, 240, 255, 0.15)',display:'flex',alignItems:'center',gap:'12px',transition:'all 0.3s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.borderColor=crypto.color+'80';e.currentTarget.style.background='rgba(0, 0, 0, 0.5)';},onMouseLeave:e=>{e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.15)';e.currentTarget.style.background='rgba(0, 0, 0, 0.3)';},children:[/*#__PURE__*/_jsx(\"img\",{src:getCoinLogo(crypto.code),alt:crypto.code,style:{width:'24px',height:'24px',objectFit:'contain'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'700',color:'#FFFFFF',marginBottom:'2px'},children:crypto.code}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#8F9BB3'},children:crypto.name})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'15px',fontWeight:'700',color:'#00F0FF',marginBottom:'2px'},children:[\"$\",price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',fontWeight:'600',color:isPositive?'#22C55E':'#EF4444'},children:[isPositive?'+':'',change,\"%\"]})]}),/*#__PURE__*/_jsx(\"svg\",{width:\"60\",height:\"24\",style:{opacity:0.7},children:/*#__PURE__*/_jsx(\"polyline\",{points:\"0,18 12,15 24,16 36,10 48,12 60,8\",fill:\"none\",stroke:isPositive?'#22C55E':'#EF4444',strokeWidth:\"2\"})})]},crypto.code);})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(2, 6, 24, 0.95) 0%, rgba(7, 19, 39, 0.9) 100%)',border:'2px solid rgba(155, 77, 255, 0.3)',borderRadius:'20px',padding:isMobile?'20px':'24px',boxShadow:'0 0 40px rgba(155, 77, 255, 0.2), inset 0 2px 20px rgba(0, 0, 0, 0.4)'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:isMobile?'17px':'19px',fontWeight:'600',color:'#FFFFFF',marginBottom:'20px',display:'flex',alignItems:'center',gap:'10px'},children:[/*#__PURE__*/_jsx(IoInformationCircle,{size:22,color:\"#9B4DFF\",strokeWidth:2.5}),\"Swap Info\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'16px',fontSize:isMobile?'13px':'14px',color:'#D1D5DB'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:20,color:\"#22C55E\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Instant swaps with best market rates\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(IoShield,{size:20,color:\"#00F0FF\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Secure escrow protection on all swaps\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(IoCash,{size:20,color:\"#8FFF4E\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsxs(\"span\",{children:[platformFee,\"% platform fee - no hidden charges\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'12px',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(IoFlash,{size:20,color:\"#F5C542\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsx(\"span\",{children:\"Real-time price updates every 10 seconds\"})]})]})]})]})]})]})}),showSettings&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.9)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.99) 100%)',border:'2px solid rgba(0, 240, 255, 0.4)',borderRadius:'24px',padding:'36px',maxWidth:'450px',width:'100%',boxShadow:'0 0 80px rgba(0, 240, 255, 0.4)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'26px',fontWeight:'700',color:'#FFFFFF',marginBottom:'28px'},children:\"Swap Settings\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'28px'},children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'14px',color:'#8F9BB3',marginBottom:'14px',display:'block',fontWeight:'600'},children:\"Slippage Tolerance\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(4, 1fr)',gap:'10px',marginBottom:'14px'},children:[0.1,0.5,1.0,3.0].map(value=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSlippage(value),style:{padding:'14px',background:slippage===value?'linear-gradient(135deg, #00F0FF, #0080FF)':'rgba(0, 0, 0, 0.4)',border:\"1px solid \".concat(slippage===value?'rgba(0, 240, 255, 0.6)':'rgba(0, 240, 255, 0.2)'),borderRadius:'12px',color:slippage===value?'#FFFFFF':'#8F9BB3',fontSize:'15px',fontWeight:'700',cursor:'pointer',transition:'all 0.3s',boxShadow:slippage===value?'0 0 20px rgba(0, 240, 255, 0.4)':'none'},children:[value,\"%\"]},value))}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:slippage,onChange:e=>setSlippage(parseFloat(e.target.value)),placeholder:\"Custom\",step:\"0.1\",style:{width:'100%',padding:'16px',background:'rgba(0, 0, 0, 0.4)',border:'1px solid rgba(0, 240, 255, 0.3)',borderRadius:'14px',color:'#FFFFFF',fontSize:'16px'}})]}),/*#__PURE__*/_jsx(CHXButton,{onClick:()=>setShowSettings(false),coinColor:\"#00F0FF\",variant:\"primary\",size:\"medium\",fullWidth:true,children:\"Save Settings\"})]})})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes scroll {\\n          0% { transform: translateX(0); }\\n          100% { transform: translateX(-33.33%); }\\n        }\\n      \"})]});}export default SwapCrypto;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","toast","CHXButton","DualCurrencyInput","IoAlertCircle","AlertCircle","IoArrowDown","ArrowDownUp","IoCash","IoCheckmark","Check","IoCheckmarkCircle","IoChevronDown","IoFlash","IoInformationCircle","IoRefresh","RefreshCw","IoSettings","IoShield","IoTime","IoTrendingUp","notifyWalletBalanceUpdated","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","process","env","REACT_APP_BACKEND_URL","getCoinLogo","symbol","concat","toLowerCase","SwapCrypto","_prices$toCrypto","navigate","cryptos","setCryptos","code","name","color","fromCrypto","setFromCrypto","toCrypto","setToCrypto","fromAmount","setFromAmount","toAmount","setToAmount","loading","setLoading","swapping","setSwapping","prices","setPrices","lastUpdate","setLastUpdate","exchangeRate","setExchangeRate","slippage","setSlippage","showSettings","setShowSettings","recentSwaps","setRecentSwaps","tickerData","setTickerData","walletBalances","setWalletBalances","inputType","setInputType","selectedFiat","setSelectedFiat","swapSuccess","setSwapSuccess","isMobile","window","innerWidth","fetchAvailableCryptos","fetchRecentSwaps","fetchWalletBalances","fetchPrices","interval","setInterval","clearInterval","calculateToAmount","userData","localStorage","getItem","user","JSON","parse","user_id","response","get","data","success","balances","forEach","bal","currency","available_balance","error","console","coins_detailed","length","cryptoList","map","coin","logo","Date","ticker","crypto","priceData","_objectSpread","price","price_gbp","change","change_24h","swaps","fromPriceData","toPriceData","fromPrice","toPrice","rate","calculated","parseFloat","toFixed","handleSwap","isNaN","actualCryptoAmount","availableBalance","_prices$fromCrypto","maxFiat","post","from_currency","to_currency","from_amount","slippage_percent","message","to_amount","setTimeout","_error$response","_error$response$data","_error$response2","_error$response2$data","errorMsg","flipCurrencies","tempCrypto","tempAmount","getFromCrypto","find","c","getToCrypto","platformFee","estimatedReceive","children","style","minHeight","background","paddingBottom","padding","maxWidth","margin","marginBottom","display","flexDirection","justifyContent","alignItems","gap","fontSize","fontWeight","size","strokeWidth","width","border","borderRadius","flex","boxShadow","toLocaleTimeString","onClick","cursor","transition","height","gridTemplateColumns","position","top","left","transform","filter","pointerEvents","textTransform","letterSpacing","src","alt","objectFit","value","onChange","e","target","outline","textAlign","marginTop","onMouseEnter","currentTarget","onMouseLeave","cryptoSymbol","fiatCurrency","onFiatChange","amount","cryptoAmt","toString","onCryptoChange","initialFiatAmount","initialCryptoAmount","fee","balanceInCrypto","label","showCurrencySelector","zIndex","type","readOnly","placeholder","animation","coinColor","variant","fullWidth","disabled","icon","swap","index","timestamp","toLocaleDateString","status","slice","price_usd","isPositive","borderColor","opacity","points","fill","stroke","flexShrink","right","bottom","step"],"sources":["/app/frontend/src/pages/SwapCrypto.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport CHXButton from '@/components/CHXButton';\nimport DualCurrencyInput from '@/components/DualCurrencyInput';\nimport { IoAlertCircle as AlertCircle, IoArrowDown as ArrowDownUp, IoCash, IoCheckmark as Check, IoCheckmarkCircle, IoChevronDown, IoFlash, IoInformationCircle, IoRefresh as RefreshCw, IoSettings, IoShield, IoTime, IoTrendingUp } from 'react-icons/io5';\nimport { notifyWalletBalanceUpdated } from '@/utils/walletEvents';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nconst getCoinLogo = (symbol) => `/crypto-logos/${symbol?.toLowerCase()}.png`;\n\nfunction SwapCrypto() {\n  const navigate = useNavigate();\n  const [cryptos, setCryptos] = useState([\n    { code: 'BTC', name: 'Bitcoin', color: '#F7931A' },\n    { code: 'ETH', name: 'Ethereum', color: '#627EEA' },\n    { code: 'USDT', name: 'Tether', color: '#26A17B' },\n    { code: 'USDC', name: 'USD Coin', color: '#2775CA' },\n    { code: 'BNB', name: 'Binance Coin', color: '#F3BA2F' },\n    { code: 'SOL', name: 'Solana', color: '#14F195' },\n    { code: 'XRP', name: 'Ripple', color: '#00AAE4' },\n    { code: 'ADA', name: 'Cardano', color: '#0033AD' },\n    { code: 'DOGE', name: 'Dogecoin', color: '#C2A633' }\n  ]);\n  \n  const [fromCrypto, setFromCrypto] = useState('BTC');\n  const [toCrypto, setToCrypto] = useState('ETH');\n  const [fromAmount, setFromAmount] = useState('');\n  const [toAmount, setToAmount] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [swapping, setSwapping] = useState(false);\n  const [prices, setPrices] = useState(null);\n  const [lastUpdate, setLastUpdate] = useState(null);\n  const [exchangeRate, setExchangeRate] = useState(0);\n  const [slippage, setSlippage] = useState(0.5);\n  const [showSettings, setShowSettings] = useState(false);\n  const [recentSwaps, setRecentSwaps] = useState([]);\n  const [tickerData, setTickerData] = useState([]);\n  const [walletBalances, setWalletBalances] = useState({});\n  const [inputType, setInputType] = useState('crypto'); // 'crypto' or 'fiat'\n  const [selectedFiat, setSelectedFiat] = useState('GBP');\n  const [swapSuccess, setSwapSuccess] = useState(null); // Local success message\n  const isMobile = window.innerWidth < 768;\n\n  useEffect(() => {\n    fetchAvailableCryptos();\n    fetchRecentSwaps();\n    fetchWalletBalances();\n  }, []);\n\n  useEffect(() => {\n    fetchPrices();\n    const interval = setInterval(fetchPrices, 10000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    if (fromAmount && prices) {\n      calculateToAmount();\n    }\n  }, [fromAmount, fromCrypto, toCrypto, prices]);\n\n  const fetchWalletBalances = async () => {\n    try {\n      const userData = localStorage.getItem('cryptobank_user');\n      const user = userData ? JSON.parse(userData) : null;\n      \n      if (user?.user_id) {\n        const response = await axios.get(`${API}/api/wallets/balances/${user.user_id}`);\n        if (response.data.success) {\n          const balances = {};\n          response.data.balances.forEach(bal => {\n            balances[bal.currency] = bal.available_balance || 0;\n          });\n          setWalletBalances(balances);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching wallet balances:', error);\n    }\n  };\n\n  const fetchAvailableCryptos = async () => {\n    try {\n      const response = await axios.get(`${API}/api/swap/available-coins`);\n      if (response.data.success && response.data.coins_detailed.length > 0) {\n        const cryptoList = response.data.coins_detailed.map(coin => ({\n          code: coin.symbol,\n          name: coin.name,\n          color: coin.color || '#00F0FF',\n          logo: getCoinLogo(coin.symbol)\n        }));\n        setCryptos(cryptoList);\n      }\n    } catch (error) {\n      console.error('Error fetching available cryptos:', error);\n    }\n  };\n\n  const fetchPrices = async () => {\n    try {\n      const response = await axios.get(`${API}/api/prices/live`);\n      if (response.data.success && response.data.prices) {\n        setPrices(response.data.prices);\n        setLastUpdate(new Date());\n        \n        // Update ticker data with REAL prices and changes\n        const ticker = cryptos.map(crypto => {\n          const priceData = response.data.prices[crypto.code];\n          return {\n            ...crypto,\n            price: priceData?.price_gbp || 0,\n            change: priceData?.change_24h || 0\n          };\n        });\n        setTickerData(ticker);\n      }\n    } catch (error) {\n      console.error('Error fetching prices:', error);\n    }\n  };\n\n  const fetchRecentSwaps = async () => {\n    try {\n      const userData = localStorage.getItem('cryptobank_user');\n      if (!userData) return;\n      const user = JSON.parse(userData);\n      \n      const response = await axios.get(`${API}/api/swap/history/${user.user_id}?limit=5`);\n      if (response.data.success) {\n        setRecentSwaps(response.data.swaps || []);\n      }\n    } catch (error) {\n      console.error('Error fetching recent swaps:', error);\n    }\n  };\n\n  const calculateToAmount = () => {\n    if (!fromAmount || !prices) return;\n    \n    const fromPriceData = prices[fromCrypto];\n    const toPriceData = prices[toCrypto];\n    \n    const fromPrice = fromPriceData?.price_gbp || 0;\n    const toPrice = toPriceData?.price_gbp || 0;\n    \n    if (fromPrice && toPrice) {\n      const rate = fromPrice / toPrice;\n      setExchangeRate(rate);\n      const calculated = (parseFloat(fromAmount) * rate).toFixed(8);\n      setToAmount(calculated);\n    }\n  };\n\n  const handleSwap = async () => {\n    // COMPREHENSIVE VALIDATION - Prevent all customer issues\n    \n    // 1. Validate amount exists and is valid\n    if (!fromAmount || isNaN(parseFloat(fromAmount)) || parseFloat(fromAmount) <= 0) {\n      toast.error('Please enter a valid amount');\n      console.error('Invalid amount:', fromAmount);\n      return;\n    }\n\n    // 2. fromAmount is already in crypto (converted by DualCurrencyInput)\n    const actualCryptoAmount = parseFloat(fromAmount);\n    console.log('Swap attempt:', {\n      fromCrypto,\n      toCrypto,\n      actualCryptoAmount,\n      fromAmount\n    });\n\n    // 3. Check if user has enough balance\n    const availableBalance = walletBalances[fromCrypto] || 0;\n    console.log('Balance check:', {\n      availableBalance,\n      required: actualCryptoAmount,\n      hasSufficient: actualCryptoAmount <= availableBalance\n    });\n    \n    // 4. Check zero balance\n    if (availableBalance === 0) {\n      toast.error(`You have no ${fromCrypto} to swap. Please select a currency you own or deposit ${fromCrypto} first.`);\n      return;\n    }\n\n    // 5. Check insufficient balance with helpful message\n    if (actualCryptoAmount > availableBalance) {\n      const maxFiat = (availableBalance * (prices[fromCrypto]?.price_gbp || 0)).toFixed(2);\n      toast.error(`Insufficient ${fromCrypto} balance. You have ${availableBalance.toFixed(8)} ${fromCrypto} (≈£${maxFiat}). Please enter a smaller amount.`);\n      return;\n    }\n\n    // 6. Validate prices are available\n    if (!prices || !prices[fromCrypto] || !prices[toCrypto]) {\n      toast.error('Price data not available. Please wait and try again.');\n      console.error('Price data missing:', { prices, fromCrypto, toCrypto });\n      return;\n    }\n\n    try {\n      setSwapping(true);\n      const userData = localStorage.getItem('cryptobank_user');\n      if (!userData) {\n        toast.error('Please login to swap');\n        return;\n      }\n      const user = JSON.parse(userData);\n\n      const response = await axios.post(`${API}/api/swap/execute`, {\n        user_id: user.user_id,\n        from_currency: fromCrypto,\n        to_currency: toCrypto,\n        from_amount: actualCryptoAmount,\n        slippage_percent: slippage\n      });\n\n      if (response.data.success) {\n        // Show local success message in the swap box\n        setSwapSuccess({\n          message: `Swap completed! Received ${response.data.to_amount.toFixed(8)} ${toCrypto}`,\n          fromAmount: actualCryptoAmount,\n          toAmount: response.data.to_amount\n        });\n        \n        // Clear after 5 seconds\n        setTimeout(() => setSwapSuccess(null), 5000);\n        \n        setFromAmount('');\n        setToAmount('');\n        fetchRecentSwaps();\n        fetchWalletBalances(); // Refresh balances\n        notifyWalletBalanceUpdated(); // Notify other components to refresh\n      } else {\n        toast.error(response.data.message || 'Swap failed');\n      }\n    } catch (error) {\n      console.error('Swap error:', error);\n      const errorMsg = error.response?.data?.message || error.response?.data?.error || 'Swap failed';\n      toast.error(errorMsg);\n    } finally {\n      setSwapping(false);\n    }\n  };\n\n  const flipCurrencies = () => {\n    const tempCrypto = fromCrypto;\n    const tempAmount = fromAmount;\n    setFromCrypto(toCrypto);\n    setToCrypto(tempCrypto);\n    setFromAmount(toAmount);\n    setToAmount(tempAmount);\n  };\n\n  const getFromCrypto = () => cryptos.find(c => c.code === fromCrypto) || cryptos[0];\n  const getToCrypto = () => cryptos.find(c => c.code === toCrypto) || cryptos[1];\n  const platformFee = 0.1;\n  const estimatedReceive = toAmount ? (parseFloat(toAmount) * (1 - platformFee / 100)).toFixed(8) : '0.00';\n\n  return (\n    <>\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(180deg, #020618 0%, #071327 100%)',\n        paddingBottom: '60px'\n      }}>\n        \n        {/* Ticker removed - using global ticker from Layout */}\n\n        <div style={{ padding: isMobile ? '16px' : '24px' }}>\n          <div style={{ maxWidth: '1200px', margin: '0 auto' }}>\n\n            {/* Header */}\n            <div style={{ marginBottom: isMobile ? '28px' : '40px' }}>\n              <div style={{ display: 'flex', flexDirection: isMobile ? 'column' : 'row', justifyContent: 'space-between', alignItems: isMobile ? 'flex-start' : 'center', marginBottom: '16px', gap: isMobile ? '16px' : '0' }}>\n                <div>\n                  <h1 style={{ fontSize: isMobile ? '32px' : '42px', fontWeight: '700', color: '#FFFFFF', marginBottom: '8px', display: 'flex', alignItems: 'center', gap: '16px' }}>\n                    <IoFlash size={isMobile ? 32 : 42} color=\"#00F0FF\" strokeWidth={2.5} />\n                    Crypto Swap\n                  </h1>\n                  <p style={{ fontSize: isMobile ? '15px' : '17px', color: '#8F9BB3', margin: 0 }}>Instant exchange with best rates and zero hidden fees</p>\n                </div>\n                <div style={{ display: 'flex', gap: '12px', alignItems: 'center', width: isMobile ? '100%' : 'auto' }}>\n                  <div style={{\n                    padding: isMobile ? '10px 14px' : '12px 18px',\n                    background: 'rgba(0, 240, 255, 0.1)',\n                    border: '1px solid rgba(0, 240, 255, 0.3)',\n                    borderRadius: '12px',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px',\n                    flex: isMobile ? 1 : 'auto',\n                    boxShadow: '0 0 20px rgba(0, 240, 255, 0.2)'\n                  }}>\n                    <IoTime size={18} color=\"#00F0FF\" />\n                    <span style={{ fontSize: isMobile ? '12px' : '13px', color: '#00F0FF', fontWeight: '600' }}>\n                      {lastUpdate ? lastUpdate.toLocaleTimeString() : 'Live'}\n                    </span>\n                  </div>\n                  <button\n                    onClick={() => setShowSettings(!showSettings)}\n                    style={{\n                      padding: isMobile ? '10px' : '12px',\n                      background: 'rgba(0, 240, 255, 0.1)',\n                      border: '1px solid rgba(0, 240, 255, 0.3)',\n                      borderRadius: '12px',\n                      cursor: 'pointer',\n                      transition: 'all 0.3s',\n                      boxShadow: '0 0 20px rgba(0, 240, 255, 0.2)'\n                    }}\n                  >\n                    <IoSettings size={20} color=\"#00F0FF\" />\n                  </button>\n                </div>\n              </div>\n              <div style={{ height: '2px', background: 'linear-gradient(90deg, transparent 0%, rgba(0, 240, 255, 0.6) 50%, transparent 100%)', boxShadow: '0 0 10px rgba(0, 240, 255, 0.5)' }} />\n            </div>\n\n            <div style={{ display: 'grid', gridTemplateColumns: isMobile ? '1fr' : '1fr 380px', gap: isMobile ? '24px' : '32px' }}>\n              \n              {/* 3. REDESIGNED SWAP CARD */}\n              <div>\n                <div style={{\n                  background: 'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.95) 100%)',\n                  border: '2px solid rgba(0, 240, 255, 0.4)',\n                  borderRadius: '24px',\n                  padding: isMobile ? '24px' : '32px',\n                  marginBottom: isMobile ? '20px' : '32px',\n                  boxShadow: '0 0 60px rgba(0, 240, 255, 0.3), inset 0 0 40px rgba(0, 240, 255, 0.08)',\n                  position: 'relative'\n                }}>\n                  {/* Floating Glow */}\n                  <div style={{\n                    position: 'absolute',\n                    top: '-40px',\n                    left: '50%',\n                    transform: 'translateX(-50%)',\n                    width: '200px',\n                    height: '80px',\n                    background: 'radial-gradient(circle, rgba(0, 240, 255, 0.4), transparent)',\n                    filter: 'blur(40px)',\n                    pointerEvents: 'none'\n                  }} />\n\n                  {/* From Section with Dual Currency Input - CENTERED */}\n                  <div style={{\n                    background: 'rgba(0, 0, 0, 0.4)',\n                    border: '1px solid rgba(0, 240, 255, 0.3)',\n                    borderRadius: '18px',\n                    padding: isMobile ? '20px' : '24px',\n                    marginBottom: '24px',\n                    boxShadow: 'inset 0 2px 10px rgba(0, 0, 0, 0.3)',\n                    maxWidth: isMobile ? '100%' : '600px',\n                    margin: '0 auto 24px auto'\n                  }}>\n                    {/* FROM Label */}\n                    <div style={{ marginBottom: '12px' }}>\n                      <span style={{ \n                        fontSize: isMobile ? '13px' : '14px', \n                        color: '#8F9BB3', \n                        fontWeight: '600', \n                        textTransform: 'uppercase', \n                        letterSpacing: '0.5px',\n                        display: 'block'\n                      }}>From</span>\n                    </div>\n                    \n                    {/* BTC Selector - CENTERED */}\n                    <div style={{ \n                      display: 'flex',\n                      justifyContent: 'center',\n                      marginBottom: '8px'\n                    }}>\n                      <div style={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        gap: '10px', \n                        background: 'rgba(0, 240, 255, 0.1)', \n                        padding: isMobile ? '10px 14px' : '12px 16px', \n                        borderRadius: '12px', \n                        border: '1px solid rgba(0, 240, 255, 0.3)' \n                      }}>\n                        <img src={getCoinLogo(fromCrypto)} alt={fromCrypto} style={{ width: '28px', height: '28px', objectFit: 'contain' }} />\n                        <select\n                          value={fromCrypto}\n                          onChange={(e) => setFromCrypto(e.target.value)}\n                          style={{\n                            background: 'transparent',\n                            border: 'none',\n                            color: '#FFFFFF',\n                            fontSize: isMobile ? '16px' : '18px',\n                            fontWeight: '700',\n                            cursor: 'pointer',\n                            outline: 'none'\n                          }}\n                        >\n                          {cryptos.map(crypto => (\n                            <option key={crypto.code} value={crypto.code}>{crypto.code}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    \n                    {/* Balance Display - PROMINENT */}\n                    <div style={{ \n                      textAlign: 'center', \n                      marginBottom: '16px',\n                      padding: '10px',\n                      background: (walletBalances[fromCrypto] || 0) === 0 ? 'rgba(255, 59, 48, 0.1)' : 'rgba(0, 240, 255, 0.05)',\n                      borderRadius: '10px',\n                      border: `1px solid ${(walletBalances[fromCrypto] || 0) === 0 ? 'rgba(255, 59, 48, 0.3)' : 'rgba(0, 240, 255, 0.2)'}`\n                    }}>\n                      <div style={{ fontSize: '12px', color: '#8F9BB3', marginBottom: '4px' }}>Available Balance</div>\n                      <div style={{ \n                        fontSize: isMobile ? '18px' : '20px', \n                        fontWeight: '700',\n                        color: (walletBalances[fromCrypto] || 0) === 0 ? '#FF3B30' : '#00F0FF'\n                      }}>\n                        {(walletBalances[fromCrypto] || 0).toFixed(8)} {fromCrypto}\n                      </div>\n                      {prices && prices[fromCrypto] && (\n                        <div style={{ fontSize: '13px', color: '#8F9BB3', marginTop: '4px' }}>\n                          ≈ £{((walletBalances[fromCrypto] || 0) * prices[fromCrypto].price_gbp).toFixed(2)}\n                        </div>\n                      )}\n                      {(walletBalances[fromCrypto] || 0) === 0 && (\n                        <div style={{ marginTop: '12px' }}>\n                          <div style={{ \n                            fontSize: '12px', \n                            color: '#FF3B30', \n                            marginBottom: '8px',\n                            fontWeight: '600'\n                          }}>\n                            ⚠️ No {fromCrypto} to swap\n                          </div>\n                          <button\n                            onClick={() => navigate('/p2p-express')}\n                            style={{\n                              background: 'linear-gradient(135deg, #00F0FF, #9B4DFF)',\n                              border: 'none',\n                              borderRadius: '10px',\n                              padding: isMobile ? '10px 20px' : '8px 16px',\n                              color: '#FFFFFF',\n                              fontSize: isMobile ? '14px' : '13px',\n                              fontWeight: '700',\n                              cursor: 'pointer',\n                              boxShadow: '0 4px 15px rgba(0, 240, 255, 0.3)',\n                              transition: 'all 0.3s',\n                              width: isMobile ? '100%' : 'auto'\n                            }}\n                            onMouseEnter={(e) => {\n                              if (!isMobile) {\n                                e.currentTarget.style.transform = 'translateY(-2px)';\n                                e.currentTarget.style.boxShadow = '0 6px 20px rgba(0, 240, 255, 0.5)';\n                              }\n                            }}\n                            onMouseLeave={(e) => {\n                              if (!isMobile) {\n                                e.currentTarget.style.transform = 'translateY(0)';\n                                e.currentTarget.style.boxShadow = '0 4px 15px rgba(0, 240, 255, 0.3)';\n                              }\n                            }}\n                          >\n                            Buy {fromCrypto} Now →\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                    \n                    {/* Dual Currency Input - Will be centered by component */}\n                    <DualCurrencyInput\n                      cryptoSymbol={fromCrypto}\n                      fiatCurrency={selectedFiat}\n                      onFiatChange={(amount) => {\n                        const cryptoAmt = amount && prices[fromCrypto] ? amount / prices[fromCrypto].price_gbp : 0;\n                        setFromAmount(cryptoAmt.toString());\n                      }}\n                      onCryptoChange={(amount) => {\n                        setFromAmount(amount.toString());\n                      }}\n                      initialFiatAmount=\"\"\n                      initialCryptoAmount={fromAmount}\n                      fee={1.5}\n                      availableBalance={walletBalances[fromCrypto] || 0}\n                      balanceInCrypto={true}\n                      label=\"\"\n                      showCurrencySelector={true}\n                    />\n                  </div>\n\n                  {/* Center Reverse Button - SMALLER & CLEANER */}\n                  <div style={{ display: 'flex', justifyContent: 'center', margin: '-8px 0 -8px 0', position: 'relative', zIndex: 10 }}>\n                    <button\n                      onClick={flipCurrencies}\n                      style={{\n                        width: isMobile ? '42px' : '46px',\n                        height: isMobile ? '42px' : '46px',\n                        borderRadius: '50%',\n                        background: 'linear-gradient(135deg, #00F0FF, #9B4DFF)',\n                        border: '3px solid #071327',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                        transition: 'all 0.3s',\n                        boxShadow: '0 0 20px rgba(0, 240, 255, 0.5), 0 0 40px rgba(155, 77, 255, 0.3)',\n                        position: 'relative'\n                      }}\n                      onMouseEnter={(e) => {\n                        e.currentTarget.style.transform = 'rotate(180deg) scale(1.1)';\n                        e.currentTarget.style.boxShadow = '0 0 30px rgba(0, 240, 255, 0.7), 0 0 60px rgba(155, 77, 255, 0.5)';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.currentTarget.style.transform = 'rotate(0deg) scale(1)';\n                        e.currentTarget.style.boxShadow = '0 0 20px rgba(0, 240, 255, 0.5), 0 0 40px rgba(155, 77, 255, 0.3)';\n                      }}\n                    >\n                      <ArrowDownUp size={isMobile ? 20 : 22} color=\"white\" strokeWidth={3} />\n                    </button>\n                  </div>\n\n                  {/* To Section with Logo - CENTERED */}\n                  <div style={{\n                    background: 'rgba(0, 0, 0, 0.4)',\n                    border: '1px solid rgba(155, 77, 255, 0.3)',\n                    borderRadius: '18px',\n                    padding: isMobile ? '20px' : '24px',\n                    marginTop: '24px',\n                    boxShadow: 'inset 0 2px 10px rgba(0, 0, 0, 0.3)',\n                    maxWidth: isMobile ? '100%' : '600px',\n                    margin: '24px auto 0 auto'\n                  }}>\n                    {/* TO Label */}\n                    <div style={{ marginBottom: '12px' }}>\n                      <span style={{ \n                        fontSize: isMobile ? '13px' : '14px', \n                        color: '#8F9BB3', \n                        fontWeight: '600', \n                        textTransform: 'uppercase', \n                        letterSpacing: '0.5px',\n                        display: 'block'\n                      }}>To</span>\n                    </div>\n                    \n                    {/* ETH Selector - CENTERED */}\n                    <div style={{ \n                      display: 'flex',\n                      justifyContent: 'center',\n                      marginBottom: '16px'\n                    }}>\n                      <div style={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        gap: '10px', \n                        background: 'rgba(155, 77, 255, 0.1)', \n                        padding: isMobile ? '10px 14px' : '12px 16px', \n                        borderRadius: '12px', \n                        border: '1px solid rgba(155, 77, 255, 0.3)' \n                      }}>\n                        <img src={getCoinLogo(toCrypto)} alt={toCrypto} style={{ width: '28px', height: '28px', objectFit: 'contain' }} />\n                        <select\n                          value={toCrypto}\n                          onChange={(e) => setToCrypto(e.target.value)}\n                          style={{\n                            background: 'transparent',\n                            border: 'none',\n                            color: '#FFFFFF',\n                            fontSize: isMobile ? '16px' : '18px',\n                            fontWeight: '700',\n                            cursor: 'pointer',\n                            outline: 'none'\n                          }}\n                        >\n                          {cryptos.map(crypto => (\n                            <option key={crypto.code} value={crypto.code}>{crypto.code}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    \n                    {/* To Amount Display - CENTERED */}\n                    <div style={{ \n                      background: '#0B1B2A',\n                      border: '1px solid rgba(155, 77, 255, 0.3)',\n                      borderRadius: '12px',\n                      padding: isMobile ? '16px' : '18px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'space-between',\n                      gap: '12px',\n                      maxWidth: '100%',\n                      margin: '0 auto'\n                    }}>\n                      <span style={{ \n                        fontSize: isMobile ? '12px' : '13px',\n                        color: '#8F9BB3',\n                        fontWeight: '600'\n                      }}>You Receive:</span>\n                      <input\n                        type=\"text\"\n                        value={toAmount}\n                        readOnly\n                        placeholder=\"0.00\"\n                        style={{\n                          flex: 1,\n                          background: 'transparent',\n                          border: 'none',\n                          color: '#9B4DFF',\n                          fontSize: isMobile ? '20px' : '24px',\n                          fontWeight: '700',\n                          outline: 'none',\n                          textAlign: 'right'\n                        }}\n                      />\n                      <span style={{ \n                        color: '#9B4DFF',\n                        fontSize: isMobile ? '14px' : '16px',\n                        fontWeight: '600'\n                      }}>{toCrypto}</span>\n                    </div>\n                    \n                    {prices && toAmount && prices[toCrypto] && (\n                      <div style={{ marginTop: '8px', textAlign: 'center', fontSize: isMobile ? '12px' : '13px', color: '#8F9BB3' }}>\n                        ≈ £{(parseFloat(toAmount || 0) * (prices[toCrypto]?.price_gbp || 0)).toFixed(2)}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Info Row: Live Rate, Fee, Slippage, Estimated Receive */}\n                  {exchangeRate > 0 && (\n                    <div style={{\n                      marginTop: '28px',\n                      padding: isMobile ? '18px' : '20px',\n                      background: 'rgba(0, 240, 255, 0.05)',\n                      border: '1px solid rgba(0, 240, 255, 0.2)',\n                      borderRadius: '16px',\n                      display: 'grid',\n                      gridTemplateColumns: isMobile ? '1fr' : 'repeat(2, 1fr)',\n                      gap: '16px',\n                      boxShadow: 'inset 0 2px 10px rgba(0, 240, 255, 0.1)'\n                    }}>\n                      <div>\n                        <div style={{ fontSize: isMobile ? '12px' : '13px', color: '#8F9BB3', marginBottom: '6px', fontWeight: '500' }}>Live Rate</div>\n                        <div style={{ fontSize: isMobile ? '14px' : '15px', color: '#00F0FF', fontWeight: '700' }}>\n                          1 {fromCrypto} = {exchangeRate.toFixed(6)} {toCrypto}\n                        </div>\n                      </div>\n                      <div>\n                        <div style={{ fontSize: isMobile ? '12px' : '13px', color: '#8F9BB3', marginBottom: '6px', fontWeight: '500' }}>Platform Fee</div>\n                        <div style={{ fontSize: isMobile ? '14px' : '15px', color: '#8FFF4E', fontWeight: '700' }}>{platformFee}%</div>\n                      </div>\n                      <div>\n                        <div style={{ fontSize: isMobile ? '12px' : '13px', color: '#8F9BB3', marginBottom: '6px', fontWeight: '500' }}>Slippage</div>\n                        <div style={{ fontSize: isMobile ? '14px' : '15px', color: '#F5C542', fontWeight: '700' }}>{slippage}%</div>\n                      </div>\n                      <div>\n                        <div style={{ fontSize: isMobile ? '12px' : '13px', color: '#8F9BB3', marginBottom: '6px', fontWeight: '500' }}>You Receive (estimated)</div>\n                        <div style={{ fontSize: isMobile ? '14px' : '15px', color: '#9B4DFF', fontWeight: '700' }}>{estimatedReceive} {toCrypto}</div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Success Message - Right Where They Made the Swap */}\n                  {swapSuccess && (\n                    <div style={{\n                      marginTop: '20px',\n                      padding: '16px 20px',\n                      background: 'linear-gradient(135deg, rgba(0, 240, 0, 0.1), rgba(0, 180, 0, 0.15))',\n                      border: '2px solid rgba(0, 240, 0, 0.4)',\n                      borderRadius: '12px',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '12px',\n                      boxShadow: '0 4px 20px rgba(0, 240, 0, 0.2)',\n                      animation: 'slideIn 0.3s ease-out'\n                    }}>\n                      <IoCheckmarkCircle size={32} color=\"#00F000\" />\n                      <div style={{ flex: 1 }}>\n                        <div style={{ fontSize: '16px', fontWeight: '700', color: '#00F000', marginBottom: '4px' }}>\n                          Swap Successful!\n                        </div>\n                        <div style={{ fontSize: '13px', color: '#FFFFFF' }}>\n                          {swapSuccess.message}\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Swap Button with Floating Glow */}\n                  <div style={{ marginTop: '28px', position: 'relative' }}>\n                    <div style={{\n                      position: 'absolute',\n                      top: '-20px',\n                      left: '50%',\n                      transform: 'translateX(-50%)',\n                      width: '80%',\n                      height: '60px',\n                      background: 'linear-gradient(90deg, rgba(0, 240, 255, 0.4), rgba(155, 77, 255, 0.4))',\n                      filter: 'blur(30px)',\n                      pointerEvents: 'none'\n                    }} />\n                    <CHXButton\n                      onClick={handleSwap}\n                      coinColor=\"#00F0FF\"\n                      variant=\"primary\"\n                      size=\"large\"\n                      fullWidth\n                      disabled={swapping || !fromAmount || !toAmount}\n                      icon={<IoFlash size={22} />}\n                    >\n                      {swapping ? 'Swapping...' : 'Swap Now'}\n                    </CHXButton>\n                  </div>\n                </div>\n\n                {/* Recent Swaps */}\n                {recentSwaps.length > 0 && (\n                  <div style={{\n                    background: 'rgba(2, 6, 24, 0.8)',\n                    border: '1px solid rgba(0, 240, 255, 0.25)',\n                    borderRadius: '20px',\n                    padding: isMobile ? '20px' : '24px',\n                    boxShadow: '0 0 30px rgba(0, 240, 255, 0.15)'\n                  }}>\n                    <h3 style={{ fontSize: isMobile ? '17px' : '19px', fontWeight: '600', color: '#FFFFFF', marginBottom: '20px' }}>Recent Swaps</h3>\n                    <div style={{ display: 'flex', flexDirection: 'column', gap: '12px' }}>\n                      {recentSwaps.map((swap, index) => (\n                        <div key={index} style={{\n                          padding: '16px',\n                          background: 'rgba(0, 0, 0, 0.3)',\n                          border: '1px solid rgba(0, 240, 255, 0.15)',\n                          borderRadius: '12px',\n                          display: 'flex',\n                          justifyContent: 'space-between',\n                          alignItems: 'center'\n                        }}>\n                          <div>\n                            <div style={{ fontSize: isMobile ? '13px' : '14px', color: '#FFFFFF', fontWeight: '600', marginBottom: '4px' }}>\n                              {swap.from_amount} {swap.from_currency} → {swap.to_amount} {swap.to_currency}\n                            </div>\n                            <div style={{ fontSize: '12px', color: '#8F9BB3' }}>\n                              {new Date(swap.timestamp).toLocaleDateString()}\n                            </div>\n                          </div>\n                          <div style={{\n                            padding: '6px 12px',\n                            background: swap.status === 'completed' ? 'rgba(34, 197, 94, 0.1)' : 'rgba(245, 197, 66, 0.1)',\n                            border: `1px solid ${swap.status === 'completed' ? 'rgba(34, 197, 94, 0.3)' : 'rgba(245, 197, 66, 0.3)'}`,\n                            borderRadius: '8px',\n                            fontSize: '12px',\n                            fontWeight: '600',\n                            color: swap.status === 'completed' ? '#22C55E' : '#F5C542'\n                          }}>\n                            {swap.status}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Sidebar */}\n              <div>\n                {/* 4. REDESIGNED MARKET PRICES WIDGET */}\n                <div style={{\n                  background: 'linear-gradient(135deg, rgba(2, 6, 24, 0.95) 0%, rgba(7, 19, 39, 0.9) 100%)',\n                  border: '1px solid rgba(0, 240, 255, 0.3)',\n                  borderRadius: '20px',\n                  padding: isMobile ? '20px' : '24px',\n                  marginBottom: '24px',\n                  boxShadow: 'inset 0 2px 20px rgba(0, 0, 0, 0.4), 0 0 30px rgba(0, 240, 255, 0.15)'\n                }}>\n                  <h3 style={{ fontSize: isMobile ? '17px' : '19px', fontWeight: '600', color: '#FFFFFF', marginBottom: '20px', display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <IoTrendingUp size={22} color=\"#00F0FF\" strokeWidth={2.5} />\n                    Market Prices\n                  </h3>\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '14px' }}>\n                    {cryptos.slice(0, 6).map(crypto => {\n                      const priceData = prices ? prices[crypto.code] : null;\n                      const price = priceData?.price_usd || 0;\n                      const change = priceData?.change_24h || 0;\n                      const isPositive = parseFloat(change) >= 0;\n                      \n                      return (\n                        <div key={crypto.code} style={{\n                          padding: '14px',\n                          background: 'rgba(0, 0, 0, 0.3)',\n                          borderRadius: '12px',\n                          border: '1px solid rgba(0, 240, 255, 0.15)',\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '12px',\n                          transition: 'all 0.3s',\n                          cursor: 'pointer'\n                        }}\n                        onMouseEnter={(e) => {\n                          e.currentTarget.style.borderColor = crypto.color + '80';\n                          e.currentTarget.style.background = 'rgba(0, 0, 0, 0.5)';\n                        }}\n                        onMouseLeave={(e) => {\n                          e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.15)';\n                          e.currentTarget.style.background = 'rgba(0, 0, 0, 0.3)';\n                        }}>\n                          <img src={getCoinLogo(crypto.code)} alt={crypto.code} style={{ width: '24px', height: '24px', objectFit: 'contain' }} />\n                          <div style={{ flex: 1 }}>\n                            <div style={{ fontSize: '14px', fontWeight: '700', color: '#FFFFFF', marginBottom: '2px' }}>{crypto.code}</div>\n                            <div style={{ fontSize: '11px', color: '#8F9BB3' }}>{crypto.name}</div>\n                          </div>\n                          <div style={{ textAlign: 'right' }}>\n                            <div style={{ fontSize: '15px', fontWeight: '700', color: '#00F0FF', marginBottom: '2px' }}>${price.toFixed(2)}</div>\n                            <div style={{ fontSize: '12px', fontWeight: '600', color: isPositive ? '#22C55E' : '#EF4444' }}>\n                              {isPositive ? '+' : ''}{change}%\n                            </div>\n                          </div>\n                          {/* Sparkline */}\n                          <svg width=\"60\" height=\"24\" style={{ opacity: 0.7 }}>\n                            <polyline\n                              points=\"0,18 12,15 24,16 36,10 48,12 60,8\"\n                              fill=\"none\"\n                              stroke={isPositive ? '#22C55E' : '#EF4444'}\n                              strokeWidth=\"2\"\n                            />\n                          </svg>\n                        </div>\n                      );\n                    })}\n                  </div>\n                </div>\n\n                {/* 5. IMPROVED SWAP INFO SECTION */}\n                <div style={{\n                  background: 'linear-gradient(135deg, rgba(2, 6, 24, 0.95) 0%, rgba(7, 19, 39, 0.9) 100%)',\n                  border: '2px solid rgba(155, 77, 255, 0.3)',\n                  borderRadius: '20px',\n                  padding: isMobile ? '20px' : '24px',\n                  boxShadow: '0 0 40px rgba(155, 77, 255, 0.2), inset 0 2px 20px rgba(0, 0, 0, 0.4)'\n                }}>\n                  <h3 style={{ fontSize: isMobile ? '17px' : '19px', fontWeight: '600', color: '#FFFFFF', marginBottom: '20px', display: 'flex', alignItems: 'center', gap: '10px' }}>\n                    <IoInformationCircle size={22} color=\"#9B4DFF\" strokeWidth={2.5} />\n                    Swap Info\n                  </h3>\n                  <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', fontSize: isMobile ? '13px' : '14px', color: '#D1D5DB' }}>\n                    <div style={{ display: 'flex', gap: '12px', alignItems: 'flex-start' }}>\n                      <IoCheckmarkCircle size={20} color=\"#22C55E\" style={{ flexShrink: 0, marginTop: '2px' }} />\n                      <span>Instant swaps with best market rates</span>\n                    </div>\n                    <div style={{ display: 'flex', gap: '12px', alignItems: 'flex-start' }}>\n                      <IoShield size={20} color=\"#00F0FF\" style={{ flexShrink: 0, marginTop: '2px' }} />\n                      <span>Secure escrow protection on all swaps</span>\n                    </div>\n                    <div style={{ display: 'flex', gap: '12px', alignItems: 'flex-start' }}>\n                      <IoCash size={20} color=\"#8FFF4E\" style={{ flexShrink: 0, marginTop: '2px' }} />\n                      <span>{platformFee}% platform fee - no hidden charges</span>\n                    </div>\n                    <div style={{ display: 'flex', gap: '12px', alignItems: 'flex-start' }}>\n                      <IoFlash size={20} color=\"#F5C542\" style={{ flexShrink: 0, marginTop: '2px' }} />\n                      <span>Real-time price updates every 10 seconds</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        {/* Settings Modal */}\n        {showSettings && (\n          <div style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            background: 'rgba(0, 0, 0, 0.9)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000,\n            padding: '20px'\n          }}>\n            <div style={{\n              background: 'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.99) 100%)',\n              border: '2px solid rgba(0, 240, 255, 0.4)',\n              borderRadius: '24px',\n              padding: '36px',\n              maxWidth: '450px',\n              width: '100%',\n              boxShadow: '0 0 80px rgba(0, 240, 255, 0.4)'\n            }}>\n              <h2 style={{ fontSize: '26px', fontWeight: '700', color: '#FFFFFF', marginBottom: '28px' }}>Swap Settings</h2>\n              \n              <div style={{ marginBottom: '28px' }}>\n                <label style={{ fontSize: '14px', color: '#8F9BB3', marginBottom: '14px', display: 'block', fontWeight: '600' }}>Slippage Tolerance</label>\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '10px', marginBottom: '14px' }}>\n                  {[0.1, 0.5, 1.0, 3.0].map(value => (\n                    <button\n                      key={value}\n                      onClick={() => setSlippage(value)}\n                      style={{\n                        padding: '14px',\n                        background: slippage === value ? 'linear-gradient(135deg, #00F0FF, #0080FF)' : 'rgba(0, 0, 0, 0.4)',\n                        border: `1px solid ${slippage === value ? 'rgba(0, 240, 255, 0.6)' : 'rgba(0, 240, 255, 0.2)'}`,\n                        borderRadius: '12px',\n                        color: slippage === value ? '#FFFFFF' : '#8F9BB3',\n                        fontSize: '15px',\n                        fontWeight: '700',\n                        cursor: 'pointer',\n                        transition: 'all 0.3s',\n                        boxShadow: slippage === value ? '0 0 20px rgba(0, 240, 255, 0.4)' : 'none'\n                      }}\n                    >\n                      {value}%\n                    </button>\n                  ))}\n                </div>\n                <input\n                  type=\"number\"\n                  value={slippage}\n                  onChange={(e) => setSlippage(parseFloat(e.target.value))}\n                  placeholder=\"Custom\"\n                  step=\"0.1\"\n                  style={{\n                    width: '100%',\n                    padding: '16px',\n                    background: 'rgba(0, 0, 0, 0.4)',\n                    border: '1px solid rgba(0, 240, 255, 0.3)',\n                    borderRadius: '14px',\n                    color: '#FFFFFF',\n                    fontSize: '16px'\n                  }}\n                />\n              </div>\n\n              <CHXButton\n                onClick={() => setShowSettings(false)}\n                coinColor=\"#00F0FF\"\n                variant=\"primary\"\n                size=\"medium\"\n                fullWidth\n              >\n                Save Settings\n              </CHXButton>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <style>{`\n        @keyframes scroll {\n          0% { transform: translateX(0); }\n          100% { transform: translateX(-33.33%); }\n        }\n      `}</style>\n    </>\n  );\n}\n\nexport default SwapCrypto;\n"],"mappings":"kGAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,QAAQ,CAC9B,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,iBAAiB,KAAM,gCAAgC,CAC9D,OAASC,aAAa,GAAI,CAAAC,WAAW,CAAEC,WAAW,GAAI,CAAAC,WAAW,CAAEC,MAAM,CAAEC,WAAW,GAAI,CAAAC,KAAK,CAAEC,iBAAiB,CAAEC,aAAa,CAAEC,OAAO,CAAEC,mBAAmB,CAAEC,SAAS,GAAI,CAAAC,SAAS,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,YAAY,KAAQ,iBAAiB,CAC5P,OAASC,0BAA0B,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElE,KAAM,CAAAC,GAAG,CAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB,CAE7C,KAAM,CAAAC,WAAW,CAAIC,MAAM,mBAAAC,MAAA,CAAsBD,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEE,WAAW,CAAC,CAAC,QAAM,CAE5E,QAAS,CAAAC,UAAUA,CAAA,CAAG,KAAAC,gBAAA,CACpB,KAAM,CAAAC,QAAQ,CAAGvC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACwC,OAAO,CAAEC,UAAU,CAAC,CAAG3C,QAAQ,CAAC,CACrC,CAAE4C,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAC,CAClD,CAAEF,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAE,UAAU,CAAEC,KAAK,CAAE,SAAU,CAAC,CACnD,CAAEF,IAAI,CAAE,MAAM,CAAEC,IAAI,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAU,CAAC,CAClD,CAAEF,IAAI,CAAE,MAAM,CAAEC,IAAI,CAAE,UAAU,CAAEC,KAAK,CAAE,SAAU,CAAC,CACpD,CAAEF,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAE,cAAc,CAAEC,KAAK,CAAE,SAAU,CAAC,CACvD,CAAEF,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAU,CAAC,CACjD,CAAEF,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAE,QAAQ,CAAEC,KAAK,CAAE,SAAU,CAAC,CACjD,CAAEF,IAAI,CAAE,KAAK,CAAEC,IAAI,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAU,CAAC,CAClD,CAAEF,IAAI,CAAE,MAAM,CAAEC,IAAI,CAAE,UAAU,CAAEC,KAAK,CAAE,SAAU,CAAC,CACrD,CAAC,CAEF,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGhD,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACiD,QAAQ,CAAEC,WAAW,CAAC,CAAGlD,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACmD,UAAU,CAAEC,aAAa,CAAC,CAAGpD,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACqD,QAAQ,CAAEC,WAAW,CAAC,CAAGtD,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACuD,OAAO,CAAEC,UAAU,CAAC,CAAGxD,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACyD,QAAQ,CAAEC,WAAW,CAAC,CAAG1D,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAC2D,MAAM,CAAEC,SAAS,CAAC,CAAG5D,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAC6D,UAAU,CAAEC,aAAa,CAAC,CAAG9D,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAAC+D,YAAY,CAAEC,eAAe,CAAC,CAAGhE,QAAQ,CAAC,CAAC,CAAC,CACnD,KAAM,CAACiE,QAAQ,CAAEC,WAAW,CAAC,CAAGlE,QAAQ,CAAC,GAAG,CAAC,CAC7C,KAAM,CAACmE,YAAY,CAAEC,eAAe,CAAC,CAAGpE,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACqE,WAAW,CAAEC,cAAc,CAAC,CAAGtE,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACuE,UAAU,CAAEC,aAAa,CAAC,CAAGxE,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACyE,cAAc,CAAEC,iBAAiB,CAAC,CAAG1E,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxD,KAAM,CAAC2E,SAAS,CAAEC,YAAY,CAAC,CAAG5E,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtD,KAAM,CAAC6E,YAAY,CAAEC,eAAe,CAAC,CAAG9E,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAC+E,WAAW,CAAEC,cAAc,CAAC,CAAGhF,QAAQ,CAAC,IAAI,CAAC,CAAE;AACtD,KAAM,CAAAiF,QAAQ,CAAGC,MAAM,CAACC,UAAU,CAAG,GAAG,CAExClF,SAAS,CAAC,IAAM,CACdmF,qBAAqB,CAAC,CAAC,CACvBC,gBAAgB,CAAC,CAAC,CAClBC,mBAAmB,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAENrF,SAAS,CAAC,IAAM,CACdsF,WAAW,CAAC,CAAC,CACb,KAAM,CAAAC,QAAQ,CAAGC,WAAW,CAACF,WAAW,CAAE,KAAK,CAAC,CAChD,MAAO,IAAMG,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAENvF,SAAS,CAAC,IAAM,CACd,GAAIkD,UAAU,EAAIQ,MAAM,CAAE,CACxBgC,iBAAiB,CAAC,CAAC,CACrB,CACF,CAAC,CAAE,CAACxC,UAAU,CAAEJ,UAAU,CAAEE,QAAQ,CAAEU,MAAM,CAAC,CAAC,CAE9C,KAAM,CAAA2B,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CACxD,KAAM,CAAAC,IAAI,CAAGH,QAAQ,CAAGI,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAAG,IAAI,CAEnD,GAAIG,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEG,OAAO,CAAE,CACjB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhG,KAAK,CAACiG,GAAG,IAAA/D,MAAA,CAAIN,GAAG,2BAAAM,MAAA,CAAyB0D,IAAI,CAACG,OAAO,CAAE,CAAC,CAC/E,GAAIC,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAE,CACzB,KAAM,CAAAC,QAAQ,CAAG,CAAC,CAAC,CACnBJ,QAAQ,CAACE,IAAI,CAACE,QAAQ,CAACC,OAAO,CAACC,GAAG,EAAI,CACpCF,QAAQ,CAACE,GAAG,CAACC,QAAQ,CAAC,CAAGD,GAAG,CAACE,iBAAiB,EAAI,CAAC,CACrD,CAAC,CAAC,CACFjC,iBAAiB,CAAC6B,QAAQ,CAAC,CAC7B,CACF,CACF,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CACF,CAAC,CAED,KAAM,CAAAxB,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAhG,KAAK,CAACiG,GAAG,IAAA/D,MAAA,CAAIN,GAAG,6BAA2B,CAAC,CACnE,GAAIoE,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAIH,QAAQ,CAACE,IAAI,CAACS,cAAc,CAACC,MAAM,CAAG,CAAC,CAAE,CACpE,KAAM,CAAAC,UAAU,CAAGb,QAAQ,CAACE,IAAI,CAACS,cAAc,CAACG,GAAG,CAACC,IAAI,GAAK,CAC3DtE,IAAI,CAAEsE,IAAI,CAAC9E,MAAM,CACjBS,IAAI,CAAEqE,IAAI,CAACrE,IAAI,CACfC,KAAK,CAAEoE,IAAI,CAACpE,KAAK,EAAI,SAAS,CAC9BqE,IAAI,CAAEhF,WAAW,CAAC+E,IAAI,CAAC9E,MAAM,CAC/B,CAAC,CAAC,CAAC,CACHO,UAAU,CAACqE,UAAU,CAAC,CACxB,CACF,CAAE,MAAOJ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mCAAmC,CAAEA,KAAK,CAAC,CAC3D,CACF,CAAC,CAED,KAAM,CAAArB,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAY,QAAQ,CAAG,KAAM,CAAAhG,KAAK,CAACiG,GAAG,IAAA/D,MAAA,CAAIN,GAAG,oBAAkB,CAAC,CAC1D,GAAIoE,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAIH,QAAQ,CAACE,IAAI,CAAC1C,MAAM,CAAE,CACjDC,SAAS,CAACuC,QAAQ,CAACE,IAAI,CAAC1C,MAAM,CAAC,CAC/BG,aAAa,CAAC,GAAI,CAAAsD,IAAI,CAAC,CAAC,CAAC,CAEzB;AACA,KAAM,CAAAC,MAAM,CAAG3E,OAAO,CAACuE,GAAG,CAACK,MAAM,EAAI,CACnC,KAAM,CAAAC,SAAS,CAAGpB,QAAQ,CAACE,IAAI,CAAC1C,MAAM,CAAC2D,MAAM,CAAC1E,IAAI,CAAC,CACnD,OAAA4E,aAAA,CAAAA,aAAA,IACKF,MAAM,MACTG,KAAK,CAAE,CAAAF,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEG,SAAS,GAAI,CAAC,CAChCC,MAAM,CAAE,CAAAJ,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEK,UAAU,GAAI,CAAC,GAEtC,CAAC,CAAC,CACFpD,aAAa,CAAC6C,MAAM,CAAC,CACvB,CACF,CAAE,MAAOT,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,KAAM,CAAAvB,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF,KAAM,CAAAO,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CACxD,GAAI,CAACF,QAAQ,CAAE,OACf,KAAM,CAAAG,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAEjC,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAhG,KAAK,CAACiG,GAAG,IAAA/D,MAAA,CAAIN,GAAG,uBAAAM,MAAA,CAAqB0D,IAAI,CAACG,OAAO,YAAU,CAAC,CACnF,GAAIC,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAE,CACzBhC,cAAc,CAAC6B,QAAQ,CAACE,IAAI,CAACwB,KAAK,EAAI,EAAE,CAAC,CAC3C,CACF,CAAE,MAAOjB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAjB,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAI,CAACxC,UAAU,EAAI,CAACQ,MAAM,CAAE,OAE5B,KAAM,CAAAmE,aAAa,CAAGnE,MAAM,CAACZ,UAAU,CAAC,CACxC,KAAM,CAAAgF,WAAW,CAAGpE,MAAM,CAACV,QAAQ,CAAC,CAEpC,KAAM,CAAA+E,SAAS,CAAG,CAAAF,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEJ,SAAS,GAAI,CAAC,CAC/C,KAAM,CAAAO,OAAO,CAAG,CAAAF,WAAW,SAAXA,WAAW,iBAAXA,WAAW,CAAEL,SAAS,GAAI,CAAC,CAE3C,GAAIM,SAAS,EAAIC,OAAO,CAAE,CACxB,KAAM,CAAAC,IAAI,CAAGF,SAAS,CAAGC,OAAO,CAChCjE,eAAe,CAACkE,IAAI,CAAC,CACrB,KAAM,CAAAC,UAAU,CAAG,CAACC,UAAU,CAACjF,UAAU,CAAC,CAAG+E,IAAI,EAAEG,OAAO,CAAC,CAAC,CAAC,CAC7D/E,WAAW,CAAC6E,UAAU,CAAC,CACzB,CACF,CAAC,CAED,KAAM,CAAAG,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B;AAEA;AACA,GAAI,CAACnF,UAAU,EAAIoF,KAAK,CAACH,UAAU,CAACjF,UAAU,CAAC,CAAC,EAAIiF,UAAU,CAACjF,UAAU,CAAC,EAAI,CAAC,CAAE,CAC/E/C,KAAK,CAACwG,KAAK,CAAC,6BAA6B,CAAC,CAC1CC,OAAO,CAACD,KAAK,CAAC,iBAAiB,CAAEzD,UAAU,CAAC,CAC5C,OACF,CAEA;AACA,KAAM,CAAAqF,kBAAkB,CAAGJ,UAAU,CAACjF,UAAU,CAAC,CAQjD;AACA,KAAM,CAAAsF,gBAAgB,CAAGhE,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,CAOxD;AACA,GAAI0F,gBAAgB,GAAK,CAAC,CAAE,CAC1BrI,KAAK,CAACwG,KAAK,gBAAAvE,MAAA,CAAgBU,UAAU,2DAAAV,MAAA,CAAyDU,UAAU,WAAS,CAAC,CAClH,OACF,CAEA;AACA,GAAIyF,kBAAkB,CAAGC,gBAAgB,CAAE,KAAAC,kBAAA,CACzC,KAAM,CAAAC,OAAO,CAAG,CAACF,gBAAgB,EAAI,EAAAC,kBAAA,CAAA/E,MAAM,CAACZ,UAAU,CAAC,UAAA2F,kBAAA,iBAAlBA,kBAAA,CAAoBhB,SAAS,GAAI,CAAC,CAAC,EAAEW,OAAO,CAAC,CAAC,CAAC,CACpFjI,KAAK,CAACwG,KAAK,iBAAAvE,MAAA,CAAiBU,UAAU,wBAAAV,MAAA,CAAsBoG,gBAAgB,CAACJ,OAAO,CAAC,CAAC,CAAC,MAAAhG,MAAA,CAAIU,UAAU,iBAAAV,MAAA,CAAOsG,OAAO,qCAAmC,CAAC,CACvJ,OACF,CAEA;AACA,GAAI,CAAChF,MAAM,EAAI,CAACA,MAAM,CAACZ,UAAU,CAAC,EAAI,CAACY,MAAM,CAACV,QAAQ,CAAC,CAAE,CACvD7C,KAAK,CAACwG,KAAK,CAAC,sDAAsD,CAAC,CACnEC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAE,CAAEjD,MAAM,CAAEZ,UAAU,CAAEE,QAAS,CAAC,CAAC,CACtE,OACF,CAEA,GAAI,CACFS,WAAW,CAAC,IAAI,CAAC,CACjB,KAAM,CAAAkC,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CACxD,GAAI,CAACF,QAAQ,CAAE,CACbxF,KAAK,CAACwG,KAAK,CAAC,sBAAsB,CAAC,CACnC,OACF,CACA,KAAM,CAAAb,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC,CAEjC,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAhG,KAAK,CAACyI,IAAI,IAAAvG,MAAA,CAAIN,GAAG,sBAAqB,CAC3DmE,OAAO,CAAEH,IAAI,CAACG,OAAO,CACrB2C,aAAa,CAAE9F,UAAU,CACzB+F,WAAW,CAAE7F,QAAQ,CACrB8F,WAAW,CAAEP,kBAAkB,CAC/BQ,gBAAgB,CAAE/E,QACpB,CAAC,CAAC,CAEF,GAAIkC,QAAQ,CAACE,IAAI,CAACC,OAAO,CAAE,CACzB;AACAtB,cAAc,CAAC,CACbiE,OAAO,6BAAA5G,MAAA,CAA8B8D,QAAQ,CAACE,IAAI,CAAC6C,SAAS,CAACb,OAAO,CAAC,CAAC,CAAC,MAAAhG,MAAA,CAAIY,QAAQ,CAAE,CACrFE,UAAU,CAAEqF,kBAAkB,CAC9BnF,QAAQ,CAAE8C,QAAQ,CAACE,IAAI,CAAC6C,SAC1B,CAAC,CAAC,CAEF;AACAC,UAAU,CAAC,IAAMnE,cAAc,CAAC,IAAI,CAAC,CAAE,IAAI,CAAC,CAE5C5B,aAAa,CAAC,EAAE,CAAC,CACjBE,WAAW,CAAC,EAAE,CAAC,CACf+B,gBAAgB,CAAC,CAAC,CAClBC,mBAAmB,CAAC,CAAC,CAAE;AACvB9D,0BAA0B,CAAC,CAAC,CAAE;AAChC,CAAC,IAAM,CACLpB,KAAK,CAACwG,KAAK,CAACT,QAAQ,CAACE,IAAI,CAAC4C,OAAO,EAAI,aAAa,CAAC,CACrD,CACF,CAAE,MAAOrC,KAAK,CAAE,KAAAwC,eAAA,CAAAC,oBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACd1C,OAAO,CAACD,KAAK,CAAC,aAAa,CAAEA,KAAK,CAAC,CACnC,KAAM,CAAA4C,QAAQ,CAAG,EAAAJ,eAAA,CAAAxC,KAAK,CAACT,QAAQ,UAAAiD,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgB/C,IAAI,UAAAgD,oBAAA,iBAApBA,oBAAA,CAAsBJ,OAAO,KAAAK,gBAAA,CAAI1C,KAAK,CAACT,QAAQ,UAAAmD,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBjD,IAAI,UAAAkD,qBAAA,iBAApBA,qBAAA,CAAsB3C,KAAK,GAAI,aAAa,CAC9FxG,KAAK,CAACwG,KAAK,CAAC4C,QAAQ,CAAC,CACvB,CAAC,OAAS,CACR9F,WAAW,CAAC,KAAK,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAA+F,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAAC,UAAU,CAAG3G,UAAU,CAC7B,KAAM,CAAA4G,UAAU,CAAGxG,UAAU,CAC7BH,aAAa,CAACC,QAAQ,CAAC,CACvBC,WAAW,CAACwG,UAAU,CAAC,CACvBtG,aAAa,CAACC,QAAQ,CAAC,CACvBC,WAAW,CAACqG,UAAU,CAAC,CACzB,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAMlH,OAAO,CAACmH,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAClH,IAAI,GAAKG,UAAU,CAAC,EAAIL,OAAO,CAAC,CAAC,CAAC,CAClF,KAAM,CAAAqH,WAAW,CAAGA,CAAA,GAAMrH,OAAO,CAACmH,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAClH,IAAI,GAAKK,QAAQ,CAAC,EAAIP,OAAO,CAAC,CAAC,CAAC,CAC9E,KAAM,CAAAsH,WAAW,CAAG,GAAG,CACvB,KAAM,CAAAC,gBAAgB,CAAG5G,QAAQ,CAAG,CAAC+E,UAAU,CAAC/E,QAAQ,CAAC,EAAI,CAAC,CAAG2G,WAAW,CAAG,GAAG,CAAC,EAAE3B,OAAO,CAAC,CAAC,CAAC,CAAG,MAAM,CAExG,mBACEzG,KAAA,CAAAE,SAAA,EAAAoI,QAAA,eACEtI,KAAA,QAAKuI,KAAK,CAAE,CACVC,SAAS,CAAE,OAAO,CAClBC,UAAU,CAAE,mDAAmD,CAC/DC,aAAa,CAAE,MACjB,CAAE,CAAAJ,QAAA,eAIAxI,IAAA,QAAKyI,KAAK,CAAE,CAAEI,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAO,CAAE,CAAAiF,QAAA,cAClDtI,KAAA,QAAKuI,KAAK,CAAE,CAAEK,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,QAAS,CAAE,CAAAP,QAAA,eAGnDtI,KAAA,QAAKuI,KAAK,CAAE,CAAEO,YAAY,CAAEzF,QAAQ,CAAG,MAAM,CAAG,MAAO,CAAE,CAAAiF,QAAA,eACvDtI,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE3F,QAAQ,CAAG,QAAQ,CAAG,KAAK,CAAE4F,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE7F,QAAQ,CAAG,YAAY,CAAG,QAAQ,CAAEyF,YAAY,CAAE,MAAM,CAAEK,GAAG,CAAE9F,QAAQ,CAAG,MAAM,CAAG,GAAI,CAAE,CAAAiF,QAAA,eAC/MtI,KAAA,QAAAsI,QAAA,eACEtI,KAAA,OAAIuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEgG,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAK,CAAEC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAb,QAAA,eAChKxI,IAAA,CAACV,OAAO,EAACkK,IAAI,CAAEjG,QAAQ,CAAG,EAAE,CAAG,EAAG,CAACnC,KAAK,CAAC,SAAS,CAACqI,WAAW,CAAE,GAAI,CAAE,CAAC,cAEzE,EAAI,CAAC,cACLzJ,IAAA,MAAGyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAE2H,MAAM,CAAE,CAAE,CAAE,CAAAP,QAAA,CAAC,uDAAqD,CAAG,CAAC,EACvI,CAAC,cACNtI,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAM,CAAED,UAAU,CAAE,QAAQ,CAAEM,KAAK,CAAEnG,QAAQ,CAAG,MAAM,CAAG,MAAO,CAAE,CAAAiF,QAAA,eACpGtI,KAAA,QAAKuI,KAAK,CAAE,CACVI,OAAO,CAAEtF,QAAQ,CAAG,WAAW,CAAG,WAAW,CAC7CoF,UAAU,CAAE,wBAAwB,CACpCgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBX,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,KAAK,CACVQ,IAAI,CAAEtG,QAAQ,CAAG,CAAC,CAAG,MAAM,CAC3BuG,SAAS,CAAE,iCACb,CAAE,CAAAtB,QAAA,eACAxI,IAAA,CAACJ,MAAM,EAAC4J,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAAE,CAAC,cACpCpB,IAAA,SAAMyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAEmI,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,CACxFrG,UAAU,CAAGA,UAAU,CAAC4H,kBAAkB,CAAC,CAAC,CAAG,MAAM,CAClD,CAAC,EACJ,CAAC,cACN/J,IAAA,WACEgK,OAAO,CAAEA,CAAA,GAAMtH,eAAe,CAAC,CAACD,YAAY,CAAE,CAC9CgG,KAAK,CAAE,CACLI,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCoF,UAAU,CAAE,wBAAwB,CACpCgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBK,MAAM,CAAE,SAAS,CACjBC,UAAU,CAAE,UAAU,CACtBJ,SAAS,CAAE,iCACb,CAAE,CAAAtB,QAAA,cAEFxI,IAAA,CAACN,UAAU,EAAC8J,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAAE,CAAC,CAClC,CAAC,EACN,CAAC,EACH,CAAC,cACNpB,IAAA,QAAKyI,KAAK,CAAE,CAAE0B,MAAM,CAAE,KAAK,CAAExB,UAAU,CAAE,sFAAsF,CAAEmB,SAAS,CAAE,iCAAkC,CAAE,CAAE,CAAC,EAChL,CAAC,cAEN5J,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEmB,mBAAmB,CAAE7G,QAAQ,CAAG,KAAK,CAAG,WAAW,CAAE8F,GAAG,CAAE9F,QAAQ,CAAG,MAAM,CAAG,MAAO,CAAE,CAAAiF,QAAA,eAGpHtI,KAAA,QAAAsI,QAAA,eACEtI,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,8EAA8E,CAC1FgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCyF,YAAY,CAAEzF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACxCuG,SAAS,CAAE,yEAAyE,CACpFO,QAAQ,CAAE,UACZ,CAAE,CAAA7B,QAAA,eAEAxI,IAAA,QAAKyI,KAAK,CAAE,CACV4B,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,OAAO,CACZC,IAAI,CAAE,KAAK,CACXC,SAAS,CAAE,kBAAkB,CAC7Bd,KAAK,CAAE,OAAO,CACdS,MAAM,CAAE,MAAM,CACdxB,UAAU,CAAE,8DAA8D,CAC1E8B,MAAM,CAAE,YAAY,CACpBC,aAAa,CAAE,MACjB,CAAE,CAAE,CAAC,cAGLxK,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,oBAAoB,CAChCgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCyF,YAAY,CAAE,MAAM,CACpBc,SAAS,CAAE,qCAAqC,CAChDhB,QAAQ,CAAEvF,QAAQ,CAAG,MAAM,CAAG,OAAO,CACrCwF,MAAM,CAAE,kBACV,CAAE,CAAAP,QAAA,eAEAxI,IAAA,QAAKyI,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAO,CAAE,CAAAR,QAAA,cACnCxI,IAAA,SAAMyI,KAAK,CAAE,CACXa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCnC,KAAK,CAAE,SAAS,CAChBmI,UAAU,CAAE,KAAK,CACjBoB,aAAa,CAAE,WAAW,CAC1BC,aAAa,CAAE,OAAO,CACtB3B,OAAO,CAAE,OACX,CAAE,CAAAT,QAAA,CAAC,MAAI,CAAM,CAAC,CACX,CAAC,cAGNxI,IAAA,QAAKyI,KAAK,CAAE,CACVQ,OAAO,CAAE,MAAM,CACfE,cAAc,CAAE,QAAQ,CACxBH,YAAY,CAAE,KAChB,CAAE,CAAAR,QAAA,cACAtI,KAAA,QAAKuI,KAAK,CAAE,CACVQ,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,MAAM,CACXV,UAAU,CAAE,wBAAwB,CACpCE,OAAO,CAAEtF,QAAQ,CAAG,WAAW,CAAG,WAAW,CAC7CqG,YAAY,CAAE,MAAM,CACpBD,MAAM,CAAE,kCACV,CAAE,CAAAnB,QAAA,eACAxI,IAAA,QAAK6K,GAAG,CAAEpK,WAAW,CAACY,UAAU,CAAE,CAACyJ,GAAG,CAAEzJ,UAAW,CAACoH,KAAK,CAAE,CAAEiB,KAAK,CAAE,MAAM,CAAES,MAAM,CAAE,MAAM,CAAEY,SAAS,CAAE,SAAU,CAAE,CAAE,CAAC,cACtH/K,IAAA,WACEgL,KAAK,CAAE3J,UAAW,CAClB4J,QAAQ,CAAGC,CAAC,EAAK5J,aAAa,CAAC4J,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CvC,KAAK,CAAE,CACLE,UAAU,CAAE,aAAa,CACzBgB,MAAM,CAAE,MAAM,CACdvI,KAAK,CAAE,SAAS,CAChBkI,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCgG,UAAU,CAAE,KAAK,CACjBU,MAAM,CAAE,SAAS,CACjBmB,OAAO,CAAE,MACX,CAAE,CAAA5C,QAAA,CAEDxH,OAAO,CAACuE,GAAG,CAACK,MAAM,eACjB5F,IAAA,WAA0BgL,KAAK,CAAEpF,MAAM,CAAC1E,IAAK,CAAAsH,QAAA,CAAE5C,MAAM,CAAC1E,IAAI,EAA7C0E,MAAM,CAAC1E,IAA+C,CACpE,CAAC,CACI,CAAC,EACN,CAAC,CACH,CAAC,cAGNhB,KAAA,QAAKuI,KAAK,CAAE,CACV4C,SAAS,CAAE,QAAQ,CACnBrC,YAAY,CAAE,MAAM,CACpBH,OAAO,CAAE,MAAM,CACfF,UAAU,CAAE,CAAC5F,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,IAAM,CAAC,CAAG,wBAAwB,CAAG,yBAAyB,CAC1GuI,YAAY,CAAE,MAAM,CACpBD,MAAM,cAAAhJ,MAAA,CAAe,CAACoC,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,IAAM,CAAC,CAAG,wBAAwB,CAAG,wBAAwB,CACpH,CAAE,CAAAmH,QAAA,eACAxI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAElI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAM,CAAE,CAAAR,QAAA,CAAC,mBAAiB,CAAK,CAAC,cAChGtI,KAAA,QAAKuI,KAAK,CAAE,CACVa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCgG,UAAU,CAAE,KAAK,CACjBnI,KAAK,CAAE,CAAC2B,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,IAAM,CAAC,CAAG,SAAS,CAAG,SAC/D,CAAE,CAAAmH,QAAA,EACC,CAACzF,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,EAAEsF,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,CAACtF,UAAU,EACvD,CAAC,CACLY,MAAM,EAAIA,MAAM,CAACZ,UAAU,CAAC,eAC3BnB,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAElI,KAAK,CAAE,SAAS,CAAEkK,SAAS,CAAE,KAAM,CAAE,CAAA9C,QAAA,EAAC,aACjE,CAAC,CAAC,CAACzF,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,EAAIY,MAAM,CAACZ,UAAU,CAAC,CAAC2E,SAAS,EAAEW,OAAO,CAAC,CAAC,CAAC,EAC9E,CACN,CACA,CAAC5D,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAC,IAAM,CAAC,eACtCnB,KAAA,QAAKuI,KAAK,CAAE,CAAE6C,SAAS,CAAE,MAAO,CAAE,CAAA9C,QAAA,eAChCtI,KAAA,QAAKuI,KAAK,CAAE,CACVa,QAAQ,CAAE,MAAM,CAChBlI,KAAK,CAAE,SAAS,CAChB4H,YAAY,CAAE,KAAK,CACnBO,UAAU,CAAE,KACd,CAAE,CAAAf,QAAA,EAAC,kBACK,CAACnH,UAAU,CAAC,UACpB,EAAK,CAAC,cACNnB,KAAA,WACE8J,OAAO,CAAEA,CAAA,GAAMjJ,QAAQ,CAAC,cAAc,CAAE,CACxC0H,KAAK,CAAE,CACLE,UAAU,CAAE,2CAA2C,CACvDgB,MAAM,CAAE,MAAM,CACdC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,WAAW,CAAG,UAAU,CAC5CnC,KAAK,CAAE,SAAS,CAChBkI,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCgG,UAAU,CAAE,KAAK,CACjBU,MAAM,CAAE,SAAS,CACjBH,SAAS,CAAE,mCAAmC,CAC9CI,UAAU,CAAE,UAAU,CACtBR,KAAK,CAAEnG,QAAQ,CAAG,MAAM,CAAG,MAC7B,CAAE,CACFgI,YAAY,CAAGL,CAAC,EAAK,CACnB,GAAI,CAAC3H,QAAQ,CAAE,CACb2H,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAAC+B,SAAS,CAAG,kBAAkB,CACpDU,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACqB,SAAS,CAAG,mCAAmC,CACvE,CACF,CAAE,CACF2B,YAAY,CAAGP,CAAC,EAAK,CACnB,GAAI,CAAC3H,QAAQ,CAAE,CACb2H,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAAC+B,SAAS,CAAG,eAAe,CACjDU,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACqB,SAAS,CAAG,mCAAmC,CACvE,CACF,CAAE,CAAAtB,QAAA,EACH,MACK,CAACnH,UAAU,CAAC,aAClB,EAAQ,CAAC,EACN,CACN,EACE,CAAC,cAGNrB,IAAA,CAACpB,iBAAiB,EAChB8M,YAAY,CAAErK,UAAW,CACzBsK,YAAY,CAAExI,YAAa,CAC3ByI,YAAY,CAAGC,MAAM,EAAK,CACxB,KAAM,CAAAC,SAAS,CAAGD,MAAM,EAAI5J,MAAM,CAACZ,UAAU,CAAC,CAAGwK,MAAM,CAAG5J,MAAM,CAACZ,UAAU,CAAC,CAAC2E,SAAS,CAAG,CAAC,CAC1FtE,aAAa,CAACoK,SAAS,CAACC,QAAQ,CAAC,CAAC,CAAC,CACrC,CAAE,CACFC,cAAc,CAAGH,MAAM,EAAK,CAC1BnK,aAAa,CAACmK,MAAM,CAACE,QAAQ,CAAC,CAAC,CAAC,CAClC,CAAE,CACFE,iBAAiB,CAAC,EAAE,CACpBC,mBAAmB,CAAEzK,UAAW,CAChC0K,GAAG,CAAE,GAAI,CACTpF,gBAAgB,CAAEhE,cAAc,CAAC1B,UAAU,CAAC,EAAI,CAAE,CAClD+K,eAAe,CAAE,IAAK,CACtBC,KAAK,CAAC,EAAE,CACRC,oBAAoB,CAAE,IAAK,CAC5B,CAAC,EACC,CAAC,cAGNtM,IAAA,QAAKyI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEE,cAAc,CAAE,QAAQ,CAAEJ,MAAM,CAAE,eAAe,CAAEsB,QAAQ,CAAE,UAAU,CAAEkC,MAAM,CAAE,EAAG,CAAE,CAAA/D,QAAA,cACnHxI,IAAA,WACEgK,OAAO,CAAEjC,cAAe,CACxBU,KAAK,CAAE,CACLiB,KAAK,CAAEnG,QAAQ,CAAG,MAAM,CAAG,MAAM,CACjC4G,MAAM,CAAE5G,QAAQ,CAAG,MAAM,CAAG,MAAM,CAClCqG,YAAY,CAAE,KAAK,CACnBjB,UAAU,CAAE,2CAA2C,CACvDgB,MAAM,CAAE,mBAAmB,CAC3BM,MAAM,CAAE,SAAS,CACjBhB,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,QAAQ,CACxBe,UAAU,CAAE,UAAU,CACtBJ,SAAS,CAAE,mEAAmE,CAC9EO,QAAQ,CAAE,UACZ,CAAE,CACFkB,YAAY,CAAGL,CAAC,EAAK,CACnBA,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAAC+B,SAAS,CAAG,2BAA2B,CAC7DU,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACqB,SAAS,CAAG,mEAAmE,CACvG,CAAE,CACF2B,YAAY,CAAGP,CAAC,EAAK,CACnBA,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAAC+B,SAAS,CAAG,uBAAuB,CACzDU,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACqB,SAAS,CAAG,mEAAmE,CACvG,CAAE,CAAAtB,QAAA,cAEFxI,IAAA,CAAChB,WAAW,EAACwK,IAAI,CAAEjG,QAAQ,CAAG,EAAE,CAAG,EAAG,CAACnC,KAAK,CAAC,OAAO,CAACqI,WAAW,CAAE,CAAE,CAAE,CAAC,CACjE,CAAC,CACN,CAAC,cAGNvJ,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,oBAAoB,CAChCgB,MAAM,CAAE,mCAAmC,CAC3CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnC+H,SAAS,CAAE,MAAM,CACjBxB,SAAS,CAAE,qCAAqC,CAChDhB,QAAQ,CAAEvF,QAAQ,CAAG,MAAM,CAAG,OAAO,CACrCwF,MAAM,CAAE,kBACV,CAAE,CAAAP,QAAA,eAEAxI,IAAA,QAAKyI,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAO,CAAE,CAAAR,QAAA,cACnCxI,IAAA,SAAMyI,KAAK,CAAE,CACXa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCnC,KAAK,CAAE,SAAS,CAChBmI,UAAU,CAAE,KAAK,CACjBoB,aAAa,CAAE,WAAW,CAC1BC,aAAa,CAAE,OAAO,CACtB3B,OAAO,CAAE,OACX,CAAE,CAAAT,QAAA,CAAC,IAAE,CAAM,CAAC,CACT,CAAC,cAGNxI,IAAA,QAAKyI,KAAK,CAAE,CACVQ,OAAO,CAAE,MAAM,CACfE,cAAc,CAAE,QAAQ,CACxBH,YAAY,CAAE,MAChB,CAAE,CAAAR,QAAA,cACAtI,KAAA,QAAKuI,KAAK,CAAE,CACVQ,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,MAAM,CACXV,UAAU,CAAE,yBAAyB,CACrCE,OAAO,CAAEtF,QAAQ,CAAG,WAAW,CAAG,WAAW,CAC7CqG,YAAY,CAAE,MAAM,CACpBD,MAAM,CAAE,mCACV,CAAE,CAAAnB,QAAA,eACAxI,IAAA,QAAK6K,GAAG,CAAEpK,WAAW,CAACc,QAAQ,CAAE,CAACuJ,GAAG,CAAEvJ,QAAS,CAACkH,KAAK,CAAE,CAAEiB,KAAK,CAAE,MAAM,CAAES,MAAM,CAAE,MAAM,CAAEY,SAAS,CAAE,SAAU,CAAE,CAAE,CAAC,cAClH/K,IAAA,WACEgL,KAAK,CAAEzJ,QAAS,CAChB0J,QAAQ,CAAGC,CAAC,EAAK1J,WAAW,CAAC0J,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CvC,KAAK,CAAE,CACLE,UAAU,CAAE,aAAa,CACzBgB,MAAM,CAAE,MAAM,CACdvI,KAAK,CAAE,SAAS,CAChBkI,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCgG,UAAU,CAAE,KAAK,CACjBU,MAAM,CAAE,SAAS,CACjBmB,OAAO,CAAE,MACX,CAAE,CAAA5C,QAAA,CAEDxH,OAAO,CAACuE,GAAG,CAACK,MAAM,eACjB5F,IAAA,WAA0BgL,KAAK,CAAEpF,MAAM,CAAC1E,IAAK,CAAAsH,QAAA,CAAE5C,MAAM,CAAC1E,IAAI,EAA7C0E,MAAM,CAAC1E,IAA+C,CACpE,CAAC,CACI,CAAC,EACN,CAAC,CACH,CAAC,cAGNhB,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,SAAS,CACrBgB,MAAM,CAAE,mCAAmC,CAC3CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnC0F,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,eAAe,CAC/BE,GAAG,CAAE,MAAM,CACXP,QAAQ,CAAE,MAAM,CAChBC,MAAM,CAAE,QACV,CAAE,CAAAP,QAAA,eACAxI,IAAA,SAAMyI,KAAK,CAAE,CACXa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCnC,KAAK,CAAE,SAAS,CAChBmI,UAAU,CAAE,KACd,CAAE,CAAAf,QAAA,CAAC,cAAY,CAAM,CAAC,cACtBxI,IAAA,UACEwM,IAAI,CAAC,MAAM,CACXxB,KAAK,CAAErJ,QAAS,CAChB8K,QAAQ,MACRC,WAAW,CAAC,MAAM,CAClBjE,KAAK,CAAE,CACLoB,IAAI,CAAE,CAAC,CACPlB,UAAU,CAAE,aAAa,CACzBgB,MAAM,CAAE,MAAM,CACdvI,KAAK,CAAE,SAAS,CAChBkI,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCgG,UAAU,CAAE,KAAK,CACjB6B,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,OACb,CAAE,CACH,CAAC,cACFrL,IAAA,SAAMyI,KAAK,CAAE,CACXrH,KAAK,CAAE,SAAS,CAChBkI,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CACpCgG,UAAU,CAAE,KACd,CAAE,CAAAf,QAAA,CAAEjH,QAAQ,CAAO,CAAC,EACjB,CAAC,CAELU,MAAM,EAAIN,QAAQ,EAAIM,MAAM,CAACV,QAAQ,CAAC,eACrCrB,KAAA,QAAKuI,KAAK,CAAE,CAAE6C,SAAS,CAAE,KAAK,CAAED,SAAS,CAAE,QAAQ,CAAE/B,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAU,CAAE,CAAAoH,QAAA,EAAC,aAC1G,CAAC,CAAC9B,UAAU,CAAC/E,QAAQ,EAAI,CAAC,CAAC,EAAI,EAAAb,gBAAA,CAAAmB,MAAM,CAACV,QAAQ,CAAC,UAAAT,gBAAA,iBAAhBA,gBAAA,CAAkBkF,SAAS,GAAI,CAAC,CAAC,EAAEW,OAAO,CAAC,CAAC,CAAC,EAC5E,CACN,EACE,CAAC,CAGLtE,YAAY,CAAG,CAAC,eACfnC,KAAA,QAAKuI,KAAK,CAAE,CACV6C,SAAS,CAAE,MAAM,CACjBzC,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCoF,UAAU,CAAE,yBAAyB,CACrCgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBX,OAAO,CAAE,MAAM,CACfmB,mBAAmB,CAAE7G,QAAQ,CAAG,KAAK,CAAG,gBAAgB,CACxD8F,GAAG,CAAE,MAAM,CACXS,SAAS,CAAE,yCACb,CAAE,CAAAtB,QAAA,eACAtI,KAAA,QAAAsI,QAAA,eACExI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAK,CAAEO,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,CAAC,WAAS,CAAK,CAAC,cAC/HtI,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAEmI,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,EAAC,IACvF,CAACnH,UAAU,CAAC,KAAG,CAACgB,YAAY,CAACsE,OAAO,CAAC,CAAC,CAAC,CAAC,GAAC,CAACpF,QAAQ,EACjD,CAAC,EACH,CAAC,cACNrB,KAAA,QAAAsI,QAAA,eACExI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAK,CAAEO,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,CAAC,cAAY,CAAK,CAAC,cAClItI,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAEmI,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,EAAEF,WAAW,CAAC,GAAC,EAAK,CAAC,EAC5G,CAAC,cACNpI,KAAA,QAAAsI,QAAA,eACExI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAK,CAAEO,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,CAAC,UAAQ,CAAK,CAAC,cAC9HtI,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAEmI,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,EAAEjG,QAAQ,CAAC,GAAC,EAAK,CAAC,EACzG,CAAC,cACNrC,KAAA,QAAAsI,QAAA,eACExI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAK,CAAEO,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,CAAC,yBAAuB,CAAK,CAAC,cAC7ItI,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAEmI,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,EAAED,gBAAgB,CAAC,GAAC,CAAChH,QAAQ,EAAM,CAAC,EAC3H,CAAC,EACH,CACN,CAGA8B,WAAW,eACVnD,KAAA,QAAKuI,KAAK,CAAE,CACV6C,SAAS,CAAE,MAAM,CACjBzC,OAAO,CAAE,WAAW,CACpBF,UAAU,CAAE,sEAAsE,CAClFgB,MAAM,CAAE,gCAAgC,CACxCC,YAAY,CAAE,MAAM,CACpBX,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,MAAM,CACXS,SAAS,CAAE,iCAAiC,CAC5C6C,SAAS,CAAE,uBACb,CAAE,CAAAnE,QAAA,eACAxI,IAAA,CAACZ,iBAAiB,EAACoK,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAAE,CAAC,cAC/ClB,KAAA,QAAKuI,KAAK,CAAE,CAAEoB,IAAI,CAAE,CAAE,CAAE,CAAArB,QAAA,eACtBxI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAM,CAAE,CAAAR,QAAA,CAAC,kBAE5F,CAAK,CAAC,cACNxI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAElI,KAAK,CAAE,SAAU,CAAE,CAAAoH,QAAA,CAChDnF,WAAW,CAACkE,OAAO,CACjB,CAAC,EACH,CAAC,EACH,CACN,cAGDrH,KAAA,QAAKuI,KAAK,CAAE,CAAE6C,SAAS,CAAE,MAAM,CAAEjB,QAAQ,CAAE,UAAW,CAAE,CAAA7B,QAAA,eACtDxI,IAAA,QAAKyI,KAAK,CAAE,CACV4B,QAAQ,CAAE,UAAU,CACpBC,GAAG,CAAE,OAAO,CACZC,IAAI,CAAE,KAAK,CACXC,SAAS,CAAE,kBAAkB,CAC7Bd,KAAK,CAAE,KAAK,CACZS,MAAM,CAAE,MAAM,CACdxB,UAAU,CAAE,yEAAyE,CACrF8B,MAAM,CAAE,YAAY,CACpBC,aAAa,CAAE,MACjB,CAAE,CAAE,CAAC,cACL1K,IAAA,CAACrB,SAAS,EACRqL,OAAO,CAAEpD,UAAW,CACpBgG,SAAS,CAAC,SAAS,CACnBC,OAAO,CAAC,SAAS,CACjBrD,IAAI,CAAC,OAAO,CACZsD,SAAS,MACTC,QAAQ,CAAEhL,QAAQ,EAAI,CAACN,UAAU,EAAI,CAACE,QAAS,CAC/CqL,IAAI,cAAEhN,IAAA,CAACV,OAAO,EAACkK,IAAI,CAAE,EAAG,CAAE,CAAE,CAAAhB,QAAA,CAE3BzG,QAAQ,CAAG,aAAa,CAAG,UAAU,CAC7B,CAAC,EACT,CAAC,EACH,CAAC,CAGLY,WAAW,CAAC0C,MAAM,CAAG,CAAC,eACrBnF,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,qBAAqB,CACjCgB,MAAM,CAAE,mCAAmC,CAC3CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCuG,SAAS,CAAE,kCACb,CAAE,CAAAtB,QAAA,eACAxI,IAAA,OAAIyI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEgG,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,MAAO,CAAE,CAAAR,QAAA,CAAC,cAAY,CAAI,CAAC,cACjIxI,IAAA,QAAKyI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAAb,QAAA,CACnE7F,WAAW,CAAC4C,GAAG,CAAC,CAAC0H,IAAI,CAAEC,KAAK,gBAC3BhN,KAAA,QAAiBuI,KAAK,CAAE,CACtBI,OAAO,CAAE,MAAM,CACfF,UAAU,CAAE,oBAAoB,CAChCgB,MAAM,CAAE,mCAAmC,CAC3CC,YAAY,CAAE,MAAM,CACpBX,OAAO,CAAE,MAAM,CACfE,cAAc,CAAE,eAAe,CAC/BC,UAAU,CAAE,QACd,CAAE,CAAAZ,QAAA,eACAtI,KAAA,QAAAsI,QAAA,eACEtI,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAS,CAAEmI,UAAU,CAAE,KAAK,CAAEP,YAAY,CAAE,KAAM,CAAE,CAAAR,QAAA,EAC5GyE,IAAI,CAAC5F,WAAW,CAAC,GAAC,CAAC4F,IAAI,CAAC9F,aAAa,CAAC,UAAG,CAAC8F,IAAI,CAACzF,SAAS,CAAC,GAAC,CAACyF,IAAI,CAAC7F,WAAW,EACzE,CAAC,cACNpH,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAElI,KAAK,CAAE,SAAU,CAAE,CAAAoH,QAAA,CAChD,GAAI,CAAA9C,IAAI,CAACuH,IAAI,CAACE,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAC3C,CAAC,EACH,CAAC,cACNpN,IAAA,QAAKyI,KAAK,CAAE,CACVI,OAAO,CAAE,UAAU,CACnBF,UAAU,CAAEsE,IAAI,CAACI,MAAM,GAAK,WAAW,CAAG,wBAAwB,CAAG,yBAAyB,CAC9F1D,MAAM,cAAAhJ,MAAA,CAAesM,IAAI,CAACI,MAAM,GAAK,WAAW,CAAG,wBAAwB,CAAG,yBAAyB,CAAE,CACzGzD,YAAY,CAAE,KAAK,CACnBN,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBnI,KAAK,CAAE6L,IAAI,CAACI,MAAM,GAAK,WAAW,CAAG,SAAS,CAAG,SACnD,CAAE,CAAA7E,QAAA,CACCyE,IAAI,CAACI,MAAM,CACT,CAAC,GA3BEH,KA4BL,CACN,CAAC,CACC,CAAC,EACH,CACN,EACE,CAAC,cAGNhN,KAAA,QAAAsI,QAAA,eAEEtI,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,6EAA6E,CACzFgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCyF,YAAY,CAAE,MAAM,CACpBc,SAAS,CAAE,uEACb,CAAE,CAAAtB,QAAA,eACAtI,KAAA,OAAIuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEgG,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAb,QAAA,eACjKxI,IAAA,CAACH,YAAY,EAAC2J,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAACqI,WAAW,CAAE,GAAI,CAAE,CAAC,gBAE9D,EAAI,CAAC,cACLzJ,IAAA,QAAKyI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAAb,QAAA,CACnExH,OAAO,CAACsM,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC/H,GAAG,CAACK,MAAM,EAAI,CACjC,KAAM,CAAAC,SAAS,CAAG5D,MAAM,CAAGA,MAAM,CAAC2D,MAAM,CAAC1E,IAAI,CAAC,CAAG,IAAI,CACrD,KAAM,CAAA6E,KAAK,CAAG,CAAAF,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAE0H,SAAS,GAAI,CAAC,CACvC,KAAM,CAAAtH,MAAM,CAAG,CAAAJ,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEK,UAAU,GAAI,CAAC,CACzC,KAAM,CAAAsH,UAAU,CAAG9G,UAAU,CAACT,MAAM,CAAC,EAAI,CAAC,CAE1C,mBACE/F,KAAA,QAAuBuI,KAAK,CAAE,CAC5BI,OAAO,CAAE,MAAM,CACfF,UAAU,CAAE,oBAAoB,CAChCiB,YAAY,CAAE,MAAM,CACpBD,MAAM,CAAE,mCAAmC,CAC3CV,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBC,GAAG,CAAE,MAAM,CACXa,UAAU,CAAE,UAAU,CACtBD,MAAM,CAAE,SACV,CAAE,CACFsB,YAAY,CAAGL,CAAC,EAAK,CACnBA,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACgF,WAAW,CAAG7H,MAAM,CAACxE,KAAK,CAAG,IAAI,CACvD8J,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACE,UAAU,CAAG,oBAAoB,CACzD,CAAE,CACF8C,YAAY,CAAGP,CAAC,EAAK,CACnBA,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACgF,WAAW,CAAG,yBAAyB,CAC7DvC,CAAC,CAACM,aAAa,CAAC/C,KAAK,CAACE,UAAU,CAAG,oBAAoB,CACzD,CAAE,CAAAH,QAAA,eACAxI,IAAA,QAAK6K,GAAG,CAAEpK,WAAW,CAACmF,MAAM,CAAC1E,IAAI,CAAE,CAAC4J,GAAG,CAAElF,MAAM,CAAC1E,IAAK,CAACuH,KAAK,CAAE,CAAEiB,KAAK,CAAE,MAAM,CAAES,MAAM,CAAE,MAAM,CAAEY,SAAS,CAAE,SAAU,CAAE,CAAE,CAAC,cACxH7K,KAAA,QAAKuI,KAAK,CAAE,CAAEoB,IAAI,CAAE,CAAE,CAAE,CAAArB,QAAA,eACtBxI,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAM,CAAE,CAAAR,QAAA,CAAE5C,MAAM,CAAC1E,IAAI,CAAM,CAAC,cAC/GlB,IAAA,QAAKyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAElI,KAAK,CAAE,SAAU,CAAE,CAAAoH,QAAA,CAAE5C,MAAM,CAACzE,IAAI,CAAM,CAAC,EACpE,CAAC,cACNjB,KAAA,QAAKuI,KAAK,CAAE,CAAE4C,SAAS,CAAE,OAAQ,CAAE,CAAA7C,QAAA,eACjCtI,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,KAAM,CAAE,CAAAR,QAAA,EAAC,GAAC,CAACzC,KAAK,CAACY,OAAO,CAAC,CAAC,CAAC,EAAM,CAAC,cACrHzG,KAAA,QAAKuI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAEoM,UAAU,CAAG,SAAS,CAAG,SAAU,CAAE,CAAAhF,QAAA,EAC5FgF,UAAU,CAAG,GAAG,CAAG,EAAE,CAAEvH,MAAM,CAAC,GACjC,EAAK,CAAC,EACH,CAAC,cAENjG,IAAA,QAAK0J,KAAK,CAAC,IAAI,CAACS,MAAM,CAAC,IAAI,CAAC1B,KAAK,CAAE,CAAEiF,OAAO,CAAE,GAAI,CAAE,CAAAlF,QAAA,cAClDxI,IAAA,aACE2N,MAAM,CAAC,mCAAmC,CAC1CC,IAAI,CAAC,MAAM,CACXC,MAAM,CAAEL,UAAU,CAAG,SAAS,CAAG,SAAU,CAC3C/D,WAAW,CAAC,GAAG,CAChB,CAAC,CACC,CAAC,GAtCE7D,MAAM,CAAC1E,IAuCZ,CAAC,CAEV,CAAC,CAAC,CACC,CAAC,EACH,CAAC,cAGNhB,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,6EAA6E,CACzFgB,MAAM,CAAE,mCAAmC,CAC3CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAEtF,QAAQ,CAAG,MAAM,CAAG,MAAM,CACnCuG,SAAS,CAAE,uEACb,CAAE,CAAAtB,QAAA,eACAtI,KAAA,OAAIuI,KAAK,CAAE,CAAEa,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEgG,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,MAAM,CAAEC,OAAO,CAAE,MAAM,CAAEG,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAO,CAAE,CAAAb,QAAA,eACjKxI,IAAA,CAACT,mBAAmB,EAACiK,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAACqI,WAAW,CAAE,GAAI,CAAE,CAAC,YAErE,EAAI,CAAC,cACLvJ,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEG,GAAG,CAAE,MAAM,CAAEC,QAAQ,CAAE/F,QAAQ,CAAG,MAAM,CAAG,MAAM,CAAEnC,KAAK,CAAE,SAAU,CAAE,CAAAoH,QAAA,eAC5HtI,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAM,CAAED,UAAU,CAAE,YAAa,CAAE,CAAAZ,QAAA,eACrExI,IAAA,CAACZ,iBAAiB,EAACoK,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAACqH,KAAK,CAAE,CAAEqF,UAAU,CAAE,CAAC,CAAExC,SAAS,CAAE,KAAM,CAAE,CAAE,CAAC,cAC3FtL,IAAA,SAAAwI,QAAA,CAAM,sCAAoC,CAAM,CAAC,EAC9C,CAAC,cACNtI,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAM,CAAED,UAAU,CAAE,YAAa,CAAE,CAAAZ,QAAA,eACrExI,IAAA,CAACL,QAAQ,EAAC6J,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAACqH,KAAK,CAAE,CAAEqF,UAAU,CAAE,CAAC,CAAExC,SAAS,CAAE,KAAM,CAAE,CAAE,CAAC,cAClFtL,IAAA,SAAAwI,QAAA,CAAM,uCAAqC,CAAM,CAAC,EAC/C,CAAC,cACNtI,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAM,CAAED,UAAU,CAAE,YAAa,CAAE,CAAAZ,QAAA,eACrExI,IAAA,CAACf,MAAM,EAACuK,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAACqH,KAAK,CAAE,CAAEqF,UAAU,CAAE,CAAC,CAAExC,SAAS,CAAE,KAAM,CAAE,CAAE,CAAC,cAChFpL,KAAA,SAAAsI,QAAA,EAAOF,WAAW,CAAC,oCAAkC,EAAM,CAAC,EACzD,CAAC,cACNpI,KAAA,QAAKuI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEI,GAAG,CAAE,MAAM,CAAED,UAAU,CAAE,YAAa,CAAE,CAAAZ,QAAA,eACrExI,IAAA,CAACV,OAAO,EAACkK,IAAI,CAAE,EAAG,CAACpI,KAAK,CAAC,SAAS,CAACqH,KAAK,CAAE,CAAEqF,UAAU,CAAE,CAAC,CAAExC,SAAS,CAAE,KAAM,CAAE,CAAE,CAAC,cACjFtL,IAAA,SAAAwI,QAAA,CAAM,0CAAwC,CAAM,CAAC,EAClD,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,EAEH,CAAC,CACH,CAAC,CAGL/F,YAAY,eACXzC,IAAA,QAAKyI,KAAK,CAAE,CACV4B,QAAQ,CAAE,OAAO,CACjBC,GAAG,CAAE,CAAC,CACNC,IAAI,CAAE,CAAC,CACPwD,KAAK,CAAE,CAAC,CACRC,MAAM,CAAE,CAAC,CACTrF,UAAU,CAAE,oBAAoB,CAChCM,OAAO,CAAE,MAAM,CACfG,UAAU,CAAE,QAAQ,CACpBD,cAAc,CAAE,QAAQ,CACxBoD,MAAM,CAAE,IAAI,CACZ1D,OAAO,CAAE,MACX,CAAE,CAAAL,QAAA,cACAtI,KAAA,QAAKuI,KAAK,CAAE,CACVE,UAAU,CAAE,8EAA8E,CAC1FgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBf,OAAO,CAAE,MAAM,CACfC,QAAQ,CAAE,OAAO,CACjBY,KAAK,CAAE,MAAM,CACbI,SAAS,CAAE,iCACb,CAAE,CAAAtB,QAAA,eACAxI,IAAA,OAAIyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEnI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,MAAO,CAAE,CAAAR,QAAA,CAAC,eAAa,CAAI,CAAC,cAE9GtI,KAAA,QAAKuI,KAAK,CAAE,CAAEO,YAAY,CAAE,MAAO,CAAE,CAAAR,QAAA,eACnCxI,IAAA,UAAOyI,KAAK,CAAE,CAAEa,QAAQ,CAAE,MAAM,CAAElI,KAAK,CAAE,SAAS,CAAE4H,YAAY,CAAE,MAAM,CAAEC,OAAO,CAAE,OAAO,CAAEM,UAAU,CAAE,KAAM,CAAE,CAAAf,QAAA,CAAC,oBAAkB,CAAO,CAAC,cAC3IxI,IAAA,QAAKyI,KAAK,CAAE,CAAEQ,OAAO,CAAE,MAAM,CAAEmB,mBAAmB,CAAE,gBAAgB,CAAEf,GAAG,CAAE,MAAM,CAAEL,YAAY,CAAE,MAAO,CAAE,CAAAR,QAAA,CACvG,CAAC,GAAG,CAAE,GAAG,CAAE,GAAG,CAAE,GAAG,CAAC,CAACjD,GAAG,CAACyF,KAAK,eAC7B9K,KAAA,WAEE8J,OAAO,CAAEA,CAAA,GAAMxH,WAAW,CAACwI,KAAK,CAAE,CAClCvC,KAAK,CAAE,CACLI,OAAO,CAAE,MAAM,CACfF,UAAU,CAAEpG,QAAQ,GAAKyI,KAAK,CAAG,2CAA2C,CAAG,oBAAoB,CACnGrB,MAAM,cAAAhJ,MAAA,CAAe4B,QAAQ,GAAKyI,KAAK,CAAG,wBAAwB,CAAG,wBAAwB,CAAE,CAC/FpB,YAAY,CAAE,MAAM,CACpBxI,KAAK,CAAEmB,QAAQ,GAAKyI,KAAK,CAAG,SAAS,CAAG,SAAS,CACjD1B,QAAQ,CAAE,MAAM,CAChBC,UAAU,CAAE,KAAK,CACjBU,MAAM,CAAE,SAAS,CACjBC,UAAU,CAAE,UAAU,CACtBJ,SAAS,CAAEvH,QAAQ,GAAKyI,KAAK,CAAG,iCAAiC,CAAG,MACtE,CAAE,CAAAxC,QAAA,EAEDwC,KAAK,CAAC,GACT,GAhBOA,KAgBC,CACT,CAAC,CACC,CAAC,cACNhL,IAAA,UACEwM,IAAI,CAAC,QAAQ,CACbxB,KAAK,CAAEzI,QAAS,CAChB0I,QAAQ,CAAGC,CAAC,EAAK1I,WAAW,CAACkE,UAAU,CAACwE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,CAAE,CACzD0B,WAAW,CAAC,QAAQ,CACpBuB,IAAI,CAAC,KAAK,CACVxF,KAAK,CAAE,CACLiB,KAAK,CAAE,MAAM,CACbb,OAAO,CAAE,MAAM,CACfF,UAAU,CAAE,oBAAoB,CAChCgB,MAAM,CAAE,kCAAkC,CAC1CC,YAAY,CAAE,MAAM,CACpBxI,KAAK,CAAE,SAAS,CAChBkI,QAAQ,CAAE,MACZ,CAAE,CACH,CAAC,EACC,CAAC,cAENtJ,IAAA,CAACrB,SAAS,EACRqL,OAAO,CAAEA,CAAA,GAAMtH,eAAe,CAAC,KAAK,CAAE,CACtCkK,SAAS,CAAC,SAAS,CACnBC,OAAO,CAAC,SAAS,CACjBrD,IAAI,CAAC,QAAQ,CACbsD,SAAS,MAAAtE,QAAA,CACV,eAED,CAAW,CAAC,EACT,CAAC,CACH,CACN,EACE,CAAC,cAENxI,IAAA,UAAAwI,QAAA,oJAKS,CAAC,EACV,CAAC,CAEP,CAEA,cAAe,CAAA3H,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}