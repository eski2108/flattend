{"ast":null,"code":"import React,{useState,useEffect}from'react';import Layout from'@/components/Layout';import axios from'axios';import{toast}from'sonner';import{IoSave,IoMail,IoShield}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function AdminSettings(){const[disputeEmail,setDisputeEmail]=useState('');const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);useEffect(()=>{loadSettings();},[]);const loadSettings=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/admin/settings\"));if(response.data.success){setDisputeEmail(response.data.settings.dispute_email||'info@coinhubx.net');}}catch(error){console.error('Error loading settings:',error);toast.error('Failed to load settings');}finally{setLoading(false);}};const saveSettings=async()=>{if(!disputeEmail||!disputeEmail.includes('@')){toast.error('Please enter a valid email address');return;}setSaving(true);try{const response=await axios.post(\"\".concat(API,\"/api/admin/settings\"),{dispute_email:disputeEmail});if(response.data.success){toast.success('Settings saved successfully');}}catch(error){console.error('Error saving settings:',error);toast.error('Failed to save settings');}finally{setSaving(false);}};if(loading){return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-white\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-12 h-12 border-4 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading settings...\"})]})})});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 p-4 md:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(IoShield,{className:\"w-10 h-10 text-cyan-400\"}),\"Admin Settings\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm md:text-base\",children:\"Configure platform settings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(IoMail,{className:\"w-6 h-6 text-orange-400\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Dispute Email Address\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-4\",children:\"This email will receive all P2P dispute alerts. You can change it to any email address where you want to receive dispute notifications.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-300 font-semibold mb-2 text-sm\",children:\"Email Address *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:disputeEmail,onChange:e=>setDisputeEmail(e.target.value),placeholder:\"info@coinhubx.net\",className:\"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500/10 border-l-4 border-blue-500 p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-300 text-sm\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCA1 Tip:\"}),\" You can use a team email address or a dedicated support inbox to ensure disputes are handled promptly.\"]})}),/*#__PURE__*/_jsxs(\"button\",{onClick:saveSettings,disabled:saving,className:\"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg transition-all font-semibold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(IoSave,{className:\"w-5 h-5\"}),saving?'Saving...':'Save Settings']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-orange-500/10 border-2 border-orange-500 rounded-xl p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-orange-400 font-bold mb-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(IoShield,{className:\"w-5 h-5\"}),\"Important Information\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-gray-300 text-sm space-y-2\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Changes take effect immediately\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 All future dispute emails will be sent to the new address\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Make sure the email address is actively monitored\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Test the system by creating a new dispute after changing the email\"})]})]})]})})});}","map":{"version":3,"names":["React","useState","useEffect","Layout","axios","toast","IoSave","IoMail","IoShield","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_BACKEND_URL","AdminSettings","disputeEmail","setDisputeEmail","loading","setLoading","saving","setSaving","loadSettings","response","get","concat","data","success","settings","dispute_email","error","console","saveSettings","includes","post","children","className","type","value","onChange","e","target","placeholder","onClick","disabled"],"sources":["/app/frontend/src/pages/AdminSettings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Layout from '@/components/Layout';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport { IoSave, IoMail, IoShield } from 'react-icons/io5';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function AdminSettings() {\n  const [disputeEmail, setDisputeEmail] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    loadSettings();\n  }, []);\n\n  const loadSettings = async () => {\n    try {\n      const response = await axios.get(`${API}/api/admin/settings`);\n      if (response.data.success) {\n        setDisputeEmail(response.data.settings.dispute_email || 'info@coinhubx.net');\n      }\n    } catch (error) {\n      console.error('Error loading settings:', error);\n      toast.error('Failed to load settings');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const saveSettings = async () => {\n    if (!disputeEmail || !disputeEmail.includes('@')) {\n      toast.error('Please enter a valid email address');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const response = await axios.post(`${API}/api/admin/settings`, {\n        dispute_email: disputeEmail\n      });\n\n      if (response.data.success) {\n        toast.success('Settings saved successfully');\n      }\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      toast.error('Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Layout>\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 flex items-center justify-center\">\n          <div className=\"text-center text-white\">\n            <div className=\"animate-spin w-12 h-12 border-4 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4\"></div>\n            <p>Loading settings...</p>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 p-4 md:p-6\">\n        <div className=\"max-w-4xl mx-auto\">\n          {/* Header */}\n          <div className=\"mb-6\">\n            <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-2 flex items-center gap-3\">\n              <IoShield className=\"w-10 h-10 text-cyan-400\" />\n              Admin Settings\n            </h1>\n            <p className=\"text-gray-400 text-sm md:text-base\">Configure platform settings</p>\n          </div>\n\n          {/* Dispute Email Setting */}\n          <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6\">\n            <div className=\"flex items-center gap-3 mb-4\">\n              <IoMail className=\"w-6 h-6 text-orange-400\" />\n              <h2 className=\"text-xl font-bold text-white\">Dispute Email Address</h2>\n            </div>\n            \n            <p className=\"text-gray-400 text-sm mb-4\">\n              This email will receive all P2P dispute alerts. You can change it to any email address where you want to receive dispute notifications.\n            </p>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-gray-300 font-semibold mb-2 text-sm\">\n                  Email Address *\n                </label>\n                <input\n                  type=\"email\"\n                  value={disputeEmail}\n                  onChange={(e) => setDisputeEmail(e.target.value)}\n                  placeholder=\"info@coinhubx.net\"\n                  className=\"w-full bg-slate-900 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none\"\n                />\n              </div>\n\n              <div className=\"bg-blue-500/10 border-l-4 border-blue-500 p-4\">\n                <p className=\"text-blue-300 text-sm\">\n                  <strong>ðŸ’¡ Tip:</strong> You can use a team email address or a dedicated support inbox to ensure disputes are handled promptly.\n                </p>\n              </div>\n\n              <button\n                onClick={saveSettings}\n                disabled={saving}\n                className=\"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg transition-all font-semibold flex items-center gap-2\"\n              >\n                <IoSave className=\"w-5 h-5\" />\n                {saving ? 'Saving...' : 'Save Settings'}\n              </button>\n            </div>\n          </div>\n\n          {/* Info Card */}\n          <div className=\"bg-orange-500/10 border-2 border-orange-500 rounded-xl p-6\">\n            <h3 className=\"text-orange-400 font-bold mb-2 flex items-center gap-2\">\n              <IoShield className=\"w-5 h-5\" />\n              Important Information\n            </h3>\n            <ul className=\"text-gray-300 text-sm space-y-2\">\n              <li>â€¢ Changes take effect immediately</li>\n              <li>â€¢ All future dispute emails will be sent to the new address</li>\n              <li>â€¢ Make sure the email address is actively monitored</li>\n              <li>â€¢ Test the system by creating a new dispute after changing the email</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}