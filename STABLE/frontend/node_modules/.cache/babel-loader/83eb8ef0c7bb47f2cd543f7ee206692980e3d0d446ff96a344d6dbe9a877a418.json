{"ast":null,"code":"import React,{useState,useEffect}from'react';import{IoClose,IoRefresh,IoShield,RefreshCw}from'react-icons/io5';import axios from'axios';import{toast}from'sonner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function OTPModal(_ref){let{isOpen,onClose,onVerify,title='Verify OTP',description='Enter the 6-digit code sent to your email',userId,action='generic'}=_ref;const[otp,setOtp]=useState(['','','','','','']);const[loading,setLoading]=useState(false);const[sendingOTP,setSendingOTP]=useState(false);const[countdown,setCountdown]=useState(0);useEffect(()=>{if(countdown>0){const timer=setTimeout(()=>setCountdown(countdown-1),1000);return()=>clearTimeout(timer);}},[countdown]);useEffect(()=>{if(isOpen&&userId){sendOTP();}},[isOpen,userId]);const sendOTP=async()=>{if(!userId){toast.error('User ID required');return;}setSendingOTP(true);try{const response=await axios.post(\"\".concat(API,\"/api/auth/send-otp\"),{user_id:userId,action:action});if(response.data.success){toast.success('OTP sent to your email');setCountdown(60);}else{toast.error(response.data.message||'Failed to send OTP');}}catch(error){var _error$response,_error$response$data;console.error('Error sending OTP:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to send OTP');}finally{setSendingOTP(false);}};const handleOTPChange=(index,value)=>{if(value.length>1){value=value.slice(-1);}if(!/^\\d*$/.test(value)){return;}const newOtp=[...otp];newOtp[index]=value;setOtp(newOtp);// Auto-focus next input\nif(value&&index<5){const nextInput=document.getElementById(\"otp-\".concat(index+1));if(nextInput)nextInput.focus();}};const handleKeyDown=(index,e)=>{if(e.key==='Backspace'&&!otp[index]&&index>0){const prevInput=document.getElementById(\"otp-\".concat(index-1));if(prevInput)prevInput.focus();}};const handleVerify=async()=>{const otpCode=otp.join('');if(otpCode.length!==6){toast.error('Please enter all 6 digits');return;}setLoading(true);try{const response=await axios.post(\"\".concat(API,\"/api/auth/verify-otp\"),{user_id:userId,otp_code:otpCode,action:action});if(response.data.success){toast.success('OTP verified successfully');onVerify(otpCode);handleClose();}else{var _document$getElementB;toast.error(response.data.message||'Invalid OTP');setOtp(['','','','','','']);(_document$getElementB=document.getElementById('otp-0'))===null||_document$getElementB===void 0?void 0:_document$getElementB.focus();}}catch(error){var _error$response2,_error$response2$data,_document$getElementB2;console.error('Error verifying OTP:',error);toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||'Invalid OTP');setOtp(['','','','','','']);(_document$getElementB2=document.getElementById('otp-0'))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.focus();}finally{setLoading(false);}};const handleClose=()=>{setOtp(['','','','','','']);setCountdown(0);onClose();};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.8)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999,backdropFilter:'blur(8px)'},onClick:handleClose,children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.95) 100%)',borderRadius:'24px',padding:'2.5rem',width:'90%',maxWidth:'500px',border:'2px solid rgba(0, 240, 255, 0.4)',boxShadow:'0 0 60px rgba(0, 240, 255, 0.4), 0 20px 80px rgba(0, 0, 0, 0.8)'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(IoShield,{size:28,color:\"#00F0FF\",strokeWidth:2.5}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#fff',fontSize:'1.75rem',fontWeight:'700',margin:0},children:title})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,style:{background:'none',border:'none',color:'#9FA6B2',cursor:'pointer',padding:'0.5rem',display:'flex',alignItems:'center',justifyContent:'center',borderRadius:'8px',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='rgba(255, 255, 255, 0.1)';e.currentTarget.style.color='#fff';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='transparent';e.currentTarget.style.color='#9FA6B2';},children:/*#__PURE__*/_jsx(IoClose,{size:24})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#8F9BB3',fontSize:'0.9375rem',marginBottom:'2rem',lineHeight:'1.6'},children:description}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'0.75rem',justifyContent:'center',marginBottom:'2rem'},children:otp.map((digit,index)=>/*#__PURE__*/_jsx(\"input\",{id:\"otp-\".concat(index),type:\"text\",inputMode:\"numeric\",maxLength:\"1\",value:digit,onChange:e=>handleOTPChange(index,e.target.value),onKeyDown:e=>handleKeyDown(index,e),style:{width:'3.5rem',height:'4rem',fontSize:'1.75rem',fontWeight:'700',textAlign:'center',backgroundColor:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'14px',color:'#00F0FF',outline:'none',transition:'all 0.3s',fontFamily:'monospace'},onFocus:e=>{e.currentTarget.style.borderColor='#00F0FF';e.currentTarget.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.5)';e.currentTarget.style.transform='scale(1.05)';},onBlur:e=>{e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.3)';e.currentTarget.style.boxShadow='none';e.currentTarget.style.transform='scale(1)';}},index))}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginBottom:'2rem'},children:countdown>0?/*#__PURE__*/_jsxs(\"p\",{style:{color:'#8F9BB3',fontSize:'0.9375rem'},children:[\"Resend OTP in \",/*#__PURE__*/_jsxs(\"span\",{style:{color:'#00F0FF',fontWeight:'700'},children:[countdown,\"s\"]})]}):/*#__PURE__*/_jsxs(\"button\",{onClick:sendOTP,disabled:sendingOTP,style:{background:'none',border:'1px solid rgba(0, 240, 255, 0.3)',color:'#00F0FF',fontSize:'0.9375rem',fontWeight:'600',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',margin:'0 auto',padding:'0.75rem 1.5rem',borderRadius:'12px',transition:'all 0.3s'},onMouseEnter:e=>{e.currentTarget.style.backgroundColor='rgba(0, 240, 255, 0.1)';e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.6)';e.currentTarget.style.boxShadow='0 0 20px rgba(0, 240, 255, 0.3)';},onMouseLeave:e=>{e.currentTarget.style.backgroundColor='transparent';e.currentTarget.style.borderColor='rgba(0, 240, 255, 0.3)';e.currentTarget.style.boxShadow='none';},children:[/*#__PURE__*/_jsx(IoRefresh,{size:18,style:{animation:sendingOTP?'spin 1s linear infinite':'none'}}),sendingOTP?'Sending...':'Resend OTP']})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVerify,disabled:loading||otp.join('').length!==6,style:{width:'100%',padding:'1.125rem',background:otp.join('').length===6?'linear-gradient(135deg, #00F0FF, #0080FF)':'rgba(40, 40, 40, 0.5)',color:'#fff',border:'none',borderRadius:'14px',fontSize:'1.0625rem',fontWeight:'700',cursor:otp.join('').length===6?'pointer':'not-allowed',opacity:otp.join('').length===6?1:0.4,transition:'all 0.3s',boxShadow:otp.join('').length===6?'0 0 30px rgba(0, 240, 255, 0.4)':'none',position:'relative',overflow:'hidden'},onMouseEnter:e=>{if(otp.join('').length===6){e.currentTarget.style.transform='translateY(-2px)';e.currentTarget.style.boxShadow='0 0 40px rgba(0, 240, 255, 0.6)';}},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow=otp.join('').length===6?'0 0 30px rgba(0, 240, 255, 0.4)':'none';},children:loading?'Verifying...':'Verify OTP'}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes spin {\\n            from { transform: rotate(0deg); }\\n            to { transform: rotate(360deg); }\\n          }\\n        \"})]})});}","map":{"version":3,"names":["React","useState","useEffect","IoClose","IoRefresh","IoShield","RefreshCw","axios","toast","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_BACKEND_URL","OTPModal","_ref","isOpen","onClose","onVerify","title","description","userId","action","otp","setOtp","loading","setLoading","sendingOTP","setSendingOTP","countdown","setCountdown","timer","setTimeout","clearTimeout","sendOTP","error","response","post","concat","user_id","data","success","message","_error$response","_error$response$data","console","handleOTPChange","index","value","length","slice","test","newOtp","nextInput","document","getElementById","focus","handleKeyDown","e","key","prevInput","handleVerify","otpCode","join","otp_code","handleClose","_document$getElementB","_error$response2","_error$response2$data","_document$getElementB2","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","backdropFilter","onClick","children","background","borderRadius","padding","width","maxWidth","border","boxShadow","stopPropagation","marginBottom","gap","size","color","strokeWidth","fontSize","fontWeight","margin","cursor","transition","onMouseEnter","currentTarget","onMouseLeave","lineHeight","map","digit","id","type","inputMode","maxLength","onChange","target","onKeyDown","height","textAlign","outline","fontFamily","onFocus","borderColor","transform","onBlur","disabled","animation","opacity","overflow"],"sources":["/app/frontend/src/components/OTPModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { IoClose, IoRefresh, IoShield, RefreshCw } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function OTPModal({ \n  isOpen, \n  onClose, \n  onVerify, \n  title = 'Verify OTP',\n  description = 'Enter the 6-digit code sent to your email',\n  userId,\n  action = 'generic'\n}) {\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\n  const [loading, setLoading] = useState(false);\n  const [sendingOTP, setSendingOTP] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [countdown]);\n\n  useEffect(() => {\n    if (isOpen && userId) {\n      sendOTP();\n    }\n  }, [isOpen, userId]);\n\n  const sendOTP = async () => {\n    if (!userId) {\n      toast.error('User ID required');\n      return;\n    }\n\n    setSendingOTP(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/send-otp`, {\n        user_id: userId,\n        action: action\n      });\n\n      if (response.data.success) {\n        toast.success('OTP sent to your email');\n        setCountdown(60);\n      } else {\n        toast.error(response.data.message || 'Failed to send OTP');\n      }\n    } catch (error) {\n      console.error('Error sending OTP:', error);\n      toast.error(error.response?.data?.message || 'Failed to send OTP');\n    } finally {\n      setSendingOTP(false);\n    }\n  };\n\n  const handleOTPChange = (index, value) => {\n    if (value.length > 1) {\n      value = value.slice(-1);\n    }\n\n    if (!/^\\d*$/.test(value)) {\n      return;\n    }\n\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n\n    // Auto-focus next input\n    if (value && index < 5) {\n      const nextInput = document.getElementById(`otp-${index + 1}`);\n      if (nextInput) nextInput.focus();\n    }\n  };\n\n  const handleKeyDown = (index, e) => {\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\n      const prevInput = document.getElementById(`otp-${index - 1}`);\n      if (prevInput) prevInput.focus();\n    }\n  };\n\n  const handleVerify = async () => {\n    const otpCode = otp.join('');\n    if (otpCode.length !== 6) {\n      toast.error('Please enter all 6 digits');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/verify-otp`, {\n        user_id: userId,\n        otp_code: otpCode,\n        action: action\n      });\n\n      if (response.data.success) {\n        toast.success('OTP verified successfully');\n        onVerify(otpCode);\n        handleClose();\n      } else {\n        toast.error(response.data.message || 'Invalid OTP');\n        setOtp(['', '', '', '', '', '']);\n        document.getElementById('otp-0')?.focus();\n      }\n    } catch (error) {\n      console.error('Error verifying OTP:', error);\n      toast.error(error.response?.data?.message || 'Invalid OTP');\n      setOtp(['', '', '', '', '', '']);\n      document.getElementById('otp-0')?.focus();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setOtp(['', '', '', '', '', '']);\n    setCountdown(0);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 9999,\n        backdropFilter: 'blur(8px)'\n      }}\n      onClick={handleClose}\n    >\n      <div\n        style={{\n          background: 'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.95) 100%)',\n          borderRadius: '24px',\n          padding: '2.5rem',\n          width: '90%',\n          maxWidth: '500px',\n          border: '2px solid rgba(0, 240, 255, 0.4)',\n          boxShadow: '0 0 60px rgba(0, 240, 255, 0.4), 0 20px 80px rgba(0, 0, 0, 0.8)'\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <IoShield size={28} color=\"#00F0FF\" strokeWidth={2.5} />\n            <h2 style={{ color: '#fff', fontSize: '1.75rem', fontWeight: '700', margin: 0 }}>{title}</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              color: '#9FA6B2',\n              cursor: 'pointer',\n              padding: '0.5rem',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              borderRadius: '8px',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';\n              e.currentTarget.style.color = '#fff';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = 'transparent';\n              e.currentTarget.style.color = '#9FA6B2';\n            }}\n          >\n            <IoClose size={24} />\n          </button>\n        </div>\n\n        {/* Description */}\n        <p style={{ color: '#8F9BB3', fontSize: '0.9375rem', marginBottom: '2rem', lineHeight: '1.6' }}>{description}</p>\n\n        {/* OTP Input */}\n        <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'center', marginBottom: '2rem' }}>\n          {otp.map((digit, index) => (\n            <input\n              key={index}\n              id={`otp-${index}`}\n              type=\"text\"\n              inputMode=\"numeric\"\n              maxLength=\"1\"\n              value={digit}\n              onChange={(e) => handleOTPChange(index, e.target.value)}\n              onKeyDown={(e) => handleKeyDown(index, e)}\n              style={{\n                width: '3.5rem',\n                height: '4rem',\n                fontSize: '1.75rem',\n                fontWeight: '700',\n                textAlign: 'center',\n                backgroundColor: 'rgba(0, 0, 0, 0.4)',\n                border: '2px solid rgba(0, 240, 255, 0.3)',\n                borderRadius: '14px',\n                color: '#00F0FF',\n                outline: 'none',\n                transition: 'all 0.3s',\n                fontFamily: 'monospace'\n              }}\n              onFocus={(e) => {\n                e.currentTarget.style.borderColor = '#00F0FF';\n                e.currentTarget.style.boxShadow = '0 0 20px rgba(0, 240, 255, 0.5)';\n                e.currentTarget.style.transform = 'scale(1.05)';\n              }}\n              onBlur={(e) => {\n                e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.3)';\n                e.currentTarget.style.boxShadow = 'none';\n                e.currentTarget.style.transform = 'scale(1)';\n              }}\n            />\n          ))}\n        </div>\n\n        {/* Resend OTP */}\n        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n          {countdown > 0 ? (\n            <p style={{ color: '#8F9BB3', fontSize: '0.9375rem' }}>\n              Resend OTP in <span style={{ color: '#00F0FF', fontWeight: '700' }}>{countdown}s</span>\n            </p>\n          ) : (\n            <button\n              onClick={sendOTP}\n              disabled={sendingOTP}\n              style={{\n                background: 'none',\n                border: '1px solid rgba(0, 240, 255, 0.3)',\n                color: '#00F0FF',\n                fontSize: '0.9375rem',\n                fontWeight: '600',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                margin: '0 auto',\n                padding: '0.75rem 1.5rem',\n                borderRadius: '12px',\n                transition: 'all 0.3s'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = 'rgba(0, 240, 255, 0.1)';\n                e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.6)';\n                e.currentTarget.style.boxShadow = '0 0 20px rgba(0, 240, 255, 0.3)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = 'transparent';\n                e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.3)';\n                e.currentTarget.style.boxShadow = 'none';\n              }}\n            >\n              <IoRefresh size={18} style={{ animation: sendingOTP ? 'spin 1s linear infinite' : 'none' }} />\n              {sendingOTP ? 'Sending...' : 'Resend OTP'}\n            </button>\n          )}\n        </div>\n\n        {/* Verify Button */}\n        <button\n          onClick={handleVerify}\n          disabled={loading || otp.join('').length !== 6}\n          style={{\n            width: '100%',\n            padding: '1.125rem',\n            background: otp.join('').length === 6 ? 'linear-gradient(135deg, #00F0FF, #0080FF)' : 'rgba(40, 40, 40, 0.5)',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '14px',\n            fontSize: '1.0625rem',\n            fontWeight: '700',\n            cursor: otp.join('').length === 6 ? 'pointer' : 'not-allowed',\n            opacity: otp.join('').length === 6 ? 1 : 0.4,\n            transition: 'all 0.3s',\n            boxShadow: otp.join('').length === 6 ? '0 0 30px rgba(0, 240, 255, 0.4)' : 'none',\n            position: 'relative',\n            overflow: 'hidden'\n          }}\n          onMouseEnter={(e) => {\n            if (otp.join('').length === 6) {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 0 40px rgba(0, 240, 255, 0.6)';\n            }\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = otp.join('').length === 6 ? '0 0 30px rgba(0, 240, 255, 0.4)' : 'none';\n          }}\n        >\n          {loading ? 'Verifying...' : 'Verify OTP'}\n        </button>\n        \n        <style>{`\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}