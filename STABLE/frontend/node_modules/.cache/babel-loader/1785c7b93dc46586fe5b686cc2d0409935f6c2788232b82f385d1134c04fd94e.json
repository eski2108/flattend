{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate,useSearchParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL+'/api';const EmailVerified=()=>{const[searchParams]=useSearchParams();const navigate=useNavigate();const[status,setStatus]=useState('verifying');const[message,setMessage]=useState('');useEffect(()=>{const verifyEmail=async()=>{const token=searchParams.get('token');if(!token){setStatus('error');setMessage('Invalid verification link');return;}try{const response=await axios.get(\"\".concat(API,\"/auth/verify-email?token=\").concat(token));if(response.data.success){setStatus('success');setMessage(response.data.message);// Redirect to login after 3 seconds\nsetTimeout(()=>{navigate('/login');},3000);}}catch(error){var _error$response,_error$response$data;setStatus('error');setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Verification failed');}};verifyEmail();},[searchParams,navigate]);return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #000D1A 0%, #1a1f3a 100%)',display:'flex',alignItems:'center',justifyContent:'center',padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(26, 31, 58, 0.8)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'20px',padding:'3rem',maxWidth:'500px',width:'100%',textAlign:'center'},children:[status==='verifying'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'1rem'},children:\"\\u23F3\"}),/*#__PURE__*/_jsx(\"h1\",{style:{color:'#00F0FF',marginBottom:'1rem'},children:\"Verifying...\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888'},children:\"Please wait while we verify your email address\"})]}),status==='success'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'1rem'},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"h1\",{style:{color:'#22C55E',marginBottom:'1rem'},children:\"Email Verified!\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#fff',marginBottom:'1rem'},children:message}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888'},children:\"Redirecting to login...\"})]}),status==='error'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'1rem'},children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"h1\",{style:{color:'#EF4444',marginBottom:'1rem'},children:\"Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#fff',marginBottom:'2rem'},children:message}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/register'),style:{background:'linear-gradient(135deg, #00F0FF, #A855F7)',color:'#000',padding:'1rem 2rem',border:'none',borderRadius:'8px',cursor:'pointer',fontWeight:'bold'},children:\"Go to Register\"})]})]})});};export default EmailVerified;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useSearchParams","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","API","process","env","REACT_APP_BACKEND_URL","EmailVerified","searchParams","navigate","status","setStatus","message","setMessage","verifyEmail","token","get","response","concat","data","success","setTimeout","error","_error$response","_error$response$data","detail","style","minHeight","background","display","alignItems","justifyContent","padding","children","border","borderRadius","maxWidth","width","textAlign","fontSize","marginBottom","color","onClick","cursor","fontWeight"],"sources":["/app/frontend/src/pages/EmailVerified.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\n\nconst API = process.env.REACT_APP_BACKEND_URL + '/api';\n\nconst EmailVerified = () => {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState('verifying');\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    const verifyEmail = async () => {\n      const token = searchParams.get('token');\n      \n      if (!token) {\n        setStatus('error');\n        setMessage('Invalid verification link');\n        return;\n      }\n\n      try {\n        const response = await axios.get(`${API}/auth/verify-email?token=${token}`);\n        \n        if (response.data.success) {\n          setStatus('success');\n          setMessage(response.data.message);\n          \n          // Redirect to login after 3 seconds\n          setTimeout(() => {\n            navigate('/login');\n          }, 3000);\n        }\n      } catch (error) {\n        setStatus('error');\n        setMessage(error.response?.data?.detail || 'Verification failed');\n      }\n    };\n\n    verifyEmail();\n  }, [searchParams, navigate]);\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #000D1A 0%, #1a1f3a 100%)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: '2rem'\n    }}>\n      <div style={{\n        background: 'rgba(26, 31, 58, 0.8)',\n        border: '2px solid rgba(0, 240, 255, 0.3)',\n        borderRadius: '20px',\n        padding: '3rem',\n        maxWidth: '500px',\n        width: '100%',\n        textAlign: 'center'\n      }}>\n        {status === 'verifying' && (\n          <>\n            <div style={{ fontSize: '48px', marginBottom: '1rem' }}>⏳</div>\n            <h1 style={{ color: '#00F0FF', marginBottom: '1rem' }}>Verifying...</h1>\n            <p style={{ color: '#888' }}>Please wait while we verify your email address</p>\n          </>\n        )}\n\n        {status === 'success' && (\n          <>\n            <div style={{ fontSize: '48px', marginBottom: '1rem' }}>✅</div>\n            <h1 style={{ color: '#22C55E', marginBottom: '1rem' }}>Email Verified!</h1>\n            <p style={{ color: '#fff', marginBottom: '1rem' }}>{message}</p>\n            <p style={{ color: '#888' }}>Redirecting to login...</p>\n          </>\n        )}\n\n        {status === 'error' && (\n          <>\n            <div style={{ fontSize: '48px', marginBottom: '1rem' }}>❌</div>\n            <h1 style={{ color: '#EF4444', marginBottom: '1rem' }}>Verification Failed</h1>\n            <p style={{ color: '#fff', marginBottom: '2rem' }}>{message}</p>\n            <button\n              onClick={() => navigate('/register')}\n              style={{\n                background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                color: '#000',\n                padding: '1rem 2rem',\n                border: 'none',\n                borderRadius: '8px',\n                cursor: 'pointer',\n                fontWeight: 'bold'\n              }}\n            >\n              Go to Register\n            </button>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EmailVerified;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}