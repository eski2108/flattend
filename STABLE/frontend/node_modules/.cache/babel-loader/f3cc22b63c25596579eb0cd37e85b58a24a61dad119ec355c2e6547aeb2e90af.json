{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import Layout from'@/components/Layout';import'../styles/globalSwapTheme.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL;export default function Markets(){const navigate=useNavigate();const[markets,setMarkets]=useState([]);useEffect(()=>{fetchMarkets();},[]);const fetchMarkets=async()=>{try{const res=await axios.get(\"\".concat(API,\"/api/prices/live\"));if(res.data.success&&res.data.prices){const marketList=Object.entries(res.data.prices).map(_ref=>{let[symbol,data]=_ref;return{symbol,price:data.price_gbp,change:data.change_24h};});setMarkets(marketList);}}catch(error){console.error('Error:',error);}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"swap-theme-page\",children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'1400px',margin:'0 auto'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"swap-theme-card\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"swap-theme-text-primary\",style:{fontSize:'32px',fontWeight:'700',marginBottom:'8px'},children:\"\\uD83D\\uDCCA Live Markets\"}),/*#__PURE__*/_jsx(\"p\",{className:\"swap-theme-text-secondary\",style:{fontSize:'16px',marginBottom:'32px'},children:\"Real-time crypto market prices\"}),/*#__PURE__*/_jsx(\"div\",{className:\"swap-theme-divider\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'12px',marginTop:'32px'},children:markets.map(market=>{var _market$price,_market$change;return/*#__PURE__*/_jsx(\"div\",{className:\"swap-theme-card\",style:{padding:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"swap-theme-text-primary\",style:{fontSize:'18px',fontWeight:'700'},children:market.symbol})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right'},children:[/*#__PURE__*/_jsxs(\"p\",{className:\"swap-theme-accent\",style:{fontSize:'18px',fontWeight:'700'},children:[\"\\xA3\",(_market$price=market.price)===null||_market$price===void 0?void 0:_market$price.toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:market.change>=0?'#22C55E':'#EF4444',fontSize:'14px'},children:[market.change>=0?'+':'',(_market$change=market.change)===null||_market$change===void 0?void 0:_market$change.toFixed(2),\"%\"]})]})]})},market.symbol);})})]})})})});}","map":{"version":3,"names":["React","useState","useEffect","useNavigate","axios","Layout","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_BACKEND_URL","Markets","navigate","markets","setMarkets","fetchMarkets","res","get","concat","data","success","prices","marketList","Object","entries","map","_ref","symbol","price","price_gbp","change","change_24h","error","console","children","className","style","maxWidth","margin","fontSize","fontWeight","marginBottom","display","gap","marginTop","market","_market$price","_market$change","padding","justifyContent","alignItems","textAlign","toFixed","color"],"sources":["/app/frontend/src/pages/Markets.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Layout from '@/components/Layout';\nimport '../styles/globalSwapTheme.css';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function Markets() {\n  const navigate = useNavigate();\n  const [markets, setMarkets] = useState([]);\n\n  useEffect(() => {\n    fetchMarkets();\n  }, []);\n\n  const fetchMarkets = async () => {\n    try {\n      const res = await axios.get(`${API}/api/prices/live`);\n      if (res.data.success && res.data.prices) {\n        const marketList = Object.entries(res.data.prices).map(([symbol, data]) => ({\n          symbol,\n          price: data.price_gbp,\n          change: data.change_24h\n        }));\n        setMarkets(marketList);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"swap-theme-page\">\n        <div style={{ maxWidth: '1400px', margin: '0 auto' }}>\n          <div className=\"swap-theme-card\">\n            <h1 className=\"swap-theme-text-primary\" style={{ fontSize: '32px', fontWeight: '700', marginBottom: '8px' }}>\n              ðŸ“Š Live Markets\n            </h1>\n            <p className=\"swap-theme-text-secondary\" style={{ fontSize: '16px', marginBottom: '32px' }}>\n              Real-time crypto market prices\n            </p>\n\n            <div className=\"swap-theme-divider\" />\n\n            <div style={{ display: 'grid', gap: '12px', marginTop: '32px' }}>\n              {markets.map((market) => (\n                <div key={market.symbol} className=\"swap-theme-card\" style={{ padding: '20px' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                    <div>\n                      <h3 className=\"swap-theme-text-primary\" style={{ fontSize: '18px', fontWeight: '700' }}>{market.symbol}</h3>\n                    </div>\n                    <div style={{ textAlign: 'right' }}>\n                      <p className=\"swap-theme-accent\" style={{ fontSize: '18px', fontWeight: '700' }}>Â£{market.price?.toFixed(2)}</p>\n                      <p style={{ color: market.change >= 0 ? '#22C55E' : '#EF4444', fontSize: '14px' }}>\n                        {market.change >= 0 ? '+' : ''}{market.change?.toFixed(2)}%\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}