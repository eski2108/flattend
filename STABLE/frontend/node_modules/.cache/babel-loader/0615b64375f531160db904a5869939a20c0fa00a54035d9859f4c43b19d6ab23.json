{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{toast}from'react-hot-toast';import Layout from'@/components/Layout';const API=process.env.REACT_APP_BACKEND_URL;import{IoAdd,IoAlertCircle,IoCheckmark,IoCheckmarkCircle,IoClose,IoCreate}from'react-icons/io5';import{AiOutlineLoading3Quarters}from'react-icons/ai';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";;// API already defined\nfunction PaymentMethods(){const[methods,setMethods]=useState([]);const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[showAddModal,setShowAddModal]=useState(false);const[editingMethod,setEditingMethod]=useState(null);const[methodTypes,setMethodTypes]=useState({});const[validationErrors,setValidationErrors]=useState({});const[formData,setFormData]=useState({method_type:'UK Bank Transfer',nickname:'',currency:'GBP',is_active:true,details:{}});useEffect(()=>{loadPaymentMethods();loadMethodTypes();},[]);const loadPaymentMethods=async()=>{try{const user=JSON.parse(localStorage.getItem('cryptobank_user')||localStorage.getItem('user'));if(!user){toast.error('Please log in');return;}const response=await axios.get(\"\".concat(API,\"/api/payment-methods/\").concat(user.user_id));setMethods(response.data.payment_methods||[]);}catch(error){var _error$response,_error$response$data;console.error('Failed to load payment methods:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.detail)||'Failed to load payment methods');}finally{setLoading(false);}};const loadMethodTypes=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/payment-methods/types\"));setMethodTypes(response.data.types||{});}catch(error){console.error('Failed to load method types:',error);}};const handleAddMethod=()=>{setEditingMethod(null);setFormData({method_type:'UK Bank Transfer',nickname:'',currency:'GBP',is_active:true,details:{}});setValidationErrors({});setShowAddModal(true);};const handleEditMethod=method=>{setEditingMethod(method);setFormData({method_type:method.method_type,nickname:method.nickname,currency:method.currency,is_active:method.is_active,details:method.details||{}});setValidationErrors({});setShowAddModal(true);};const validateForm=()=>{const errors={};if(!formData.nickname.trim()){errors.nickname='Nickname is required';}const config=methodTypes[formData.method_type];if(config){config.required_fields.forEach(field=>{if(!formData.details[field]||!formData.details[field].trim()){errors[field]=\"\".concat(field.replace('_',' '),\" is required\");}});}setValidationErrors(errors);return Object.keys(errors).length===0;};const handleSaveMethod=async()=>{if(!validateForm()){toast.error('Please fill in all required fields');return;}setSaving(true);try{const user=JSON.parse(localStorage.getItem('cryptobank_user')||localStorage.getItem('user'));if(editingMethod){await axios.put(\"\".concat(API,\"/api/payment-methods/\").concat(editingMethod.payment_method_id),formData);toast.success('✅ Payment method updated successfully!');}else{await axios.post(\"\".concat(API,\"/api/payment-methods\"),_objectSpread(_objectSpread({},formData),{},{user_id:user.user_id}));toast.success('✅ Payment method added successfully! You can now start selling.');}setShowAddModal(false);await loadPaymentMethods();}catch(error){var _error$response2,_error$response2$data,_error$response3,_error$response3$data;console.error('Save error:',error);const errorMsg=((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.detail)||'Failed to save payment method';toast.error('❌ '+errorMsg);// Show validation errors if any\nif((_error$response3=error.response)!==null&&_error$response3!==void 0&&(_error$response3$data=_error$response3.data)!==null&&_error$response3$data!==void 0&&_error$response3$data.errors){setValidationErrors(error.response.data.errors);}}finally{setSaving(false);}};const handleDeleteMethod=async methodId=>{if(!window.confirm('Are you sure you want to delete this payment method?'))return;try{await axios.delete(\"\".concat(API,\"/api/payment-methods/\").concat(methodId));toast.success('✅ Payment method deleted');await loadPaymentMethods();}catch(error){toast.error('❌ Failed to delete payment method');}};const handleToggleActive=async method=>{try{await axios.put(\"\".concat(API,\"/api/payment-methods/\").concat(method.payment_method_id),_objectSpread(_objectSpread({},method),{},{is_active:!method.is_active}));toast.success(method.is_active?'Method deactivated':'Method activated');await loadPaymentMethods();}catch(error){toast.error('Failed to update status');}};const renderFormFields=()=>{const config=methodTypes[formData.method_type];if(!config)return null;const allFields=[...(config.required_fields||[]),...(config.optional_fields||[])];return allFields.map(field=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',color:'#fff',fontSize:'14px',fontWeight:'600',marginBottom:'0.5rem'},children:[field.replace('_',' ').replace(/\\b\\w/g,l=>l.toUpperCase()),config.required_fields.includes(field)&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#EF4444'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.details[field]||'',onChange:e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{details:_objectSpread(_objectSpread({},formData.details),{},{[field]:e.target.value})}));// Clear error when user starts typing\nif(validationErrors[field]){setValidationErrors(_objectSpread(_objectSpread({},validationErrors),{},{[field]:null}));}},placeholder:\"Enter \".concat(field.replace('_',' ')),style:{width:'100%',padding:'14px',background:'rgba(0, 0, 0, 0.4)',border:validationErrors[field]?'2px solid rgba(239, 68, 68, 0.5)':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'14px',outline:'none',transition:'border-color 0.2s'}}),validationErrors[field]&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#EF4444',fontSize:'12px',marginTop:'0.25rem',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:12}),validationErrors[field]]})]},field));};const activeMethodsCount=methods.filter(m=>m.is_active).length;return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)',padding:'2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1200px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',fontWeight:'800',background:'linear-gradient(135deg, #00F0FF, #A855F7)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',marginBottom:'0.5rem'},children:\"Payment Methods\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px'},children:\"Manage your payment methods for P2P trading\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddMethod,style:{padding:'14px 28px',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'12px',color:'#000',fontSize:'16px',fontWeight:'700',cursor:'pointer',display:'flex',alignItems:'center',gap:'8px',transition:'transform 0.2s',boxShadow:'0 4px 12px rgba(0, 240, 255, 0.3)'},onMouseOver:e=>e.target.style.transform='scale(1.05)',onMouseOut:e=>e.target.style.transform='scale(1)',children:[/*#__PURE__*/_jsx(IoAdd,{size:20}),\"Add Payment Method\"]})]}),methods.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'1rem 1.5rem',background:activeMethodsCount>0?'rgba(34, 197, 94, 0.1)':'rgba(239, 68, 68, 0.1)',border:\"2px solid \".concat(activeMethodsCount>0?'rgba(34, 197, 94, 0.3)':'rgba(239, 68, 68, 0.3)'),borderRadius:'12px'},children:[activeMethodsCount>0?/*#__PURE__*/_jsx(IoCheckmarkCircle,{size:20,color:\"#22C55E\"}):/*#__PURE__*/_jsx(IoAlertCircle,{size:20,color:\"#EF4444\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:activeMethodsCount>0?'#22C55E':'#EF4444',fontSize:'14px',fontWeight:'600'},children:activeMethodsCount>0?\"You have \".concat(activeMethodsCount,\" active payment method\").concat(activeMethodsCount>1?'s':'',\" \\u2013 Ready to sell!\"):'No active payment methods – Add one to start selling'})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'4rem',color:'#888'},children:[/*#__PURE__*/_jsx(AiOutlineLoading3Quarters,{size:32,style:{animation:'spin 1s linear infinite',marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading payment methods...\"})]}):methods.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'4rem',background:'rgba(255, 255, 255, 0.05)',borderRadius:'16px',border:'2px dashed rgba(0, 240, 255, 0.3)'},children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:48,color:\"#888\",style:{marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#fff',fontSize:'20px',fontWeight:'700',marginBottom:'0.5rem'},children:\"No payment methods yet\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#888',fontSize:'14px',marginBottom:'2rem'},children:\"Add your first payment method to start accepting payments as a seller\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAddMethod,style:{padding:'12px 24px',background:'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'10px',color:'#000',fontSize:'16px',fontWeight:'700',cursor:'pointer',display:'inline-flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(IoAdd,{size:20}),\"Add Your First Method\"]})]}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:methods.map(method=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(255, 255, 255, 0.05)',borderRadius:'16px',padding:'1.5rem',border:\"2px solid \".concat(method.is_active?'rgba(0, 240, 255, 0.3)':'rgba(255, 255, 255, 0.1)'),display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 300px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem',marginBottom:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#fff',fontSize:'18px',fontWeight:'700',margin:0},children:method.nickname}),/*#__PURE__*/_jsxs(\"span\",{style:{padding:'4px 12px',background:method.is_active?'rgba(34, 197, 94, 0.2)':'rgba(239, 68, 68, 0.2)',border:\"1px solid \".concat(method.is_active?'rgba(34, 197, 94, 0.4)':'rgba(239, 68, 68, 0.4)'),borderRadius:'6px',color:method.is_active?'#22C55E':'#EF4444',fontSize:'12px',fontWeight:'600',display:'inline-flex',alignItems:'center',gap:'0.25rem'},children:[method.is_active?/*#__PURE__*/_jsx(IoCheckmark,{size:12}):/*#__PURE__*/_jsx(IoClose,{size:12}),method.is_active?'Active':'Inactive']})]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#888',fontSize:'14px',margin:'0.25rem 0'},children:[method.method_type,\" \\u2022 \",method.currency]}),method.details&&Object.keys(method.details).length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'#666',fontSize:'12px',marginTop:'0.5rem'},children:[Object.keys(method.details).length,\" detail\",Object.keys(method.details).length>1?'s':'',\" saved\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleActive(method),style:{padding:'10px 18px',background:'rgba(168, 85, 247, 0.2)',border:'1px solid rgba(168, 85, 247, 0.4)',borderRadius:'8px',color:'#A855F7',fontSize:'14px',fontWeight:'600',cursor:'pointer',transition:'background 0.2s'},children:method.is_active?'Deactivate':'Activate'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditMethod(method),style:{padding:'10px',background:'rgba(0, 240, 255, 0.2)',border:'1px solid rgba(0, 240, 255, 0.4)',borderRadius:'8px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(IoCreate,{size:18,color:\"#00F0FF\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteMethod(method.payment_method_id),style:{padding:'10px',background:'rgba(239, 68, 68, 0.2)',border:'1px solid rgba(239, 68, 68, 0.4)',borderRadius:'8px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Trash2,{size:18,color:\"#EF4444\"})})]})]},method.payment_method_id))})]})}),showAddModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0, 0, 0, 0.85)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:1000,padding:'1rem'},onClick:()=>!saving&&setShowAddModal(false),children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%)',borderRadius:'24px',padding:'2.5rem',maxWidth:'600px',width:'100%',maxHeight:'90vh',overflowY:'auto',border:'2px solid rgba(0, 240, 255, 0.3)',boxShadow:'0 20px 60px rgba(0, 0, 0, 0.5)'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#fff',fontSize:'24px',fontWeight:'800',margin:0},children:editingMethod?'Edit Payment Method':'Add Payment Method'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>!saving&&setShowAddModal(false),disabled:saving,style:{background:'none',border:'none',color:'#888',cursor:saving?'not-allowed':'pointer',padding:'0.5rem'},children:/*#__PURE__*/_jsx(IoClose,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',color:'#fff',fontSize:'14px',fontWeight:'600',marginBottom:'0.5rem'},children:[\"Payment Method Name\",/*#__PURE__*/_jsx(\"span\",{style:{color:'#EF4444'},children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.nickname,onChange:e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{nickname:e.target.value}));if(validationErrors.nickname){setValidationErrors(_objectSpread(_objectSpread({},validationErrors),{},{nickname:null}));}},placeholder:\"e.g., Main Bank Account\",style:{width:'100%',padding:'14px',background:'rgba(0, 0, 0, 0.4)',border:validationErrors.nickname?'2px solid rgba(239, 68, 68, 0.5)':'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'14px',outline:'none'}}),validationErrors.nickname&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#EF4444',fontSize:'12px',marginTop:'0.25rem',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:12}),validationErrors.nickname]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',color:'#fff',fontSize:'14px',fontWeight:'600',marginBottom:'0.5rem'},children:\"Payment Type\"}),/*#__PURE__*/_jsx(\"select\",{value:formData.method_type,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{method_type:e.target.value,details:{}})),disabled:saving,style:{width:'100%',padding:'14px',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'14px',outline:'none',cursor:saving?'not-allowed':'pointer'},children:Object.keys(methodTypes).map(type=>/*#__PURE__*/_jsx(\"option\",{value:type,children:type},type))})]}),renderFormFields(),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',color:'#fff',fontSize:'14px',fontWeight:'600',marginBottom:'0.5rem'},children:\"Currency\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.currency,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{currency:e.target.value})),disabled:saving,style:{width:'100%',padding:'14px',background:'rgba(0, 0, 0, 0.4)',border:'2px solid rgba(0, 240, 255, 0.3)',borderRadius:'10px',color:'#fff',fontSize:'14px',outline:'none',cursor:saving?'not-allowed':'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddModal(false),disabled:saving,style:{padding:'12px 24px',background:'rgba(255, 255, 255, 0.1)',border:'1px solid rgba(255, 255, 255, 0.2)',borderRadius:'10px',color:'#fff',fontSize:'16px',fontWeight:'600',cursor:saving?'not-allowed':'pointer',opacity:saving?0.5:1},children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveMethod,disabled:saving,style:{padding:'12px 24px',background:saving?'rgba(0, 240, 255, 0.5)':'linear-gradient(135deg, #00F0FF, #A855F7)',border:'none',borderRadius:'10px',color:'#000',fontSize:'16px',fontWeight:'700',cursor:saving?'not-allowed':'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:saving?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AiOutlineLoading3Quarters,{size:16,style:{animation:'spin 1s linear infinite'}}),\"Saving...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IoCheckmark,{size:16}),editingMethod?'Update Method':'Add Method']})})]}),Object.keys(validationErrors).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1.5rem',padding:'1rem',background:'rgba(239, 68, 68, 0.1)',border:'1px solid rgba(239, 68, 68, 0.3)',borderRadius:'8px',color:'#EF4444',fontSize:'13px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem',fontWeight:'600'},children:[/*#__PURE__*/_jsx(IoAlertCircle,{size:16}),\"Please fix the following errors:\"]}),/*#__PURE__*/_jsx(\"ul\",{style:{margin:'0.5rem 0 0 1.5rem',padding:0},children:Object.entries(validationErrors).map(_ref=>{let[field,error]=_ref;return error&&/*#__PURE__*/_jsx(\"li\",{children:error},field);})})]})]})})]});}export default PaymentMethods;","map":{"version":3,"names":["React","useState","useEffect","axios","toast","Layout","API","process","env","REACT_APP_BACKEND_URL","IoAdd","IoAlertCircle","IoCheckmark","IoCheckmarkCircle","IoClose","IoCreate","AiOutlineLoading3Quarters","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PaymentMethods","methods","setMethods","loading","setLoading","saving","setSaving","showAddModal","setShowAddModal","editingMethod","setEditingMethod","methodTypes","setMethodTypes","validationErrors","setValidationErrors","formData","setFormData","method_type","nickname","currency","is_active","details","loadPaymentMethods","loadMethodTypes","user","JSON","parse","localStorage","getItem","error","response","get","concat","user_id","data","payment_methods","_error$response","_error$response$data","console","detail","types","handleAddMethod","handleEditMethod","method","validateForm","errors","trim","config","required_fields","forEach","field","replace","Object","keys","length","handleSaveMethod","put","payment_method_id","success","post","_objectSpread","_error$response2","_error$response2$data","_error$response3","_error$response3$data","errorMsg","handleDeleteMethod","methodId","window","confirm","delete","handleToggleActive","renderFormFields","allFields","optional_fields","map","style","marginBottom","children","display","alignItems","gap","color","fontSize","fontWeight","l","toUpperCase","includes","type","value","onChange","e","target","placeholder","width","padding","background","border","borderRadius","outline","transition","marginTop","size","activeMethodsCount","filter","m","minHeight","maxWidth","margin","justifyContent","flexWrap","WebkitBackgroundClip","WebkitTextFillColor","onClick","cursor","boxShadow","onMouseOver","transform","onMouseOut","textAlign","animation","flexDirection","flex","Trash2","position","top","left","right","bottom","zIndex","maxHeight","overflowY","stopPropagation","disabled","opacity","entries","_ref"],"sources":["/app/frontend/src/pages/PaymentMethods.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-hot-toast';\nimport Layout from '@/components/Layout';\nconst API = process.env.REACT_APP_BACKEND_URL;\nimport { IoAdd, IoAlertCircle, IoCheckmark, IoCheckmarkCircle, IoClose, IoCreate } from 'react-icons/io5';\nimport { AiOutlineLoading3Quarters } from 'react-icons/ai';;\n\n// API already defined\n\nfunction PaymentMethods() {\n  const [methods, setMethods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingMethod, setEditingMethod] = useState(null);\n  const [methodTypes, setMethodTypes] = useState({});\n  const [validationErrors, setValidationErrors] = useState({});\n  const [formData, setFormData] = useState({\n    method_type: 'UK Bank Transfer',\n    nickname: '',\n    currency: 'GBP',\n    is_active: true,\n    details: {}\n  });\n\n  useEffect(() => {\n    loadPaymentMethods();\n    loadMethodTypes();\n  }, []);\n\n  const loadPaymentMethods = async () => {\n    try {\n      const user = JSON.parse(localStorage.getItem('cryptobank_user') || localStorage.getItem('user'));\n      if (!user) {\n        toast.error('Please log in');\n        return;\n      }\n      const response = await axios.get(`${API}/api/payment-methods/${user.user_id}`);\n      setMethods(response.data.payment_methods || []);\n    } catch (error) {\n      console.error('Failed to load payment methods:', error);\n      toast.error(error.response?.data?.detail || 'Failed to load payment methods');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMethodTypes = async () => {\n    try {\n      const response = await axios.get(`${API}/api/payment-methods/types`);\n      setMethodTypes(response.data.types || {});\n    } catch (error) {\n      console.error('Failed to load method types:', error);\n    }\n  };\n\n  const handleAddMethod = () => {\n    setEditingMethod(null);\n    setFormData({\n      method_type: 'UK Bank Transfer',\n      nickname: '',\n      currency: 'GBP',\n      is_active: true,\n      details: {}\n    });\n    setValidationErrors({});\n    setShowAddModal(true);\n  };\n\n  const handleEditMethod = (method) => {\n    setEditingMethod(method);\n    setFormData({\n      method_type: method.method_type,\n      nickname: method.nickname,\n      currency: method.currency,\n      is_active: method.is_active,\n      details: method.details || {}\n    });\n    setValidationErrors({});\n    setShowAddModal(true);\n  };\n\n  const validateForm = () => {\n    const errors = {};\n    \n    if (!formData.nickname.trim()) {\n      errors.nickname = 'Nickname is required';\n    }\n\n    const config = methodTypes[formData.method_type];\n    if (config) {\n      config.required_fields.forEach(field => {\n        if (!formData.details[field] || !formData.details[field].trim()) {\n          errors[field] = `${field.replace('_', ' ')} is required`;\n        }\n      });\n    }\n\n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSaveMethod = async () => {\n    if (!validateForm()) {\n      toast.error('Please fill in all required fields');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const user = JSON.parse(localStorage.getItem('cryptobank_user') || localStorage.getItem('user'));\n      \n      if (editingMethod) {\n        await axios.put(`${API}/api/payment-methods/${editingMethod.payment_method_id}`, formData);\n        toast.success('✅ Payment method updated successfully!');\n      } else {\n        await axios.post(`${API}/api/payment-methods`, {\n          ...formData,\n          user_id: user.user_id\n        });\n        toast.success('✅ Payment method added successfully! You can now start selling.');\n      }\n      \n      setShowAddModal(false);\n      await loadPaymentMethods();\n    } catch (error) {\n      console.error('Save error:', error);\n      const errorMsg = error.response?.data?.detail || 'Failed to save payment method';\n      toast.error('❌ ' + errorMsg);\n      \n      // Show validation errors if any\n      if (error.response?.data?.errors) {\n        setValidationErrors(error.response.data.errors);\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDeleteMethod = async (methodId) => {\n    if (!window.confirm('Are you sure you want to delete this payment method?')) return;\n    \n    try {\n      await axios.delete(`${API}/api/payment-methods/${methodId}`);\n      toast.success('✅ Payment method deleted');\n      await loadPaymentMethods();\n    } catch (error) {\n      toast.error('❌ Failed to delete payment method');\n    }\n  };\n\n  const handleToggleActive = async (method) => {\n    try {\n      await axios.put(`${API}/api/payment-methods/${method.payment_method_id}`, {\n        ...method,\n        is_active: !method.is_active\n      });\n      toast.success(method.is_active ? 'Method deactivated' : 'Method activated');\n      await loadPaymentMethods();\n    } catch (error) {\n      toast.error('Failed to update status');\n    }\n  };\n\n  const renderFormFields = () => {\n    const config = methodTypes[formData.method_type];\n    if (!config) return null;\n\n    const allFields = [...(config.required_fields || []), ...(config.optional_fields || [])];\n\n    return allFields.map(field => (\n      <div key={field} style={{ marginBottom: '1.5rem' }}>\n        <label style={{ \n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          color: '#fff', \n          fontSize: '14px', \n          fontWeight: '600', \n          marginBottom: '0.5rem' \n        }}>\n          {field.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}\n          {config.required_fields.includes(field) && <span style={{ color: '#EF4444' }}>*</span>}\n        </label>\n        <input\n          type=\"text\"\n          value={formData.details[field] || ''}\n          onChange={(e) => {\n            setFormData({\n              ...formData,\n              details: { ...formData.details, [field]: e.target.value }\n            });\n            // Clear error when user starts typing\n            if (validationErrors[field]) {\n              setValidationErrors({ ...validationErrors, [field]: null });\n            }\n          }}\n          placeholder={`Enter ${field.replace('_', ' ')}`}\n          style={{\n            width: '100%',\n            padding: '14px',\n            background: 'rgba(0, 0, 0, 0.4)',\n            border: validationErrors[field] \n              ? '2px solid rgba(239, 68, 68, 0.5)'\n              : '2px solid rgba(0, 240, 255, 0.3)',\n            borderRadius: '10px',\n            color: '#fff',\n            fontSize: '14px',\n            outline: 'none',\n            transition: 'border-color 0.2s'\n          }}\n        />\n        {validationErrors[field] && (\n          <div style={{ \n            color: '#EF4444', \n            fontSize: '12px', \n            marginTop: '0.25rem',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.25rem'\n          }}>\n            <IoAlertCircle size={12} />\n            {validationErrors[field]}\n          </div>\n        )}\n      </div>\n    ));\n  };\n\n  const activeMethodsCount = methods.filter(m => m.is_active).length;\n\n  return (\n    <Layout>\n      <div style={{ minHeight: '100vh', background: 'linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)', padding: '2rem' }}>\n        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>\n          {/* Header with Status */}\n          <div style={{ marginBottom: '2rem' }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem', flexWrap: 'wrap', gap: '1rem' }}>\n              <div>\n                <h1 style={{ fontSize: '2rem', fontWeight: '800', background: 'linear-gradient(135deg, #00F0FF, #A855F7)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent', marginBottom: '0.5rem' }}>\n                  Payment Methods\n                </h1>\n                <p style={{ color: '#888', fontSize: '14px' }}>Manage your payment methods for P2P trading</p>\n              </div>\n              <button\n                onClick={handleAddMethod}\n                style={{\n                  padding: '14px 28px',\n                  background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                  border: 'none',\n                  borderRadius: '12px',\n                  color: '#000',\n                  fontSize: '16px',\n                  fontWeight: '700',\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px',\n                  transition: 'transform 0.2s',\n                  boxShadow: '0 4px 12px rgba(0, 240, 255, 0.3)'\n                }}\n                onMouseOver={(e) => e.target.style.transform = 'scale(1.05)'}\n                onMouseOut={(e) => e.target.style.transform = 'scale(1)'}\n              >\n                <IoAdd size={20} />\n                Add Payment Method\n              </button>\n            </div>\n\n            {/* Status Indicator */}\n            {methods.length > 0 && (\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                padding: '1rem 1.5rem',\n                background: activeMethodsCount > 0 ? 'rgba(34, 197, 94, 0.1)' : 'rgba(239, 68, 68, 0.1)',\n                border: `2px solid ${activeMethodsCount > 0 ? 'rgba(34, 197, 94, 0.3)' : 'rgba(239, 68, 68, 0.3)'}`,\n                borderRadius: '12px'\n              }}>\n                {activeMethodsCount > 0 ? (\n                  <IoCheckmarkCircle size={20} color=\"#22C55E\" />\n                ) : (\n                  <IoAlertCircle size={20} color=\"#EF4444\" />\n                )}\n                <span style={{ color: activeMethodsCount > 0 ? '#22C55E' : '#EF4444', fontSize: '14px', fontWeight: '600' }}>\n                  {activeMethodsCount > 0 \n                    ? `You have ${activeMethodsCount} active payment method${activeMethodsCount > 1 ? 's' : ''} – Ready to sell!`\n                    : 'No active payment methods – Add one to start selling'}\n                </span>\n              </div>\n            )}\n          </div>\n\n          {/* Payment Methods List */}\n          {loading ? (\n            <div style={{ textAlign: 'center', padding: '4rem', color: '#888' }}>\n              <AiOutlineLoading3Quarters size={32} style={{ animation: 'spin 1s linear infinite', marginBottom: '1rem' }} />\n              <p>Loading payment methods...</p>\n            </div>\n          ) : methods.length === 0 ? (\n            <div style={{ textAlign: 'center', padding: '4rem', background: 'rgba(255, 255, 255, 0.05)', borderRadius: '16px', border: '2px dashed rgba(0, 240, 255, 0.3)' }}>\n              <IoAlertCircle size={48} color=\"#888\" style={{ marginBottom: '1rem' }} />\n              <p style={{ color: '#fff', fontSize: '20px', fontWeight: '700', marginBottom: '0.5rem' }}>No payment methods yet</p>\n              <p style={{ color: '#888', fontSize: '14px', marginBottom: '2rem' }}>Add your first payment method to start accepting payments as a seller</p>\n              <button\n                onClick={handleAddMethod}\n                style={{\n                  padding: '12px 24px',\n                  background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: '#000',\n                  fontSize: '16px',\n                  fontWeight: '700',\n                  cursor: 'pointer',\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                }}\n              >\n                <IoAdd size={20} />\n                Add Your First Method\n              </button>\n            </div>\n          ) : (\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n              {methods.map(method => (\n                <div key={method.payment_method_id} style={{\n                  background: 'rgba(255, 255, 255, 0.05)',\n                  borderRadius: '16px',\n                  padding: '1.5rem',\n                  border: `2px solid ${method.is_active ? 'rgba(0, 240, 255, 0.3)' : 'rgba(255, 255, 255, 0.1)'}`,\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  flexWrap: 'wrap',\n                  gap: '1rem'\n                }}>\n                  <div style={{ flex: '1 1 300px' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '0.5rem', flexWrap: 'wrap' }}>\n                      <h3 style={{ color: '#fff', fontSize: '18px', fontWeight: '700', margin: 0 }}>\n                        {method.nickname}\n                      </h3>\n                      <span style={{\n                        padding: '4px 12px',\n                        background: method.is_active ? 'rgba(34, 197, 94, 0.2)' : 'rgba(239, 68, 68, 0.2)',\n                        border: `1px solid ${method.is_active ? 'rgba(34, 197, 94, 0.4)' : 'rgba(239, 68, 68, 0.4)'}`,\n                        borderRadius: '6px',\n                        color: method.is_active ? '#22C55E' : '#EF4444',\n                        fontSize: '12px',\n                        fontWeight: '600',\n                        display: 'inline-flex',\n                        alignItems: 'center',\n                        gap: '0.25rem'\n                      }}>\n                        {method.is_active ? <IoCheckmark size={12} /> : <IoClose size={12} />}\n                        {method.is_active ? 'Active' : 'Inactive'}\n                      </span>\n                    </div>\n                    <p style={{ color: '#888', fontSize: '14px', margin: '0.25rem 0' }}>\n                      {method.method_type} • {method.currency}\n                    </p>\n                    {method.details && Object.keys(method.details).length > 0 && (\n                      <p style={{ color: '#666', fontSize: '12px', marginTop: '0.5rem' }}>\n                        {Object.keys(method.details).length} detail{Object.keys(method.details).length > 1 ? 's' : ''} saved\n                      </p>\n                    )}\n                  </div>\n                  <div style={{ display: 'flex', gap: '0.5rem', flexWrap: 'wrap' }}>\n                    <button\n                      onClick={() => handleToggleActive(method)}\n                      style={{\n                        padding: '10px 18px',\n                        background: 'rgba(168, 85, 247, 0.2)',\n                        border: '1px solid rgba(168, 85, 247, 0.4)',\n                        borderRadius: '8px',\n                        color: '#A855F7',\n                        fontSize: '14px',\n                        fontWeight: '600',\n                        cursor: 'pointer',\n                        transition: 'background 0.2s'\n                      }}\n                    >\n                      {method.is_active ? 'Deactivate' : 'Activate'}\n                    </button>\n                    <button\n                      onClick={() => handleEditMethod(method)}\n                      style={{\n                        padding: '10px',\n                        background: 'rgba(0, 240, 255, 0.2)',\n                        border: '1px solid rgba(0, 240, 255, 0.4)',\n                        borderRadius: '8px',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                      }}\n                    >\n                      <IoCreate size={18} color=\"#00F0FF\" />\n                    </button>\n                    <button\n                      onClick={() => handleDeleteMethod(method.payment_method_id)}\n                      style={{\n                        padding: '10px',\n                        background: 'rgba(239, 68, 68, 0.2)',\n                        border: '1px solid rgba(239, 68, 68, 0.4)',\n                        borderRadius: '8px',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                      }}\n                    >\n                      <Trash2 size={18} color=\"#EF4444\" />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Add/Edit Modal */}\n      {showAddModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.85)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n          padding: '1rem'\n        }}\n        onClick={() => !saving && setShowAddModal(false)}\n        >\n          <div \n            style={{\n              background: 'linear-gradient(135deg, #1a1f3a 0%, #0a0e27 100%)',\n              borderRadius: '24px',\n              padding: '2.5rem',\n              maxWidth: '600px',\n              width: '100%',\n              maxHeight: '90vh',\n              overflowY: 'auto',\n              border: '2px solid rgba(0, 240, 255, 0.3)',\n              boxShadow: '0 20px 60px rgba(0, 0, 0, 0.5)'\n            }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem' }}>\n              <h2 style={{ color: '#fff', fontSize: '24px', fontWeight: '800', margin: 0 }}>\n                {editingMethod ? 'Edit Payment Method' : 'Add Payment Method'}\n              </h2>\n              <button\n                onClick={() => !saving && setShowAddModal(false)}\n                disabled={saving}\n                style={{\n                  background: 'none',\n                  border: 'none',\n                  color: '#888',\n                  cursor: saving ? 'not-allowed' : 'pointer',\n                  padding: '0.5rem'\n                }}\n              >\n                <IoClose size={24} />\n              </button>\n            </div>\n\n            {/* Nickname */}\n            <div style={{ marginBottom: '1.5rem' }}>\n              <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', color: '#fff', fontSize: '14px', fontWeight: '600', marginBottom: '0.5rem' }}>\n                Payment Method Name\n                <span style={{ color: '#EF4444' }}>*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={formData.nickname}\n                onChange={(e) => {\n                  setFormData({ ...formData, nickname: e.target.value });\n                  if (validationErrors.nickname) {\n                    setValidationErrors({ ...validationErrors, nickname: null });\n                  }\n                }}\n                placeholder=\"e.g., Main Bank Account\"\n                style={{\n                  width: '100%',\n                  padding: '14px',\n                  background: 'rgba(0, 0, 0, 0.4)',\n                  border: validationErrors.nickname\n                    ? '2px solid rgba(239, 68, 68, 0.5)'\n                    : '2px solid rgba(0, 240, 255, 0.3)',\n                  borderRadius: '10px',\n                  color: '#fff',\n                  fontSize: '14px',\n                  outline: 'none'\n                }}\n              />\n              {validationErrors.nickname && (\n                <div style={{ color: '#EF4444', fontSize: '12px', marginTop: '0.25rem', display: 'flex', alignItems: 'center', gap: '0.25rem' }}>\n                  <IoAlertCircle size={12} />\n                  {validationErrors.nickname}\n                </div>\n              )}\n            </div>\n\n            {/* Method Type */}\n            <div style={{ marginBottom: '1.5rem' }}>\n              <label style={{ display: 'block', color: '#fff', fontSize: '14px', fontWeight: '600', marginBottom: '0.5rem' }}>\n                Payment Type\n              </label>\n              <select\n                value={formData.method_type}\n                onChange={(e) => setFormData({ ...formData, method_type: e.target.value, details: {} })}\n                disabled={saving}\n                style={{\n                  width: '100%',\n                  padding: '14px',\n                  background: 'rgba(0, 0, 0, 0.4)',\n                  border: '2px solid rgba(0, 240, 255, 0.3)',\n                  borderRadius: '10px',\n                  color: '#fff',\n                  fontSize: '14px',\n                  outline: 'none',\n                  cursor: saving ? 'not-allowed' : 'pointer'\n                }}\n              >\n                {Object.keys(methodTypes).map(type => (\n                  <option key={type} value={type}>{type}</option>\n                ))}\n              </select>\n            </div>\n\n            {/* Dynamic Fields */}\n            {renderFormFields()}\n\n            {/* Currency */}\n            <div style={{ marginBottom: '2rem' }}>\n              <label style={{ display: 'block', color: '#fff', fontSize: '14px', fontWeight: '600', marginBottom: '0.5rem' }}>\n                Currency\n              </label>\n              <select\n                value={formData.currency}\n                onChange={(e) => setFormData({ ...formData, currency: e.target.value })}\n                disabled={saving}\n                style={{\n                  width: '100%',\n                  padding: '14px',\n                  background: 'rgba(0, 0, 0, 0.4)',\n                  border: '2px solid rgba(0, 240, 255, 0.3)',\n                  borderRadius: '10px',\n                  color: '#fff',\n                  fontSize: '14px',\n                  outline: 'none',\n                  cursor: saving ? 'not-allowed' : 'pointer'\n                }}\n              >\n                <option value=\"GBP\">GBP</option>\n                <option value=\"USD\">USD</option>\n                <option value=\"EUR\">EUR</option>\n              </select>\n            </div>\n\n            {/* Buttons */}\n            <div style={{ display: 'flex', gap: '1rem', justifyContent: 'flex-end' }}>\n              <button\n                onClick={() => setShowAddModal(false)}\n                disabled={saving}\n                style={{\n                  padding: '12px 24px',\n                  background: 'rgba(255, 255, 255, 0.1)',\n                  border: '1px solid rgba(255, 255, 255, 0.2)',\n                  borderRadius: '10px',\n                  color: '#fff',\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  cursor: saving ? 'not-allowed' : 'pointer',\n                  opacity: saving ? 0.5 : 1\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleSaveMethod}\n                disabled={saving}\n                style={{\n                  padding: '12px 24px',\n                  background: saving \n                    ? 'rgba(0, 240, 255, 0.5)'\n                    : 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                  border: 'none',\n                  borderRadius: '10px',\n                  color: '#000',\n                  fontSize: '16px',\n                  fontWeight: '700',\n                  cursor: saving ? 'not-allowed' : 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '0.5rem'\n                }}\n              >\n                {saving ? (\n                  <>\n                    <AiOutlineLoading3Quarters size={16} style={{ animation: 'spin 1s linear infinite' }} />\n                    Saving...\n                  </>\n                ) : (\n                  <>\n                    <IoCheckmark size={16} />\n                    {editingMethod ? 'Update Method' : 'Add Method'}\n                  </>\n                )}\n              </button>\n            </div>\n\n            {/* Error Summary */}\n            {Object.keys(validationErrors).length > 0 && (\n              <div style={{\n                marginTop: '1.5rem',\n                padding: '1rem',\n                background: 'rgba(239, 68, 68, 0.1)',\n                border: '1px solid rgba(239, 68, 68, 0.3)',\n                borderRadius: '8px',\n                color: '#EF4444',\n                fontSize: '13px'\n              }}>\n                <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem', fontWeight: '600' }}>\n                  <IoAlertCircle size={16} />\n                  Please fix the following errors:\n                </div>\n                <ul style={{ margin: '0.5rem 0 0 1.5rem', padding: 0 }}>\n                  {Object.entries(validationErrors).map(([field, error]) => (\n                    error && <li key={field}>{error}</li>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </Layout>\n  );\n}\n\nexport default PaymentMethods;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}