{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{toast}from'sonner';import Layout from'@/components/Layout';import{getCoinName}from'@/config/tradingPairs';import{getCryptoEmoji,getCryptoColor}from'@/utils/cryptoIcons';import{IoArrowBack,IoTrendingUp,IoTrendingDown}from'react-icons/io5';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API=process.env.REACT_APP_BACKEND_URL||'';export default function MobileTradingPage(){const{symbol}=useParams();const navigate=useNavigate();const[marketStats,setMarketStats]=useState({lastPrice:0,change24h:0,high24h:0,low24h:0,volume24h:0,marketCap:0});const[amount,setAmount]=useState('');const[orderType,setOrderType]=useState('market');const[limitPrice,setLimitPrice]=useState('');const[isLoading,setIsLoading]=useState(false);const[coinBase,setCoinBase]=useState('');const[coinName,setCoinName]=useState('');const[balance,setBalance]=useState({usd:0,coin:0,gbp:0});const[tradingFee,setTradingFee]=useState(0.1);const[inputCurrency,setInputCurrency]=useState('USD');const[currencyAmount,setCurrencyAmount]=useState('');const[exchangeRates,setExchangeRates]=useState({GBP:0.79,EUR:0.92});useEffect(()=>{if(symbol){const base=symbol.replace('USD','');setCoinBase(base);setCoinName(getCoinName(base));fetchMarketData(base);fetchBalance();fetchTradingFee();const interval=setInterval(()=>fetchMarketData(base),30000);setTimeout(()=>{loadTradingViewChart(symbol);},500);return()=>clearInterval(interval);}},[symbol]);const fetchMarketData=async base=>{try{const response=await axios.get(\"\".concat(API,\"/api/prices/live\"));if(response.data.success&&response.data.prices){const priceData=response.data.prices[base];if(priceData){setMarketStats({lastPrice:priceData.price_usd||0,change24h:priceData.change_24h||0,high24h:priceData.high_24h||priceData.price_usd*1.02,low24h:priceData.low_24h||priceData.price_usd*0.98,volume24h:priceData.volume_24h||0,marketCap:priceData.market_cap||0});}}}catch(error){console.error('Error fetching market data:',error);}};const fetchBalance=async()=>{try{const token=localStorage.getItem('token');if(!token)return;const response=await axios.get(\"\".concat(API,\"/api/wallet/balance\"),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.data.success){const balances=response.data.balances||{};setBalance({usd:balances.USD||0,coin:balances[coinBase]||0});}}catch(error){console.error('Error fetching balance:',error);}};const fetchTradingFee=async()=>{try{const response=await axios.get(\"\".concat(API,\"/api/admin/platform-settings\"));if(response.data.success){setTradingFee(response.data.settings.spot_trading_fee_percent||0.1);}}catch(error){console.error('Error fetching fee:',error);}};const loadTradingViewChart=pairSymbol=>{const container=document.getElementById('tradingview-chart-mobile');if(!container)return;container.innerHTML='';const tvSymbol=pairSymbol.replace('USD','USDT');const widgetHTML=\"\\n      <div class=\\\"tradingview-widget-container\\\" style=\\\"height:100%;width:100%;background:transparent\\\">\\n        <div class=\\\"tradingview-widget-container__widget\\\" style=\\\"height:100%;width:100%;background:transparent\\\"></div>\\n        <script type=\\\"text/javascript\\\" src=\\\"https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js\\\" async>\\n        {\\n          \\\"autosize\\\": true,\\n          \\\"symbol\\\": \\\"BINANCE:\".concat(tvSymbol,\"\\\",\\n          \\\"interval\\\": \\\"15\\\",\\n          \\\"timezone\\\": \\\"Etc/UTC\\\",\\n          \\\"theme\\\": \\\"dark\\\",\\n          \\\"style\\\": \\\"1\\\",\\n          \\\"locale\\\": \\\"en\\\",\\n          \\\"enable_publishing\\\": false,\\n          \\\"backgroundColor\\\": \\\"rgba(2, 6, 23, 1)\\\",\\n          \\\"gridColor\\\": \\\"rgba(255, 255, 255, 0.05)\\\",\\n          \\\"hide_top_toolbar\\\": false,\\n          \\\"hide_legend\\\": true,\\n          \\\"save_image\\\": false,\\n          \\\"hide_volume\\\": false,\\n          \\\"support_host\\\": \\\"https://www.tradingview.com\\\",\\n          \\\"studies\\\": [\\n            \\\"RSI@tv-basicstudies\\\",\\n            \\\"MASimple@tv-basicstudies\\\"\\n          ]\\n        }\\n        </script>\\n      </div>\\n    \");container.innerHTML=widgetHTML;const scripts=container.getElementsByTagName('script');for(let i=0;i<scripts.length;i++){if(scripts[i].src){const newScript=document.createElement('script');newScript.src=scripts[i].src;newScript.async=true;newScript.innerHTML=scripts[i].innerHTML;scripts[i].parentNode.replaceChild(newScript,scripts[i]);}}};const handleTrade=async side=>{const token=localStorage.getItem('token');if(!token){toast.error('Please login to trade');navigate('/login');return;}if(!amount||parseFloat(amount)<=0){toast.error('Please enter a valid amount');return;}if(orderType==='limit'&&(!limitPrice||parseFloat(limitPrice)<=0)){toast.error('Please enter a valid limit price');return;}setIsLoading(true);try{const payload={pair:symbol,side:side,amount:parseFloat(amount),order_type:orderType,price:orderType==='limit'?parseFloat(limitPrice):marketStats.lastPrice};const response=await axios.post(\"\".concat(API,\"/api/trading/spot/order\"),payload,{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.data.success){toast.success(\"\".concat(side.toUpperCase(),\" order placed successfully!\"));setAmount('');setLimitPrice('');fetchBalance();}else{toast.error(response.data.message||'Order failed');}}catch(error){var _error$response,_error$response$data;console.error('Trading error:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to place order');}finally{setIsLoading(false);}};const calculateTotal=()=>{const amt=parseFloat(amount)||0;const price=orderType==='limit'?parseFloat(limitPrice)||0:marketStats.lastPrice;const subtotal=amt*price;const fee=subtotal*(tradingFee/100);return{subtotal,fee,total:subtotal+fee};};const{subtotal,fee,total}=calculateTotal();const rangePercentage=marketStats.high24h>0&&marketStats.low24h>0?(marketStats.lastPrice-marketStats.low24h)/(marketStats.high24h-marketStats.low24h)*100:50;return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          .main-content {\\n            padding: 0 !important;\\n            margin: 0 !important;\\n          }\\n          .tradingview-widget-container,\\n          .tradingview-widget-container__widget,\\n          .tradingview-widget-container iframe {\\n            border: none !important;\\n            outline: none !important;\\n            box-shadow: none !important;\\n            background: transparent !important;\\n          }\\n          .tradingview-widget-copyright {\\n            display: none !important;\\n          }\\n          /* Reposition chat widget to lower-right with safe spacing */\\n          [class*=\\\"chat-widget\\\"],\\n          [id*=\\\"chat-widget\\\"],\\n          [class*=\\\"ChatWidget\\\"],\\n          .tawk-min-container {\\n            bottom: 100px !important;\\n            right: 16px !important;\\n            z-index: 999 !important;\\n          }\\n        \"}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'430px',width:'100%',margin:'0 auto',background:'#020617',minHeight:'100vh',paddingBottom:'80px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',padding:'12px 16px',borderBottom:'1px solid rgba(255,255,255,0.08)',position:'sticky',top:0,background:'linear-gradient(180deg, #020617 0%, #030A15 100%)',zIndex:10,boxShadow:'0 2px 12px rgba(0,0,0,0.4)'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/markets'),style:{background:'transparent',border:'none',color:'#0FF2F2',fontSize:'24px',cursor:'pointer',padding:'8px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(IoArrowBack,{})})}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'12px 16px 16px 16px',padding:'16px',borderRadius:'16px',background:'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',border:'1px solid rgba(15,242,242,0.15)',boxShadow:'0 0 24px rgba(15,242,242,0.08), inset 0 1px 0 rgba(15,242,242,0.1)',display:'flex',alignItems:'center',gap:'14px'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/crypto-logos/\".concat(coinBase.toLowerCase(),\".png\"),alt:coinBase,style:{width:'32px',height:'32px',objectFit:'contain',marginLeft:'12px',flexShrink:0}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'16px',fontWeight:'700',color:'#FFFFFF',marginBottom:'4px',letterSpacing:'0.3px'},children:[coinName,\" / USD\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'22px',fontWeight:'800',color:'#FFFFFF',letterSpacing:'-0.5px'},children:[\"$\",marketStats.lastPrice>0?marketStats.lastPrice>=1?marketStats.lastPrice.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2}):marketStats.lastPrice.toFixed(6):'—']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'8px 12px',borderRadius:'10px',background:marketStats.change24h>=0?'rgba(0,255,148,0.15)':'rgba(255,75,75,0.15)',border:marketStats.change24h>=0?'1px solid rgba(0,255,148,0.3)':'1px solid rgba(255,75,75,0.3)',display:'flex',alignItems:'center',gap:'4px',flexShrink:0},children:[marketStats.change24h>=0?/*#__PURE__*/_jsx(IoTrendingUp,{style:{fontSize:'16px',color:'#00FF94'}}):/*#__PURE__*/_jsx(IoTrendingDown,{style:{fontSize:'16px',color:'#FF4B4B'}}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'14px',fontWeight:'700',color:marketStats.change24h>=0?'#00FF94':'#FF4B4B'},children:[marketStats.change24h>=0?'+':'',marketStats.change24h.toFixed(2),\"%\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'440px',margin:'0 16px 16px 16px',borderRadius:'18px',background:'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',border:'1px solid rgba(15,242,242,0.2)',boxShadow:'0 0 32px rgba(15,242,242,0.12), inset 0 1px 0 rgba(15,242,242,0.1)',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{id:\"tradingview-chart-mobile\",style:{width:'100%',height:'100%',background:'transparent'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0 16px 16px 16px',background:'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',border:'1px solid rgba(255,255,255,0.1)',boxShadow:'0 0 24px rgba(15,242,242,0.1), inset 0 1px 0 rgba(255,255,255,0.05)',borderRadius:'16px',padding:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'14px',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'rgba(255,255,255,0.5)',marginBottom:'5px',fontWeight:'600'},children:\"24h High\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#FFFFFF',fontWeight:'700'},children:[\"$\",marketStats.high24h>0?marketStats.high24h>=1?marketStats.high24h.toLocaleString('en-US',{maximumFractionDigits:2}):marketStats.high24h.toFixed(6):'—']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'rgba(255,255,255,0.5)',marginBottom:'5px',fontWeight:'600'},children:\"24h Low\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#FFFFFF',fontWeight:'700'},children:[\"$\",marketStats.low24h>0?marketStats.low24h>=1?marketStats.low24h.toLocaleString('en-US',{maximumFractionDigits:2}):marketStats.low24h.toFixed(6):'—']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'rgba(255,255,255,0.5)',marginBottom:'5px',fontWeight:'600'},children:\"24h Volume\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#FFFFFF',fontWeight:'700'},children:marketStats.volume24h>=1e9?\"$\".concat((marketStats.volume24h/1e9).toFixed(2),\"B\"):marketStats.volume24h>=1e6?\"$\".concat((marketStats.volume24h/1e6).toFixed(2),\"M\"):marketStats.volume24h>=1e3?\"$\".concat((marketStats.volume24h/1e3).toFixed(1),\"K\"):\"$\".concat(marketStats.volume24h.toFixed(0))})]}),marketStats.marketCap>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'rgba(255,255,255,0.5)',marginBottom:'5px',fontWeight:'600'},children:\"Market Cap\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#FFFFFF',fontWeight:'700'},children:marketStats.marketCap>=1e9?\"$\".concat((marketStats.marketCap/1e9).toFixed(2),\"B\"):marketStats.marketCap>=1e6?\"$\".concat((marketStats.marketCap/1e6).toFixed(2),\"M\"):\"$\".concat(marketStats.marketCap.toLocaleString())})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'rgba(255,255,255,0.5)',marginBottom:'10px',fontWeight:'600'},children:\"24h Price Range\"}),/*#__PURE__*/_jsx(\"div\",{style:{position:'relative',height:'10px',borderRadius:'5px',background:'linear-gradient(90deg, #FF4B4B 0%, #FFD700 50%, #00FF94 100%)',overflow:'visible'},children:/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',left:\"\".concat(rangePercentage,\"%\"),top:'50%',transform:'translate(-50%, -50%)',width:'14px',height:'14px',background:'#0FF2F2',borderRadius:'50%',border:'3px solid #020617',boxShadow:'0 0 16px rgba(15,242,242,0.8)'}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0 16px 16px 16px',display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOrderType('market'),style:{flex:1,height:'38px',borderRadius:'12px',background:orderType==='market'?'linear-gradient(135deg, #0FF2F2 0%, #00B8D4 100%)':'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',color:orderType==='market'?'#020617':'#8F9BB3',border:orderType==='market'?'none':'1px solid rgba(255,255,255,0.12)',fontSize:'14px',fontWeight:orderType==='market'?'700':'600',cursor:'pointer',transition:'all 200ms ease',boxShadow:orderType==='market'?'0 0 20px rgba(15,242,242,0.5), inset 0 1px 0 rgba(255,255,255,0.2)':'none'},children:\"Market\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setOrderType('limit'),style:{flex:1,height:'38px',borderRadius:'12px',background:orderType==='limit'?'linear-gradient(135deg, #0FF2F2 0%, #00B8D4 100%)':'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',color:orderType==='limit'?'#020617':'#8F9BB3',border:orderType==='limit'?'none':'1px solid rgba(255,255,255,0.12)',fontSize:'14px',fontWeight:orderType==='limit'?'700':'600',cursor:'pointer',transition:'all 200ms ease',boxShadow:orderType==='limit'?'0 0 20px rgba(15,242,242,0.5), inset 0 1px 0 rgba(255,255,255,0.2)':'none'},children:\"Limit\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0 16px',background:'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',border:'1px solid rgba(255,255,255,0.1)',borderRadius:'18px',padding:'18px',boxShadow:'0 0 24px rgba(15,242,242,0.08), inset 0 1px 0 rgba(255,255,255,0.05)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'14px',fontSize:'12px',color:'rgba(255,255,255,0.6)'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Available: \",balance.usd.toFixed(2),\" USD\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Available: \",balance.coin.toFixed(6),\" \",coinBase]})]}),orderType==='limit'&&/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Limit Price (USD)\",value:limitPrice,onChange:e=>setLimitPrice(e.target.value),style:{width:'100%',height:'48px',borderRadius:'14px',background:'#0F172A',border:'1px solid rgba(255,255,255,0.12)',padding:'0 16px',color:'#FFFFFF',fontSize:'15px',marginBottom:'12px',outline:'none'}}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'12px',display:'flex',gap:'8px'},children:['USD','GBP','EUR'].map(curr=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputCurrency(curr),style:{flex:1,height:'36px',borderRadius:'10px',background:inputCurrency===curr?'linear-gradient(135deg, #0FF2F2 0%, #00B8D4 100%)':'#0F172A',color:inputCurrency===curr?'#020617':'#8F9BB3',border:inputCurrency===curr?'none':'1px solid rgba(255,255,255,0.12)',fontSize:'13px',fontWeight:inputCurrency===curr?'700':'600',cursor:'pointer',boxShadow:inputCurrency===curr?'0 0 16px rgba(15,242,242,0.4)':'none'},children:curr},curr))}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Amount in \".concat(inputCurrency),value:currencyAmount,onChange:e=>{setCurrencyAmount(e.target.value);// Auto-convert to coin amount\nif(e.target.value&&marketStats.lastPrice>0){let usdValue=parseFloat(e.target.value);if(inputCurrency==='GBP')usdValue=usdValue/exchangeRates.GBP;if(inputCurrency==='EUR')usdValue=usdValue/exchangeRates.EUR;setAmount((usdValue/marketStats.lastPrice).toFixed(6));}else{setAmount('');}},style:{width:'100%',height:'48px',borderRadius:'14px',background:'#0F172A',border:'1px solid rgba(255,255,255,0.12)',padding:'0 16px 0 48px',color:'#FFFFFF',fontSize:'15px',outline:'none'}}),/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',left:'16px',top:'50%',transform:'translateY(-50%)',color:'#0FF2F2',fontSize:'15px',fontWeight:'700'},children:inputCurrency==='USD'?'$':inputCurrency==='GBP'?'£':'€'})]}),amount&&parseFloat(amount)>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px',padding:'12px',background:'rgba(15,242,242,0.08)',borderRadius:'10px',fontSize:'13px',color:'#0FF2F2'},children:[\"\\u2248 \",amount,\" \",coinBase]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px',marginBottom:'14px'},children:[25,50,75,100].map(percent=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{// Calculate based on USD balance\nconst availableUSD=balance.usd;const targetUSD=availableUSD*percent/100;// Convert to selected currency\nlet displayAmount=targetUSD;if(inputCurrency==='GBP')displayAmount=targetUSD*exchangeRates.GBP;if(inputCurrency==='EUR')displayAmount=targetUSD*exchangeRates.EUR;setCurrencyAmount(displayAmount.toFixed(2));// Calculate coin amount\nif(marketStats.lastPrice>0){setAmount((targetUSD/marketStats.lastPrice).toFixed(6));}},style:{flex:1,height:'32px',borderRadius:'8px',background:'rgba(15,242,242,0.1)',border:'1px solid rgba(15,242,242,0.3)',color:'#0FF2F2',fontSize:'12px',fontWeight:'600',cursor:'pointer',transition:'all 200ms ease'},onMouseEnter:e=>{e.target.style.background='rgba(15,242,242,0.2)';e.target.style.transform='scale(1.05)';},onMouseLeave:e=>{e.target.style.background='rgba(15,242,242,0.1)';e.target.style.transform='scale(1)';},children:[percent,\"%\"]},percent))}),amount&&parseFloat(amount)>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(15,242,242,0.05)',border:'1px solid rgba(15,242,242,0.15)',borderRadius:'12px',padding:'12px',marginBottom:'14px',fontSize:'13px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'rgba(255,255,255,0.6)'},children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#FFFFFF',fontWeight:'600'},children:[\"$\",subtotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'6px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{color:'rgba(255,255,255,0.6)'},children:[\"Fee (\",tradingFee,\"%):\"]}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#FFFFFF',fontWeight:'600'},children:[\"$\",fee.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',paddingTop:'8px',borderTop:'1px solid rgba(255,255,255,0.1)'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#0FF2F2',fontWeight:'700'},children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#0FF2F2',fontWeight:'700'},children:[\"$\",total.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTrade('buy'),disabled:isLoading,style:{height:'56px',borderRadius:'16px',background:isLoading?'rgba(0,255,148,0.5)':'linear-gradient(135deg, #00FF94 0%, #0ACB72 100%)',color:'#020617',fontWeight:'800',fontSize:'16px',textTransform:'uppercase',border:'none',boxShadow:isLoading?'none':'0 0 28px rgba(0,255,148,0.65), inset 0 1px 0 rgba(255,255,255,0.3)',cursor:isLoading?'not-allowed':'pointer',letterSpacing:'0.5px',transition:'all 200ms ease'},children:isLoading?'PROCESSING...':'BUY'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleTrade('sell'),disabled:isLoading,style:{height:'56px',borderRadius:'16px',background:isLoading?'rgba(255,75,75,0.5)':'linear-gradient(135deg, #FF4B4B 0%, #C22222 100%)',color:'#FFFFFF',fontWeight:'800',fontSize:'16px',textTransform:'uppercase',border:'none',boxShadow:isLoading?'none':'0 0 28px rgba(255,75,75,0.65), inset 0 1px 0 rgba(255,255,255,0.2)',cursor:isLoading?'not-allowed':'pointer',letterSpacing:'0.5px',transition:'all 200ms ease'},children:isLoading?'PROCESSING...':'SELL'})]})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","toast","Layout","getCoinName","getCryptoEmoji","getCryptoColor","IoArrowBack","IoTrendingUp","IoTrendingDown","jsx","_jsx","jsxs","_jsxs","API","process","env","REACT_APP_BACKEND_URL","MobileTradingPage","symbol","navigate","marketStats","setMarketStats","lastPrice","change24h","high24h","low24h","volume24h","marketCap","amount","setAmount","orderType","setOrderType","limitPrice","setLimitPrice","isLoading","setIsLoading","coinBase","setCoinBase","coinName","setCoinName","balance","setBalance","usd","coin","gbp","tradingFee","setTradingFee","inputCurrency","setInputCurrency","currencyAmount","setCurrencyAmount","exchangeRates","setExchangeRates","GBP","EUR","base","replace","fetchMarketData","fetchBalance","fetchTradingFee","interval","setInterval","setTimeout","loadTradingViewChart","clearInterval","response","get","concat","data","success","prices","priceData","price_usd","change_24h","high_24h","low_24h","volume_24h","market_cap","error","console","token","localStorage","getItem","headers","balances","USD","settings","spot_trading_fee_percent","pairSymbol","container","document","getElementById","innerHTML","tvSymbol","widgetHTML","scripts","getElementsByTagName","i","length","src","newScript","createElement","async","parentNode","replaceChild","handleTrade","side","parseFloat","payload","pair","order_type","price","post","toUpperCase","message","_error$response","_error$response$data","calculateTotal","amt","subtotal","fee","total","rangePercentage","children","style","maxWidth","width","margin","background","minHeight","paddingBottom","display","alignItems","padding","borderBottom","position","top","zIndex","boxShadow","onClick","border","color","fontSize","cursor","justifyContent","borderRadius","gap","toLowerCase","alt","height","objectFit","marginLeft","flexShrink","flex","fontWeight","marginBottom","letterSpacing","toLocaleString","minimumFractionDigits","maximumFractionDigits","toFixed","overflow","id","gridTemplateColumns","left","transform","transition","type","placeholder","value","onChange","e","target","outline","map","curr","usdValue","percent","availableUSD","targetUSD","displayAmount","onMouseEnter","onMouseLeave","paddingTop","borderTop","disabled","textTransform"],"sources":["/app/frontend/src/pages/MobileTradingPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport Layout from '@/components/Layout';\nimport { getCoinName } from '@/config/tradingPairs';\nimport { getCryptoEmoji, getCryptoColor } from '@/utils/cryptoIcons';\nimport { IoArrowBack, IoTrendingUp, IoTrendingDown } from 'react-icons/io5';\n\nconst API = process.env.REACT_APP_BACKEND_URL || '';\n\nexport default function MobileTradingPage() {\n  const { symbol } = useParams();\n  const navigate = useNavigate();\n  const [marketStats, setMarketStats] = useState({\n    lastPrice: 0,\n    change24h: 0,\n    high24h: 0,\n    low24h: 0,\n    volume24h: 0,\n    marketCap: 0\n  });\n  const [amount, setAmount] = useState('');\n  const [orderType, setOrderType] = useState('market');\n  const [limitPrice, setLimitPrice] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [coinBase, setCoinBase] = useState('');\n  const [coinName, setCoinName] = useState('');\n  const [balance, setBalance] = useState({ usd: 0, coin: 0, gbp: 0 });\n  const [tradingFee, setTradingFee] = useState(0.1);\n  const [inputCurrency, setInputCurrency] = useState('USD');\n  const [currencyAmount, setCurrencyAmount] = useState('');\n  const [exchangeRates, setExchangeRates] = useState({ GBP: 0.79, EUR: 0.92 });\n\n  useEffect(() => {\n    if (symbol) {\n      const base = symbol.replace('USD', '');\n      setCoinBase(base);\n      setCoinName(getCoinName(base));\n      fetchMarketData(base);\n      fetchBalance();\n      fetchTradingFee();\n      \n      const interval = setInterval(() => fetchMarketData(base), 30000);\n      \n      setTimeout(() => {\n        loadTradingViewChart(symbol);\n      }, 500);\n      \n      return () => clearInterval(interval);\n    }\n  }, [symbol]);\n\n  const fetchMarketData = async (base) => {\n    try {\n      const response = await axios.get(`${API}/api/prices/live`);\n      if (response.data.success && response.data.prices) {\n        const priceData = response.data.prices[base];\n        if (priceData) {\n          setMarketStats({\n            lastPrice: priceData.price_usd || 0,\n            change24h: priceData.change_24h || 0,\n            high24h: priceData.high_24h || priceData.price_usd * 1.02,\n            low24h: priceData.low_24h || priceData.price_usd * 0.98,\n            volume24h: priceData.volume_24h || 0,\n            marketCap: priceData.market_cap || 0\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching market data:', error);\n    }\n  };\n\n  const fetchBalance = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      \n      const response = await axios.get(`${API}/api/wallet/balance`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        const balances = response.data.balances || {};\n        setBalance({\n          usd: balances.USD || 0,\n          coin: balances[coinBase] || 0\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching balance:', error);\n    }\n  };\n\n  const fetchTradingFee = async () => {\n    try {\n      const response = await axios.get(`${API}/api/admin/platform-settings`);\n      if (response.data.success) {\n        setTradingFee(response.data.settings.spot_trading_fee_percent || 0.1);\n      }\n    } catch (error) {\n      console.error('Error fetching fee:', error);\n    }\n  };\n\n  const loadTradingViewChart = (pairSymbol) => {\n    const container = document.getElementById('tradingview-chart-mobile');\n    if (!container) return;\n    container.innerHTML = '';\n\n    const tvSymbol = pairSymbol.replace('USD', 'USDT');\n\n    const widgetHTML = `\n      <div class=\"tradingview-widget-container\" style=\"height:100%;width:100%;background:transparent\">\n        <div class=\"tradingview-widget-container__widget\" style=\"height:100%;width:100%;background:transparent\"></div>\n        <script type=\"text/javascript\" src=\"https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js\" async>\n        {\n          \"autosize\": true,\n          \"symbol\": \"BINANCE:${tvSymbol}\",\n          \"interval\": \"15\",\n          \"timezone\": \"Etc/UTC\",\n          \"theme\": \"dark\",\n          \"style\": \"1\",\n          \"locale\": \"en\",\n          \"enable_publishing\": false,\n          \"backgroundColor\": \"rgba(2, 6, 23, 1)\",\n          \"gridColor\": \"rgba(255, 255, 255, 0.05)\",\n          \"hide_top_toolbar\": false,\n          \"hide_legend\": true,\n          \"save_image\": false,\n          \"hide_volume\": false,\n          \"support_host\": \"https://www.tradingview.com\",\n          \"studies\": [\n            \"RSI@tv-basicstudies\",\n            \"MASimple@tv-basicstudies\"\n          ]\n        }\n        </script>\n      </div>\n    `;\n\n    container.innerHTML = widgetHTML;\n    const scripts = container.getElementsByTagName('script');\n    for (let i = 0; i < scripts.length; i++) {\n      if (scripts[i].src) {\n        const newScript = document.createElement('script');\n        newScript.src = scripts[i].src;\n        newScript.async = true;\n        newScript.innerHTML = scripts[i].innerHTML;\n        scripts[i].parentNode.replaceChild(newScript, scripts[i]);\n      }\n    }\n  };\n\n  const handleTrade = async (side) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      toast.error('Please login to trade');\n      navigate('/login');\n      return;\n    }\n\n    if (!amount || parseFloat(amount) <= 0) {\n      toast.error('Please enter a valid amount');\n      return;\n    }\n\n    if (orderType === 'limit' && (!limitPrice || parseFloat(limitPrice) <= 0)) {\n      toast.error('Please enter a valid limit price');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const payload = {\n        pair: symbol,\n        side: side,\n        amount: parseFloat(amount),\n        order_type: orderType,\n        price: orderType === 'limit' ? parseFloat(limitPrice) : marketStats.lastPrice\n      };\n\n      const response = await axios.post(\n        `${API}/api/trading/spot/order`,\n        payload,\n        { headers: { 'Authorization': `Bearer ${token}` } }\n      );\n\n      if (response.data.success) {\n        toast.success(`${side.toUpperCase()} order placed successfully!`);\n        setAmount('');\n        setLimitPrice('');\n        fetchBalance();\n      } else {\n        toast.error(response.data.message || 'Order failed');\n      }\n    } catch (error) {\n      console.error('Trading error:', error);\n      toast.error(error.response?.data?.message || 'Failed to place order');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const calculateTotal = () => {\n    const amt = parseFloat(amount) || 0;\n    const price = orderType === 'limit' ? (parseFloat(limitPrice) || 0) : marketStats.lastPrice;\n    const subtotal = amt * price;\n    const fee = subtotal * (tradingFee / 100);\n    return { subtotal, fee, total: subtotal + fee };\n  };\n\n  const { subtotal, fee, total } = calculateTotal();\n\n  const rangePercentage = marketStats.high24h > 0 && marketStats.low24h > 0\n    ? ((marketStats.lastPrice - marketStats.low24h) / (marketStats.high24h - marketStats.low24h)) * 100\n    : 50;\n\n  return (\n    <Layout>\n      <style>\n        {`\n          .main-content {\n            padding: 0 !important;\n            margin: 0 !important;\n          }\n          .tradingview-widget-container,\n          .tradingview-widget-container__widget,\n          .tradingview-widget-container iframe {\n            border: none !important;\n            outline: none !important;\n            box-shadow: none !important;\n            background: transparent !important;\n          }\n          .tradingview-widget-copyright {\n            display: none !important;\n          }\n          /* Reposition chat widget to lower-right with safe spacing */\n          [class*=\"chat-widget\"],\n          [id*=\"chat-widget\"],\n          [class*=\"ChatWidget\"],\n          .tawk-min-container {\n            bottom: 100px !important;\n            right: 16px !important;\n            z-index: 999 !important;\n          }\n        `}\n      </style>\n      <div style={{\n        maxWidth: '430px',\n        width: '100%',\n        margin: '0 auto',\n        background: '#020617',\n        minHeight: '100vh',\n        paddingBottom: '80px'\n      }}>\n        {/* Header with Back Button */}\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          padding: '12px 16px',\n          borderBottom: '1px solid rgba(255,255,255,0.08)',\n          position: 'sticky',\n          top: 0,\n          background: 'linear-gradient(180deg, #020617 0%, #030A15 100%)',\n          zIndex: 10,\n          boxShadow: '0 2px 12px rgba(0,0,0,0.4)'\n        }}>\n          <button\n            onClick={() => navigate('/markets')}\n            style={{\n              background: 'transparent',\n              border: 'none',\n              color: '#0FF2F2',\n              fontSize: '24px',\n              cursor: 'pointer',\n              padding: '8px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n          >\n            <IoArrowBack />\n          </button>\n        </div>\n\n        {/* PAIR HEADER - Binance Style */}\n        <div style={{\n          margin: '12px 16px 16px 16px',\n          padding: '16px',\n          borderRadius: '16px',\n          background: 'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',\n          border: '1px solid rgba(15,242,242,0.15)',\n          boxShadow: '0 0 24px rgba(15,242,242,0.08), inset 0 1px 0 rgba(15,242,242,0.1)',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '14px'\n        }}>\n          {/* Official Crypto Logo */}\n          <img\n            src={`/crypto-logos/${coinBase.toLowerCase()}.png`}\n            alt={coinBase}\n            style={{\n              width: '32px',\n              height: '32px',\n              objectFit: 'contain',\n              marginLeft: '12px',\n              flexShrink: 0\n            }}\n          />\n\n          {/* Pair Info */}\n          <div style={{ flex: 1 }}>\n            <div style={{\n              fontSize: '16px',\n              fontWeight: '700',\n              color: '#FFFFFF',\n              marginBottom: '4px',\n              letterSpacing: '0.3px'\n            }}>\n              {coinName} / USD\n            </div>\n            <div style={{\n              fontSize: '22px',\n              fontWeight: '800',\n              color: '#FFFFFF',\n              letterSpacing: '-0.5px'\n            }}>\n              ${marketStats.lastPrice > 0 \n                ? marketStats.lastPrice >= 1\n                  ? marketStats.lastPrice.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 })\n                  : marketStats.lastPrice.toFixed(6)\n                : '—'}\n            </div>\n          </div>\n\n          {/* 24h Change Badge */}\n          <div style={{\n            padding: '8px 12px',\n            borderRadius: '10px',\n            background: marketStats.change24h >= 0 \n              ? 'rgba(0,255,148,0.15)'\n              : 'rgba(255,75,75,0.15)',\n            border: marketStats.change24h >= 0\n              ? '1px solid rgba(0,255,148,0.3)'\n              : '1px solid rgba(255,75,75,0.3)',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px',\n            flexShrink: 0\n          }}>\n            {marketStats.change24h >= 0 ? (\n              <IoTrendingUp style={{ fontSize: '16px', color: '#00FF94' }} />\n            ) : (\n              <IoTrendingDown style={{ fontSize: '16px', color: '#FF4B4B' }} />\n            )}\n            <span style={{\n              fontSize: '14px',\n              fontWeight: '700',\n              color: marketStats.change24h >= 0 ? '#00FF94' : '#FF4B4B'\n            }}>\n              {marketStats.change24h >= 0 ? '+' : ''}{marketStats.change24h.toFixed(2)}%\n            </span>\n          </div>\n        </div>\n\n        {/* TRADINGVIEW CHART */}\n        <div style={{\n          height: '440px',\n          margin: '0 16px 16px 16px',\n          borderRadius: '18px',\n          background: 'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',\n          border: '1px solid rgba(15,242,242,0.2)',\n          boxShadow: '0 0 32px rgba(15,242,242,0.12), inset 0 1px 0 rgba(15,242,242,0.1)',\n          overflow: 'hidden'\n        }}>\n          <div \n            id=\"tradingview-chart-mobile\" \n            style={{ \n              width: '100%', \n              height: '100%', \n              background: 'transparent' \n            }}\n          ></div>\n        </div>\n\n        {/* MARKET INFO BOX */}\n        <div style={{\n          margin: '0 16px 16px 16px',\n          background: 'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',\n          border: '1px solid rgba(255,255,255,0.1)',\n          boxShadow: '0 0 24px rgba(15,242,242,0.1), inset 0 1px 0 rgba(255,255,255,0.05)',\n          borderRadius: '16px',\n          padding: '16px'\n        }}>\n          <div style={{ \n            display: 'grid', \n            gridTemplateColumns: '1fr 1fr', \n            gap: '14px', \n            marginBottom: '16px' \n          }}>\n            <div>\n              <div style={{ \n                fontSize: '11px', \n                color: 'rgba(255,255,255,0.5)', \n                marginBottom: '5px',\n                fontWeight: '600'\n              }}>24h High</div>\n              <div style={{ fontSize: '14px', color: '#FFFFFF', fontWeight: '700' }}>\n                ${marketStats.high24h > 0\n                  ? marketStats.high24h >= 1\n                    ? marketStats.high24h.toLocaleString('en-US', { maximumFractionDigits: 2 })\n                    : marketStats.high24h.toFixed(6)\n                  : '—'}\n              </div>\n            </div>\n            <div>\n              <div style={{ \n                fontSize: '11px', \n                color: 'rgba(255,255,255,0.5)', \n                marginBottom: '5px',\n                fontWeight: '600'\n              }}>24h Low</div>\n              <div style={{ fontSize: '14px', color: '#FFFFFF', fontWeight: '700' }}>\n                ${marketStats.low24h > 0\n                  ? marketStats.low24h >= 1\n                    ? marketStats.low24h.toLocaleString('en-US', { maximumFractionDigits: 2 })\n                    : marketStats.low24h.toFixed(6)\n                  : '—'}\n              </div>\n            </div>\n            <div>\n              <div style={{ \n                fontSize: '11px', \n                color: 'rgba(255,255,255,0.5)', \n                marginBottom: '5px',\n                fontWeight: '600'\n              }}>24h Volume</div>\n              <div style={{ fontSize: '14px', color: '#FFFFFF', fontWeight: '700' }}>\n                {marketStats.volume24h >= 1e9 \n                  ? `$${(marketStats.volume24h / 1e9).toFixed(2)}B`\n                  : marketStats.volume24h >= 1e6 \n                    ? `$${(marketStats.volume24h / 1e6).toFixed(2)}M`\n                    : marketStats.volume24h >= 1e3\n                      ? `$${(marketStats.volume24h / 1e3).toFixed(1)}K`\n                      : `$${marketStats.volume24h.toFixed(0)}`}\n              </div>\n            </div>\n            {marketStats.marketCap > 0 && (\n              <div>\n                <div style={{ \n                  fontSize: '11px', \n                  color: 'rgba(255,255,255,0.5)', \n                  marginBottom: '5px',\n                  fontWeight: '600'\n                }}>Market Cap</div>\n                <div style={{ fontSize: '14px', color: '#FFFFFF', fontWeight: '700' }}>\n                  {marketStats.marketCap >= 1e9 \n                    ? `$${(marketStats.marketCap / 1e9).toFixed(2)}B`\n                    : marketStats.marketCap >= 1e6 \n                      ? `$${(marketStats.marketCap / 1e6).toFixed(2)}M`\n                      : `$${marketStats.marketCap.toLocaleString()}`}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* 24h Range Bar - Brand Theme Colors */}\n          <div>\n            <div style={{ \n              fontSize: '11px', \n              color: 'rgba(255,255,255,0.5)', \n              marginBottom: '10px',\n              fontWeight: '600'\n            }}>24h Price Range</div>\n            <div style={{\n              position: 'relative',\n              height: '10px',\n              borderRadius: '5px',\n              background: 'linear-gradient(90deg, #FF4B4B 0%, #FFD700 50%, #00FF94 100%)',\n              overflow: 'visible'\n            }}>\n              <div style={{\n                position: 'absolute',\n                left: `${rangePercentage}%`,\n                top: '50%',\n                transform: 'translate(-50%, -50%)',\n                width: '14px',\n                height: '14px',\n                background: '#0FF2F2',\n                borderRadius: '50%',\n                border: '3px solid #020617',\n                boxShadow: '0 0 16px rgba(15,242,242,0.8)'\n              }}></div>\n            </div>\n          </div>\n        </div>\n\n        {/* ORDER TYPE TABS */}\n        <div style={{\n          margin: '0 16px 16px 16px',\n          display: 'flex',\n          gap: '8px'\n        }}>\n          <button\n            onClick={() => setOrderType('market')}\n            style={{\n              flex: 1,\n              height: '38px',\n              borderRadius: '12px',\n              background: orderType === 'market'\n                ? 'linear-gradient(135deg, #0FF2F2 0%, #00B8D4 100%)'\n                : 'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',\n              color: orderType === 'market' ? '#020617' : '#8F9BB3',\n              border: orderType === 'market' ? 'none' : '1px solid rgba(255,255,255,0.12)',\n              fontSize: '14px',\n              fontWeight: orderType === 'market' ? '700' : '600',\n              cursor: 'pointer',\n              transition: 'all 200ms ease',\n              boxShadow: orderType === 'market' \n                ? '0 0 20px rgba(15,242,242,0.5), inset 0 1px 0 rgba(255,255,255,0.2)'\n                : 'none'\n            }}\n          >\n            Market\n          </button>\n          <button\n            onClick={() => setOrderType('limit')}\n            style={{\n              flex: 1,\n              height: '38px',\n              borderRadius: '12px',\n              background: orderType === 'limit'\n                ? 'linear-gradient(135deg, #0FF2F2 0%, #00B8D4 100%)'\n                : 'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',\n              color: orderType === 'limit' ? '#020617' : '#8F9BB3',\n              border: orderType === 'limit' ? 'none' : '1px solid rgba(255,255,255,0.12)',\n              fontSize: '14px',\n              fontWeight: orderType === 'limit' ? '700' : '600',\n              cursor: 'pointer',\n              transition: 'all 200ms ease',\n              boxShadow: orderType === 'limit' \n                ? '0 0 20px rgba(15,242,242,0.5), inset 0 1px 0 rgba(255,255,255,0.2)'\n                : 'none'\n            }}\n          >\n            Limit\n          </button>\n        </div>\n\n        {/* BUY/SELL BOX */}\n        <div style={{\n          margin: '0 16px',\n          background: 'linear-gradient(180deg, #0A0F1F 0%, #050812 100%)',\n          border: '1px solid rgba(255,255,255,0.1)',\n          borderRadius: '18px',\n          padding: '18px',\n          boxShadow: '0 0 24px rgba(15,242,242,0.08), inset 0 1px 0 rgba(255,255,255,0.05)'\n        }}>\n          {/* Balance Display */}\n          <div style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            marginBottom: '14px',\n            fontSize: '12px',\n            color: 'rgba(255,255,255,0.6)'\n          }}>\n            <div>Available: {balance.usd.toFixed(2)} USD</div>\n            <div>Available: {balance.coin.toFixed(6)} {coinBase}</div>\n          </div>\n\n          {/* Limit Price Input */}\n          {orderType === 'limit' && (\n            <input\n              type=\"number\"\n              placeholder=\"Limit Price (USD)\"\n              value={limitPrice}\n              onChange={(e) => setLimitPrice(e.target.value)}\n              style={{\n                width: '100%',\n                height: '48px',\n                borderRadius: '14px',\n                background: '#0F172A',\n                border: '1px solid rgba(255,255,255,0.12)',\n                padding: '0 16px',\n                color: '#FFFFFF',\n                fontSize: '15px',\n                marginBottom: '12px',\n                outline: 'none'\n              }}\n            />\n          )}\n\n          {/* Currency Selector */}\n          <div style={{ marginBottom: '12px', display: 'flex', gap: '8px' }}>\n            {['USD', 'GBP', 'EUR'].map(curr => (\n              <button\n                key={curr}\n                onClick={() => setInputCurrency(curr)}\n                style={{\n                  flex: 1,\n                  height: '36px',\n                  borderRadius: '10px',\n                  background: inputCurrency === curr ? 'linear-gradient(135deg, #0FF2F2 0%, #00B8D4 100%)' : '#0F172A',\n                  color: inputCurrency === curr ? '#020617' : '#8F9BB3',\n                  border: inputCurrency === curr ? 'none' : '1px solid rgba(255,255,255,0.12)',\n                  fontSize: '13px',\n                  fontWeight: inputCurrency === curr ? '700' : '600',\n                  cursor: 'pointer',\n                  boxShadow: inputCurrency === curr ? '0 0 16px rgba(15,242,242,0.4)' : 'none'\n                }}\n              >\n                {curr}\n              </button>\n            ))}\n          </div>\n\n          {/* Amount Input with Currency */}\n          <div style={{ position: 'relative', marginBottom: '12px' }}>\n            <input\n              type=\"number\"\n              placeholder={`Amount in ${inputCurrency}`}\n              value={currencyAmount}\n              onChange={(e) => {\n                setCurrencyAmount(e.target.value);\n                // Auto-convert to coin amount\n                if (e.target.value && marketStats.lastPrice > 0) {\n                  let usdValue = parseFloat(e.target.value);\n                  if (inputCurrency === 'GBP') usdValue = usdValue / exchangeRates.GBP;\n                  if (inputCurrency === 'EUR') usdValue = usdValue / exchangeRates.EUR;\n                  setAmount((usdValue / marketStats.lastPrice).toFixed(6));\n                } else {\n                  setAmount('');\n                }\n              }}\n              style={{\n                width: '100%',\n                height: '48px',\n                borderRadius: '14px',\n                background: '#0F172A',\n                border: '1px solid rgba(255,255,255,0.12)',\n                padding: '0 16px 0 48px',\n                color: '#FFFFFF',\n                fontSize: '15px',\n                outline: 'none'\n              }}\n            />\n            <span style={{\n              position: 'absolute',\n              left: '16px',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              color: '#0FF2F2',\n              fontSize: '15px',\n              fontWeight: '700'\n            }}>\n              {inputCurrency === 'USD' ? '$' : inputCurrency === 'GBP' ? '£' : '€'}\n            </span>\n          </div>\n\n          {/* Calculated Coin Amount Display */}\n          {amount && parseFloat(amount) > 0 && (\n            <div style={{\n              marginBottom: '12px',\n              padding: '12px',\n              background: 'rgba(15,242,242,0.08)',\n              borderRadius: '10px',\n              fontSize: '13px',\n              color: '#0FF2F2'\n            }}>\n              ≈ {amount} {coinBase}\n            </div>\n          )}\n\n          {/* Quick Amount Buttons */}\n          <div style={{\n            display: 'flex',\n            gap: '8px',\n            marginBottom: '14px'\n          }}>\n            {[25, 50, 75, 100].map(percent => (\n              <button\n                key={percent}\n                onClick={() => {\n                  // Calculate based on USD balance\n                  const availableUSD = balance.usd;\n                  const targetUSD = (availableUSD * percent) / 100;\n                  \n                  // Convert to selected currency\n                  let displayAmount = targetUSD;\n                  if (inputCurrency === 'GBP') displayAmount = targetUSD * exchangeRates.GBP;\n                  if (inputCurrency === 'EUR') displayAmount = targetUSD * exchangeRates.EUR;\n                  \n                  setCurrencyAmount(displayAmount.toFixed(2));\n                  \n                  // Calculate coin amount\n                  if (marketStats.lastPrice > 0) {\n                    setAmount((targetUSD / marketStats.lastPrice).toFixed(6));\n                  }\n                }}\n                style={{\n                  flex: 1,\n                  height: '32px',\n                  borderRadius: '8px',\n                  background: 'rgba(15,242,242,0.1)',\n                  border: '1px solid rgba(15,242,242,0.3)',\n                  color: '#0FF2F2',\n                  fontSize: '12px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 200ms ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = 'rgba(15,242,242,0.2)';\n                  e.target.style.transform = 'scale(1.05)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = 'rgba(15,242,242,0.1)';\n                  e.target.style.transform = 'scale(1)';\n                }}\n              >\n                {percent}%\n              </button>\n            ))}\n          </div>\n\n          {/* Order Summary */}\n          {amount && parseFloat(amount) > 0 && (\n            <div style={{\n              background: 'rgba(15,242,242,0.05)',\n              border: '1px solid rgba(15,242,242,0.15)',\n              borderRadius: '12px',\n              padding: '12px',\n              marginBottom: '14px',\n              fontSize: '13px'\n            }}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '6px' }}>\n                <span style={{ color: 'rgba(255,255,255,0.6)' }}>Subtotal:</span>\n                <span style={{ color: '#FFFFFF', fontWeight: '600' }}>${subtotal.toFixed(2)}</span>\n              </div>\n              <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '6px' }}>\n                <span style={{ color: 'rgba(255,255,255,0.6)' }}>Fee ({tradingFee}%):</span>\n                <span style={{ color: '#FFFFFF', fontWeight: '600' }}>${fee.toFixed(2)}</span>\n              </div>\n              <div style={{ \n                display: 'flex', \n                justifyContent: 'space-between', \n                paddingTop: '8px',\n                borderTop: '1px solid rgba(255,255,255,0.1)'\n              }}>\n                <span style={{ color: '#0FF2F2', fontWeight: '700' }}>Total:</span>\n                <span style={{ color: '#0FF2F2', fontWeight: '700' }}>${total.toFixed(2)}</span>\n              </div>\n            </div>\n          )}\n\n          {/* BUY and SELL Buttons */}\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\n            <button\n              onClick={() => handleTrade('buy')}\n              disabled={isLoading}\n              style={{\n                height: '56px',\n                borderRadius: '16px',\n                background: isLoading \n                  ? 'rgba(0,255,148,0.5)'\n                  : 'linear-gradient(135deg, #00FF94 0%, #0ACB72 100%)',\n                color: '#020617',\n                fontWeight: '800',\n                fontSize: '16px',\n                textTransform: 'uppercase',\n                border: 'none',\n                boxShadow: isLoading \n                  ? 'none'\n                  : '0 0 28px rgba(0,255,148,0.65), inset 0 1px 0 rgba(255,255,255,0.3)',\n                cursor: isLoading ? 'not-allowed' : 'pointer',\n                letterSpacing: '0.5px',\n                transition: 'all 200ms ease'\n              }}\n            >\n              {isLoading ? 'PROCESSING...' : 'BUY'}\n            </button>\n\n            <button\n              onClick={() => handleTrade('sell')}\n              disabled={isLoading}\n              style={{\n                height: '56px',\n                borderRadius: '16px',\n                background: isLoading \n                  ? 'rgba(255,75,75,0.5)'\n                  : 'linear-gradient(135deg, #FF4B4B 0%, #C22222 100%)',\n                color: '#FFFFFF',\n                fontWeight: '800',\n                fontSize: '16px',\n                textTransform: 'uppercase',\n                border: 'none',\n                boxShadow: isLoading \n                  ? 'none'\n                  : '0 0 28px rgba(255,75,75,0.65), inset 0 1px 0 rgba(255,255,255,0.2)',\n                cursor: isLoading ? 'not-allowed' : 'pointer',\n                letterSpacing: '0.5px',\n                transition: 'all 200ms ease'\n              }}\n            >\n              {isLoading ? 'PROCESSING...' : 'SELL'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}