{"version":3,"file":"static/js/9510.40673518.chunk.js","mappings":"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","sources":["pages/P2POrderPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Layout from '@/components/Layout';\nimport { IoCheckmarkCircle, IoClose, IoSend, IoCloudUpload, IoWarning, IoTime, IoShield, IoEyeOff } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function P2POrderPage() {\n  const { tradeId } = useParams();\n  const navigate = useNavigate();\n  const [trade, setTrade] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [processing, setProcessing] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n  const [paymentProof, setPaymentProof] = useState(null);\n  const [disputeReason, setDisputeReason] = useState('');\n  const [showDisputeModal, setShowDisputeModal] = useState(false);\n  const [showFeedbackModal, setShowFeedbackModal] = useState(false);\n  const [feedbackRating, setFeedbackRating] = useState('positive');\n  const [feedbackComment, setFeedbackComment] = useState('');\n  const [isBlocked, setIsBlocked] = useState(false);\n  const [checkingBlock, setCheckingBlock] = useState(true);\n\n  // Show feedback modal for completed trades\n  useEffect(() => {\n    if (trade && trade.status === 'completed' && !showFeedbackModal) {\n      // Check if user already left feedback\n      const checkFeedback = async () => {\n        try {\n          const response = await axios.get(`${API}/api/p2p/trade/${tradeId}/feedback-check?user_id=${currentUser?.user_id}`);\n          if (!response.data.feedback_given) {\n            setTimeout(() => setShowFeedbackModal(true), 1000);\n          }\n        } catch (error) {\n          // If endpoint doesn't exist, show modal anyway\n          setTimeout(() => setShowFeedbackModal(true), 1000);\n        }\n      };\n      if (currentUser) checkFeedback();\n    }\n  }, [trade?.status, currentUser]);\n\n  useEffect(() => {\n    const userData = localStorage.getItem('cryptobank_user');\n    if (!userData) {\n      navigate('/login');\n      return;\n    }\n    const user = JSON.parse(userData);\n    setCurrentUser(user);\n    fetchTrade(user.user_id);\n    \n    // Poll for updates\n    const interval = setInterval(() => fetchTrade(user.user_id), 5000);\n    return () => clearInterval(interval);\n  }, [tradeId, navigate]);\n\n  // Check block status when trade is loaded\n  useEffect(() => {\n    if (trade && currentUser) {\n      const counterpartyId = isBuyer ? trade.seller_id : trade.buyer_id;\n      checkBlockStatus(counterpartyId);\n    }\n  }, [trade, currentUser]);\n\n  useEffect(() => {\n    if (trade && trade.expires_at) {\n      const updateCountdown = setInterval(() => {\n        const now = new Date();\n        const expires = new Date(trade.expires_at);\n        const remaining = Math.floor((expires - now) / 1000);\n        if (remaining <= 0) {\n          setCountdown(0);\n          clearInterval(updateCountdown);\n        } else {\n          setCountdown(remaining);\n        }\n      }, 1000);\n      return () => clearInterval(updateCountdown);\n    }\n  }, [trade]);\n\n  const fetchTrade = async (userId) => {\n    try {\n      const response = await axios.get(`${API}/api/p2p/trade/${tradeId}?user_id=${userId}`);\n      if (response.data.success) {\n        setTrade(response.data.trade);\n        if (response.data.messages) {\n          setMessages(response.data.messages);\n        }\n        \n        // Check if this trade involves a blocked user\n        if (response.data.blocked) {\n          toast.error('This trade involves a blocked user. Redirecting...');\n          setTimeout(() => navigate('/p2p'), 2000);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching trade:', error);\n      if (error.response?.status === 403) {\n        toast.error('Access denied: User is blocked');\n        navigate('/p2p');\n      } else {\n        toast.error('Failed to load trade details');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() && !paymentProof) return;\n    \n    setProcessing(true);\n    try {\n      const formData = new FormData();\n      formData.append('trade_id', tradeId);\n      formData.append('sender_id', currentUser.user_id);\n      formData.append('message', newMessage);\n      if (paymentProof) {\n        formData.append('attachment', paymentProof);\n      }\n      \n      const response = await axios.post(`${API}/api/p2p/trade/message`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n      \n      if (response.data.success) {\n        setNewMessage('');\n        setPaymentProof(null);\n        fetchTrade(currentUser.user_id);\n      }\n    } catch (error) {\n      toast.error('Failed to send message');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleMarkAsPaid = async () => {\n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/trade/mark-paid`, {\n        trade_id: tradeId,\n        user_id: currentUser.user_id\n      });\n      \n      if (response.data.success) {\n        toast.success('‚úÖ Payment marked! Waiting for seller to release.');\n        fetchTrade(currentUser.user_id);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to mark as paid');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleReleaseCrypto = async () => {\n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/trade/release`, {\n        trade_id: tradeId,\n        user_id: currentUser.user_id\n      });\n      \n      if (response.data.success) {\n        toast.success('‚úÖ Crypto released successfully!');\n        fetchTrade(currentUser.user_id);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to release crypto');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleOpenDispute = async () => {\n    if (!disputeReason.trim()) {\n      toast.error('Please provide a reason for dispute');\n      return;\n    }\n    \n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/trade/dispute`, {\n        trade_id: tradeId,\n        user_id: currentUser.user_id,\n        reason: disputeReason\n      });\n      \n      if (response.data.success) {\n        toast.success('Dispute opened. Admin will review.');\n        setShowDisputeModal(false);\n        fetchTrade(currentUser.user_id);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to open dispute');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleCancel = async () => {\n    if (!window.confirm('Are you sure you want to cancel this order?')) return;\n    \n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/trade/cancel`, {\n        trade_id: tradeId,\n        user_id: currentUser.user_id\n      });\n      \n      if (response.data.success) {\n        toast.success('Order cancelled');\n        fetchTrade(currentUser.user_id);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to cancel');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleSubmitFeedback = async () => {\n    if (!feedbackComment.trim() && feedbackRating === '') {\n      toast.error('Please provide a rating');\n      return;\n    }\n    \n    setProcessing(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/trade/${tradeId}/feedback`, {\n        from_user_id: currentUser.user_id,\n        rating: feedbackRating,\n        comment: feedbackComment.trim()\n      });\n      \n      if (response.data.success) {\n        toast.success('‚úÖ Feedback submitted!');\n        setShowFeedbackModal(false);\n        setFeedbackRating('positive');\n        setFeedbackComment('');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to submit feedback');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const checkBlockStatus = async (counterpartyId) => {\n    try {\n      const response = await axios.get(`${API}/api/p2p/blocked/${currentUser.user_id}`);\n      if (response.data.success) {\n        const blockedList = response.data.blocked_users || [];\n        setIsBlocked(blockedList.includes(counterpartyId));\n      }\n    } catch (error) {\n      console.error('Error checking block status:', error);\n    } finally {\n      setCheckingBlock(false);\n    }\n  };\n\n  const handleBlockToggle = async () => {\n    const counterpartyId = isBuyer ? trade.seller_id : trade.buyer_id;\n    setProcessing(true);\n    \n    try {\n      const endpoint = isBlocked ? '/api/p2p/block/remove' : '/api/p2p/block/add';\n      const response = await axios.post(`${API}${endpoint}`, {\n        user_id: currentUser.user_id,\n        blocked_user_id: counterpartyId\n      });\n      \n      if (response.data.success) {\n        setIsBlocked(!isBlocked);\n        toast.success(isBlocked ? '‚úÖ User unblocked - Marketplace will update' : 'üö´ User blocked - Redirecting to marketplace...');\n        \n        // If blocked a favourite, remove from favourites\n        if (!isBlocked) {\n          try {\n            await axios.post(`${API}/api/p2p/favourites/remove`, {\n              user_id: currentUser.user_id,\n              merchant_id: counterpartyId\n            });\n          } catch (e) {\n            console.error('Failed to remove from favourites:', e);\n          }\n        }\n        \n        // Redirect to marketplace after blocking so user sees updated list\n        setTimeout(() => {\n          navigate('/p2p');\n        }, 1500);\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Failed to update block status');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Layout>\n        <div style={{ padding: '40px', textAlign: 'center', color: '#fff' }}>Loading...</div>\n      </Layout>\n    );\n  }\n\n  if (!trade) {\n    return (\n      <Layout>\n        <div style={{ padding: '40px', textAlign: 'center', color: '#fff' }}>Trade not found</div>\n      </Layout>\n    );\n  }\n\n  const isBuyer = currentUser?.user_id === trade.buyer_id;\n  const counterparty = isBuyer ? 'Seller' : 'Buyer';\n\n  return (\n    <Layout>\n      <div style={{ minHeight: '100vh', padding: '40px 20px', background: 'linear-gradient(180deg, #05121F 0%, #071E2C 100%)' }}>\n        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>\n          \n          {/* Header */}\n          <div style={{\n            background: 'linear-gradient(135deg, #0A1929 0%, #051018 100%)',\n            border: '1px solid rgba(0, 198, 255, 0.2)',\n            borderRadius: '16px',\n            padding: '24px',\n            marginBottom: '24px'\n          }}>\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n              <h1 style={{ fontSize: '28px', fontWeight: '700', color: '#FFFFFF' }}>\n                {isBuyer ? 'Buy' : 'Sell'} {trade.crypto_currency}\n              </h1>\n              <div style={{\n                padding: '8px 16px',\n                background: trade.status === 'completed' ? 'rgba(34, 197, 94, 0.1)' : 'rgba(255, 165, 0, 0.1)',\n                border: `1px solid ${trade.status === 'completed' ? 'rgba(34, 197, 94, 0.3)' : 'rgba(255, 165, 0, 0.3)'}`,\n                borderRadius: '8px',\n                color: trade.status === 'completed' ? '#22C55E' : '#FFA500',\n                fontWeight: '600'\n              }}>\n                {trade.status === 'pending_payment' ? 'Waiting for Payment' :\n                 trade.status === 'payment_made' ? 'Payment Made' :\n                 trade.status === 'completed' ? 'Completed' :\n                 trade.status === 'cancelled' ? 'Cancelled' :\n                 trade.status === 'disputed' ? 'Disputed' : trade.status}\n              </div>\n            </div>\n            \n            {countdown > 0 && trade.status === 'pending_payment' && (\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px',\n                padding: '12px',\n                background: 'rgba(239, 68, 68, 0.1)',\n                border: '1px solid rgba(239, 68, 68, 0.3)',\n                borderRadius: '8px'\n              }}>\n                <IoTime size={20} color=\"#EF4444\" />\n                <span style={{ color: '#EF4444', fontWeight: '600' }}>\n                  Time remaining: {Math.floor(countdown / 60)}:{(countdown % 60).toString().padStart(2, '0')}\n                </span>\n              </div>\n            )}\n          </div>\n\n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 400px', gap: '24px' }}>\n            \n            {/* Left Column */}\n            <div>\n              {/* Order Details */}\n              <div style={{\n                background: 'linear-gradient(135deg, #0A1929 0%, #051018 100%)',\n                border: '1px solid rgba(0, 198, 255, 0.2)',\n                borderRadius: '16px',\n                padding: '24px',\n                marginBottom: '24px'\n              }}>\n                <h3 style={{ fontSize: '20px', fontWeight: '700', color: '#FFFFFF', marginBottom: '16px' }}>Order Details</h3>\n                <div style={{ display: 'grid', gap: '12px' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ color: '#8F9BB3' }}>Amount</span>\n                    <span style={{ color: '#FFFFFF', fontWeight: '600' }}>{trade.crypto_amount} {trade.crypto_currency}</span>\n                  </div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ color: '#8F9BB3' }}>Price</span>\n                    <span style={{ color: '#FFFFFF', fontWeight: '600' }}>¬£{(trade.fiat_amount / trade.crypto_amount).toFixed(2)}</span>\n                  </div>\n                  <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <span style={{ color: '#8F9BB3' }}>Total</span>\n                    <span style={{ color: '#00C6FF', fontWeight: '700', fontSize: '20px' }}>¬£{trade.fiat_amount.toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Payment Instructions - Only for Buyer */}\n              {isBuyer && trade.seller_payment_details && trade.status === 'pending_payment' && (\n                <div style={{\n                  background: 'linear-gradient(135deg, #0A1929 0%, #051018 100%)',\n                  border: '1px solid rgba(255, 165, 0, 0.3)',\n                  borderRadius: '16px',\n                  padding: '24px',\n                  marginBottom: '24px'\n                }}>\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '16px' }}>\n                    <IoShield size={24} color=\"#FFA500\" />\n                    <h3 style={{ fontSize: '20px', fontWeight: '700', color: '#FFFFFF' }}>Payment Instructions</h3>\n                  </div>\n                  <div style={{ background: 'rgba(255, 165, 0, 0.05)', padding: '16px', borderRadius: '8px' }}>\n                    <div style={{ display: 'grid', gap: '12px' }}>\n                      <div>\n                        <div style={{ fontSize: '12px', color: '#8F9BB3', marginBottom: '4px' }}>Bank Name</div>\n                        <div style={{ color: '#FFFFFF', fontWeight: '600' }}>{trade.seller_payment_details.bank_name}</div>\n                      </div>\n                      <div>\n                        <div style={{ fontSize: '12px', color: '#8F9BB3', marginBottom: '4px' }}>Account Name</div>\n                        <div style={{ color: '#FFFFFF', fontWeight: '600' }}>{trade.seller_payment_details.account_name}</div>\n                      </div>\n                      <div>\n                        <div style={{ fontSize: '12px', color: '#8F9BB3', marginBottom: '4px' }}>Account Number</div>\n                        <div style={{ color: '#FFFFFF', fontWeight: '600' }}>{trade.seller_payment_details.account_number}</div>\n                      </div>\n                      <div>\n                        <div style={{ fontSize: '12px', color: '#8F9BB3', marginBottom: '4px' }}>Sort Code</div>\n                        <div style={{ color: '#FFFFFF', fontWeight: '600' }}>{trade.seller_payment_details.sort_code}</div>\n                      </div>\n                      {trade.seller_payment_details.notes && (\n                        <div>\n                          <div style={{ fontSize: '12px', color: '#8F9BB3', marginBottom: '4px' }}>Notes</div>\n                          <div style={{ color: '#FFA500' }}>{trade.seller_payment_details.notes}</div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Action Buttons */}\n              <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>\n                {isBuyer && trade.status === 'pending_payment' && (\n                  <button\n                    onClick={handleMarkAsPaid}\n                    disabled={processing}\n                    style={{\n                      flex: 1,\n                      padding: '16px',\n                      background: 'linear-gradient(135deg, #22C55E, #16A34A)',\n                      border: 'none',\n                      borderRadius: '12px',\n                      color: '#FFFFFF',\n                      fontSize: '16px',\n                      fontWeight: '700',\n                      cursor: processing ? 'not-allowed' : 'pointer',\n                      boxShadow: '0 0 20px rgba(34, 197, 94, 0.4)'\n                    }}\n                  >\n                    <IoCheckmarkCircle size={20} style={{ marginRight: '8px', verticalAlign: 'middle' }} />\n                    Mark as Paid\n                  </button>\n                )}\n\n                {!isBuyer && trade.status === 'payment_made' && (\n                  <button\n                    onClick={handleReleaseCrypto}\n                    disabled={processing}\n                    style={{\n                      flex: 1,\n                      padding: '16px',\n                      background: 'linear-gradient(135deg, #22C55E, #16A34A)',\n                      border: 'none',\n                      borderRadius: '12px',\n                      color: '#FFFFFF',\n                      fontSize: '16px',\n                      fontWeight: '700',\n                      cursor: processing ? 'not-allowed' : 'pointer',\n                      boxShadow: '0 0 20px rgba(34, 197, 94, 0.4)'\n                    }}\n                  >\n                    Release Crypto\n                  </button>\n                )}\n\n                {trade.status === 'completed' && (\n                  <button\n                    onClick={() => setShowFeedbackModal(true)}\n                    style={{\n                      flex: 1,\n                      padding: '16px',\n                      background: 'linear-gradient(135deg, #FFA500, #FF8C00)',\n                      border: 'none',\n                      borderRadius: '12px',\n                      color: '#FFFFFF',\n                      fontSize: '16px',\n                      fontWeight: '700',\n                      cursor: 'pointer',\n                      boxShadow: '0 0 20px rgba(255, 165, 0, 0.4)'\n                    }}\n                  >\n                    ‚≠ê Rate This Trade\n                  </button>\n                )}\n\n                {trade.status !== 'completed' && trade.status !== 'cancelled' && trade.status !== 'disputed' && (\n                  <>\n                    <button\n                      onClick={() => setShowDisputeModal(true)}\n                      disabled={processing}\n                      style={{\n                        padding: '16px 24px',\n                        background: 'rgba(239, 68, 68, 0.1)',\n                        border: '1px solid rgba(239, 68, 68, 0.3)',\n                        borderRadius: '12px',\n                        color: '#EF4444',\n                        fontSize: '16px',\n                        fontWeight: '600',\n                        cursor: processing ? 'not-allowed' : 'pointer'\n                      }}\n                    >\n                      <IoWarning size={20} style={{ marginRight: '8px', verticalAlign: 'middle' }} />\n                      Dispute\n                    </button>\n\n                    {isBuyer && trade.status === 'pending_payment' && (\n                      <button\n                        onClick={handleCancel}\n                        disabled={processing}\n                        style={{\n                          padding: '16px 24px',\n                          background: 'rgba(143, 155, 179, 0.1)',\n                          border: '1px solid rgba(143, 155, 179, 0.3)',\n                          borderRadius: '12px',\n                          color: '#8F9BB3',\n                          fontSize: '16px',\n                          fontWeight: '600',\n                          cursor: processing ? 'not-allowed' : 'pointer'\n                        }}\n                      >\n                        Cancel Order\n                      </button>\n                    )}\n                  </>\n                )}\n              </div>\n            </div>\n\n            {/* Right Column - Chat */}\n            <div style={{\n              background: 'linear-gradient(135deg, #0A1929 0%, #051018 100%)',\n              border: '1px solid rgba(0, 198, 255, 0.2)',\n              borderRadius: '16px',\n              padding: '24px',\n              height: 'fit-content'\n            }}>\n              {/* Chat Header with Block Button */}\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '16px' }}>\n                <h3 style={{ fontSize: '20px', fontWeight: '700', color: '#FFFFFF', margin: 0 }}>Chat with {counterparty}</h3>\n                {!checkingBlock && (\n                  <button\n                    onClick={handleBlockToggle}\n                    disabled={processing}\n                    title={isBlocked ? 'Unblock user' : 'Block user'}\n                    style={{\n                      padding: '8px 16px',\n                      background: isBlocked ? 'rgba(239, 68, 68, 0.1)' : 'rgba(143, 155, 179, 0.1)',\n                      border: `1px solid ${isBlocked ? 'rgba(239, 68, 68, 0.3)' : 'rgba(143, 155, 179, 0.3)'}`,\n                      borderRadius: '8px',\n                      color: isBlocked ? '#EF4444' : '#8F9BB3',\n                      fontSize: '12px',\n                      fontWeight: '600',\n                      cursor: processing ? 'not-allowed' : 'pointer',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '6px',\n                      transition: 'all 0.2s'\n                    }}\n                  >\n                    <IoEyeOff size={14} />\n                    {isBlocked ? 'Unblock' : 'Block'}\n                  </button>\n                )}\n              </div>\n              \n              <div style={{\n                height: '400px',\n                overflowY: 'auto',\n                marginBottom: '16px',\n                padding: '12px',\n                background: 'rgba(0, 0, 0, 0.2)',\n                borderRadius: '8px'\n              }}>\n                {messages.length === 0 ? (\n                  <div style={{ textAlign: 'center', color: '#8F9BB3', padding: '40px' }}>No messages yet</div>\n                ) : (\n                  messages.map((msg, idx) => {\n                    const isSystem = msg.sender_id === 'SYSTEM';\n                    const isCurrentUser = msg.sender_id === currentUser.user_id;\n                    \n                    return (\n                      <div key={idx} style={{\n                        marginBottom: '12px',\n                        padding: '12px',\n                        background: isSystem \n                          ? 'rgba(255, 165, 0, 0.15)'\n                          : isCurrentUser \n                            ? 'rgba(0, 198, 255, 0.1)' \n                            : 'rgba(143, 155, 179, 0.1)',\n                        border: isSystem ? '1px solid rgba(255, 165, 0, 0.3)' : 'none',\n                        borderRadius: '8px',\n                        textAlign: isSystem ? 'center' : isCurrentUser ? 'right' : 'left'\n                      }}>\n                        <div style={{ \n                          fontSize: '11px', \n                          color: isSystem ? '#FFA500' : '#8F9BB3', \n                          marginBottom: '4px',\n                          fontWeight: isSystem ? '700' : '600'\n                        }}>\n                          {isSystem ? 'ü§ñ SYSTEM' : isCurrentUser ? 'You' : counterparty}\n                          {msg.timestamp && (\n                            <span style={{ marginLeft: '8px', fontSize: '10px', opacity: 0.7 }}>\n                              {new Date(msg.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                            </span>\n                          )}\n                        </div>\n                        <div style={{ \n                          color: isSystem ? '#FFA500' : '#FFFFFF',\n                          fontWeight: isSystem ? '600' : '400'\n                        }}>\n                          {msg.message}\n                        </div>\n                        {msg.attachment && (\n                          <img \n                            src={msg.attachment} \n                            alt=\"proof\" \n                            style={{ \n                              maxWidth: '200px', \n                              marginTop: '8px', \n                              borderRadius: '4px',\n                              cursor: 'pointer'\n                            }}\n                            onClick={() => window.open(msg.attachment, '_blank')}\n                          />\n                        )}\n                      </div>\n                    );\n                  })\n                )}\n              </div>\n\n              <div style={{ display: 'flex', gap: '8px', flexDirection: 'column' }}>\n                <div style={{ display: 'flex', gap: '8px' }}>\n                  <input\n                    type=\"text\"\n                    value={newMessage}\n                    onChange={(e) => setNewMessage(e.target.value)}\n                    onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                    placeholder=\"Type a message...\"\n                    style={{\n                      flex: 1,\n                      padding: '12px',\n                      background: 'rgba(0, 0, 0, 0.3)',\n                      border: '1px solid rgba(0, 198, 255, 0.2)',\n                      borderRadius: '8px',\n                      color: '#FFFFFF',\n                      fontSize: '14px'\n                    }}\n                  />\n                  <button\n                    onClick={handleSendMessage}\n                    disabled={processing || (!newMessage.trim() && !paymentProof)}\n                    style={{\n                      padding: '12px 20px',\n                      background: 'linear-gradient(135deg, #00C6FF, #0099CC)',\n                      border: 'none',\n                      borderRadius: '8px',\n                      color: '#FFFFFF',\n                      cursor: processing ? 'not-allowed' : 'pointer'\n                    }}\n                  >\n                    <IoSend size={20} />\n                  </button>\n                </div>\n                \n                <div>\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={(e) => setPaymentProof(e.target.files[0])}\n                    id=\"proof-upload\"\n                    style={{ display: 'none' }}\n                  />\n                  <label\n                    htmlFor=\"proof-upload\"\n                    style={{\n                      display: 'inline-flex',\n                      alignItems: 'center',\n                      gap: '8px',\n                      padding: '8px 16px',\n                      background: 'rgba(0, 198, 255, 0.1)',\n                      border: '1px solid rgba(0, 198, 255, 0.3)',\n                      borderRadius: '8px',\n                      color: '#00C6FF',\n                      fontSize: '14px',\n                      cursor: 'pointer'\n                    }}\n                  >\n                    <IoCloudUpload size={20} />\n                    {paymentProof ? paymentProof.name : 'Upload Payment Proof'}\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Dispute Modal */}\n      {showDisputeModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.85)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 9999\n        }}>\n          <div style={{\n            background: 'linear-gradient(135deg, #0A1929 0%, #051018 100%)',\n            border: '1px solid rgba(239, 68, 68, 0.3)',\n            borderRadius: '16px',\n            padding: '32px',\n            maxWidth: '480px',\n            width: '90%'\n          }}>\n            <h3 style={{ fontSize: '24px', fontWeight: '700', color: '#FFFFFF', marginBottom: '16px' }}>Open Dispute</h3>\n            <p style={{ color: '#8F9BB3', marginBottom: '16px' }}>Please explain why you are opening a dispute. Admin will review and resolve.</p>\n            <textarea\n              value={disputeReason}\n              onChange={(e) => setDisputeReason(e.target.value)}\n              placeholder=\"Describe the issue...\"\n              style={{\n                width: '100%',\n                height: '120px',\n                padding: '12px',\n                background: 'rgba(0, 0, 0, 0.3)',\n                border: '1px solid rgba(239, 68, 68, 0.3)',\n                borderRadius: '8px',\n                color: '#FFFFFF',\n                fontSize: '14px',\n                marginBottom: '16px',\n                resize: 'vertical'\n              }}\n            />\n            <div style={{ display: 'flex', gap: '12px' }}>\n              <button\n                onClick={() => setShowDisputeModal(false)}\n                style={{\n                  flex: 1,\n                  padding: '12px',\n                  background: 'rgba(143, 155, 179, 0.1)',\n                  border: '1px solid rgba(143, 155, 179, 0.3)',\n                  borderRadius: '8px',\n                  color: '#8F9BB3',\n                  fontWeight: '600',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleOpenDispute}\n                disabled={processing || !disputeReason.trim()}\n                style={{\n                  flex: 1,\n                  padding: '12px',\n                  background: 'linear-gradient(135deg, #EF4444, #DC2626)',\n                  border: 'none',\n                  borderRadius: '8px',\n                  color: '#FFFFFF',\n                  fontWeight: '700',\n                  cursor: processing || !disputeReason.trim() ? 'not-allowed' : 'pointer'\n                }}\n              >\n                Submit Dispute\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Feedback Modal */}\n      {showFeedbackModal && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.85)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 9999\n        }}>\n          <div style={{\n            background: 'linear-gradient(135deg, #0A1929 0%, #051018 100%)',\n            border: '1px solid rgba(0, 198, 255, 0.3)',\n            borderRadius: '16px',\n            padding: '32px',\n            maxWidth: '480px',\n            width: '90%'\n          }}>\n            <h3 style={{ fontSize: '24px', fontWeight: '700', color: '#FFFFFF', marginBottom: '16px' }}>\n              Rate Your Counterparty\n            </h3>\n            <p style={{ color: '#8F9BB3', marginBottom: '20px' }}>\n              How was your experience with {counterparty}?\n            </p>\n            \n            {/* Rating Selection */}\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ color: '#8F9BB3', fontSize: '14px', display: 'block', marginBottom: '8px' }}>\n                Rating *\n              </label>\n              <div style={{ display: 'flex', gap: '12px' }}>\n                {['positive', 'neutral', 'negative'].map((rating) => (\n                  <button\n                    key={rating}\n                    onClick={() => setFeedbackRating(rating)}\n                    style={{\n                      flex: 1,\n                      padding: '12px',\n                      background: feedbackRating === rating \n                        ? rating === 'positive' ? 'rgba(34, 197, 94, 0.2)' \n                        : rating === 'neutral' ? 'rgba(255, 165, 0, 0.2)'\n                        : 'rgba(239, 68, 68, 0.2)'\n                        : 'rgba(143, 155, 179, 0.1)',\n                      border: feedbackRating === rating \n                        ? rating === 'positive' ? '2px solid #22C55E' \n                        : rating === 'neutral' ? '2px solid #FFA500'\n                        : '2px solid #EF4444'\n                        : '1px solid rgba(143, 155, 179, 0.3)',\n                      borderRadius: '8px',\n                      color: feedbackRating === rating \n                        ? rating === 'positive' ? '#22C55E' \n                        : rating === 'neutral' ? '#FFA500'\n                        : '#EF4444'\n                        : '#8F9BB3',\n                      fontWeight: feedbackRating === rating ? '700' : '400',\n                      cursor: 'pointer',\n                      fontSize: '14px'\n                    }}\n                  >\n                    {rating === 'positive' ? 'üëç Positive' : rating === 'neutral' ? 'üòê Neutral' : 'üëé Negative'}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Comment */}\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ color: '#8F9BB3', fontSize: '14px', display: 'block', marginBottom: '8px' }}>\n                Comment (Optional)\n              </label>\n              <textarea\n                value={feedbackComment}\n                onChange={(e) => setFeedbackComment(e.target.value)}\n                placeholder=\"Share your experience... (max 500 characters)\"\n                maxLength={500}\n                style={{\n                  width: '100%',\n                  height: '100px',\n                  padding: '12px',\n                  background: 'rgba(0, 0, 0, 0.3)',\n                  border: '1px solid rgba(0, 198, 255, 0.3)',\n                  borderRadius: '8px',\n                  color: '#FFFFFF',\n                  fontSize: '14px',\n                  resize: 'vertical'\n                }}\n              />\n              <div style={{ textAlign: 'right', fontSize: '12px', color: '#8F9BB3', marginTop: '4px' }}>\n                {feedbackComment.length}/500\n              </div>\n            </div>\n\n            {/* Buttons */}\n            <div style={{ display: 'flex', gap: '12px' }}>\n              <button\n                onClick={() => setShowFeedbackModal(false)}\n                style={{\n                  flex: 1,\n                  padding: '12px',\n                  background: 'rgba(143, 155, 179, 0.1)',\n                  border: '1px solid rgba(143, 155, 179, 0.3)',\n                  borderRadius: '8px',\n                  color: '#8F9BB3',\n                  fontWeight: '600',\n                  cursor: 'pointer'\n                }}\n              >\n                Skip\n              </button>\n              <button\n                onClick={handleSubmitFeedback}\n                disabled={processing}\n                style={{\n                  flex: 1,\n                  padding: '12px',\n                  background: 'linear-gradient(135deg, #22C55E, #16A34A)',\n                  border: 'none',\n                  borderRadius: '8px',\n                  color: '#FFFFFF',\n                  fontWeight: '700',\n                  cursor: processing ? 'not-allowed' : 'pointer',\n                  opacity: processing ? 0.6 : 1\n                }}\n              >\n                {processing ? 'Submitting...' : 'Submit Feedback'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </Layout>\n  );\n}\n"],"names":["API","process","P2POrderPage","tradeId","useParams","navigate","useNavigate","trade","setTrade","useState","loading","setLoading","currentUser","setCurrentUser","messages","setMessages","newMessage","setNewMessage","processing","setProcessing","countdown","setCountdown","paymentProof","setPaymentProof","disputeReason","setDisputeReason","showDisputeModal","setShowDisputeModal","showFeedbackModal","setShowFeedbackModal","feedbackRating","setFeedbackRating","feedbackComment","setFeedbackComment","isBlocked","setIsBlocked","checkingBlock","setCheckingBlock","useEffect","status","async","axios","get","concat","user_id","data","feedback_given","setTimeout","error","checkFeedback","userData","localStorage","getItem","user","JSON","parse","fetchTrade","interval","setInterval","clearInterval","counterpartyId","isBuyer","seller_id","buyer_id","checkBlockStatus","expires_at","updateCountdown","now","Date","expires","remaining","Math","floor","response","userId","success","blocked","toast","_error$response","console","handleSendMessage","trim","formData","FormData","append","post","headers","blockedList","blocked_users","includes","_jsx","Layout","children","style","padding","textAlign","color","counterparty","_jsxs","minHeight","background","maxWidth","margin","border","borderRadius","marginBottom","display","justifyContent","alignItems","fontSize","fontWeight","crypto_currency","gap","IoTime","size","toString","padStart","gridTemplateColumns","crypto_amount","fiat_amount","toFixed","seller_payment_details","IoShield","bank_name","account_name","account_number","sort_code","notes","flexWrap","onClick","trade_id","_error$response2","_error$response2$data","detail","disabled","flex","cursor","boxShadow","IoCheckmarkCircle","marginRight","verticalAlign","_error$response3","_error$response3$data","_Fragment","IoWarning","window","confirm","_error$response5","_error$response5$data","height","endpoint","blocked_user_id","merchant_id","e","_error$response7","_error$response7$data","title","transition","IoEyeOff","overflowY","length","map","msg","idx","isSystem","sender_id","isCurrentUser","timestamp","marginLeft","opacity","toLocaleTimeString","hour","minute","message","attachment","src","alt","marginTop","open","flexDirection","type","value","onChange","target","onKeyPress","key","placeholder","IoSend","accept","files","id","htmlFor","IoCloudUpload","name","position","top","left","right","bottom","zIndex","width","resize","reason","_error$response4","_error$response4$data","rating","maxLength","from_user_id","comment","_error$response6","_error$response6$data"],"sourceRoot":""}