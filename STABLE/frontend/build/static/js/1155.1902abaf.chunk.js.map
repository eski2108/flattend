{"version":3,"file":"static/js/1155.1902abaf.chunk.js","mappings":"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","sources":["pages/WalletSettings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { IoAdd, IoCheckmark, IoCopy, IoCreate, IoTrash as Trash2 } from 'react-icons/io5';\nimport axios from 'axios';\nimport Layout from '@/components/Layout';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = BACKEND_URL;\n\nconst CRYPTO_LIST = [\n  { code: 'BTC', name: 'Bitcoin', symbol: 'â‚¿' },\n  { code: 'ETH', name: 'Ethereum', symbol: 'Îž' },\n  { code: 'USDT', name: 'Tether', symbol: 'â‚®' },\n  { code: 'BNB', name: 'Binance Coin', symbol: 'ðŸ”¶' },\n  { code: 'SOL', name: 'Solana', symbol: 'â—Ž' },\n  { code: 'XRP', name: 'Ripple', symbol: 'âœ•' },\n  { code: 'ADA', name: 'Cardano', symbol: 'â‚³' },\n  { code: 'DOGE', name: 'Dogecoin', symbol: 'Ã' },\n  { code: 'MATIC', name: 'Polygon', symbol: 'â¬¡' },\n  { code: 'LTC', name: 'Litecoin', symbol: 'Å' },\n  { code: 'AVAX', name: 'Avalanche', symbol: 'ðŸ”º' },\n  { code: 'DOT', name: 'Polkadot', symbol: 'â—' },\n];\n\nexport default function WalletSettings() {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [addresses, setAddresses] = useState({});\n  const [editingCurrency, setEditingCurrency] = useState(null);\n  const [newAddress, setNewAddress] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [copiedCurrency, setCopiedCurrency] = useState(null);\n\n  useEffect(() => {\n    const userData = localStorage.getItem('cryptobank_user');\n    if (!userData) {\n      navigate('/');\n      return;\n    }\n    const parsedUser = JSON.parse(userData);\n    setUser(parsedUser);\n  }, [navigate]);\n  \n  useEffect(() => {\n    if (user?.user_id) {\n      fetchAddresses();\n    }\n  }, [user]);\n\n  const fetchAddresses = async () => {\n    try {\n      const response = await axios.get(`${API}/wallet/addresses/${user.user_id}`);\n      setAddresses(response.data.addresses || {});\n    } catch (error) {\n      console.error('Error fetching addresses:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddAddress = async (currency) => {\n    if (!newAddress.trim()) return;\n\n    try {\n      await axios.post(`${API}/wallet/add-address`, {\n        user_id: user.user_id,\n        currency,\n        address: newAddress.trim()\n      });\n      \n      await fetchAddresses();\n      setEditingCurrency(null);\n      setNewAddress('');\n    } catch (error) {\n      alert(error.response?.data?.detail || 'Failed to add address');\n    }\n  };\n\n  const handleRemoveAddress = async (currency) => {\n    if (!confirm(`Remove ${currency} address?`)) return;\n\n    try {\n      await axios.delete(`${API}/wallet/remove-address/${user.user_id}/${currency}`);\n      await fetchAddresses();\n    } catch (error) {\n      alert('Failed to remove address');\n    }\n  };\n\n  const copyToClipboard = (text, currency) => {\n    navigator.clipboard.writeText(text);\n    setCopiedCurrency(currency);\n    setTimeout(() => setCopiedCurrency(null), 2000);\n  };\n\n  if (loading) {\n    return (\n      <Layout>\n        <div style={{ padding: '2rem', textAlign: 'center', color: '#fff' }}>\n          Loading wallet settings...\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div style={{ padding: '2rem', maxWidth: '1200px', margin: '0 auto' }}>\n        <h1 style={{ \n          fontSize: '32px', \n          fontWeight: '800', \n          color: '#fff', \n          marginBottom: '0.5rem' \n        }}>\n          My Wallet Addresses\n        </h1>\n        <p style={{ \n          color: 'rgba(255, 255, 255, 0.7)', \n          marginBottom: '2rem' \n        }}>\n          Add your crypto wallet addresses for withdrawals\n        </p>\n\n        <div style={{ display: 'grid', gap: '1.5rem' }}>\n          {CRYPTO_LIST.map((crypto) => {\n            const hasAddress = addresses[crypto.code];\n            const isEditing = editingCurrency === crypto.code;\n\n            return (\n              <Card \n                key={crypto.code}\n                style={{\n                  background: 'linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))',\n                  border: '1px solid rgba(0, 240, 255, 0.2)',\n                  borderRadius: '16px',\n                  padding: '1.5rem',\n                  transition: 'all 0.3s ease'\n                }}\n              >\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n                  <div style={{ flex: 1 }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '1rem' }}>\n                      <span style={{ fontSize: '32px' }}>{crypto.symbol}</span>\n                      <div>\n                        <h3 style={{ fontSize: '20px', fontWeight: '700', color: '#fff', marginBottom: '0.25rem' }}>\n                          {crypto.name}\n                        </h3>\n                        <span style={{ fontSize: '14px', color: 'rgba(255, 255, 255, 0.5)' }}>\n                          {crypto.code}\n                        </span>\n                      </div>\n                    </div>\n\n                    {isEditing ? (\n                      <div style={{ marginTop: '1rem' }}>\n                        <input\n                          type=\"text\"\n                          value={newAddress}\n                          onChange={(e) => setNewAddress(e.target.value)}\n                          placeholder={`Enter your ${crypto.code} address`}\n                          style={{\n                            width: '100%',\n                            padding: '0.75rem',\n                            background: 'rgba(0, 0, 0, 0.3)',\n                            border: '1px solid rgba(0, 240, 255, 0.3)',\n                            borderRadius: '8px',\n                            color: '#fff',\n                            fontSize: '14px',\n                            marginBottom: '1rem'\n                          }}\n                        />\n                        <div style={{ display: 'flex', gap: '0.5rem' }}>\n                          <Button\n                            onClick={() => handleAddAddress(crypto.code)}\n                            style={{\n                              background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                              border: 'none',\n                              padding: '0.5rem 1rem',\n                              fontSize: '14px'\n                            }}\n                          >\n                            Save\n                          </Button>\n                          <Button\n                            onClick={() => {\n                              setEditingCurrency(null);\n                              setNewAddress('');\n                            }}\n                            style={{\n                              background: 'rgba(255, 255, 255, 0.1)',\n                              border: '1px solid rgba(255, 255, 255, 0.2)',\n                              color: '#fff',\n                              padding: '0.5rem 1rem',\n                              fontSize: '14px'\n                            }}\n                          >\n                            Cancel\n                          </Button>\n                        </div>\n                      </div>\n                    ) : hasAddress ? (\n                      <div>\n                        <div style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.5rem',\n                          padding: '0.75rem',\n                          background: 'rgba(0, 0, 0, 0.3)',\n                          borderRadius: '8px',\n                          marginTop: '1rem'\n                        }}>\n                          <span style={{\n                            color: '#00F0FF',\n                            fontSize: '14px',\n                            fontFamily: 'monospace',\n                            flex: 1,\n                            overflow: 'hidden',\n                            textOverflow: 'ellipsis'\n                          }}>\n                            {addresses[crypto.code]}\n                          </span>\n                          <button\n                            onClick={() => copyToClipboard(addresses[crypto.code], crypto.code)}\n                            style={{\n                              background: 'transparent',\n                              border: 'none',\n                              color: copiedCurrency === crypto.code ? '#22C55E' : '#00F0FF',\n                              cursor: 'pointer',\n                              padding: '0.25rem'\n                            }}\n                          >\n                            {copiedCurrency === crypto.code ? <IoCheckmark size={18} /> : <IoCopy size={18} />}\n                          </button>\n                        </div>\n                      </div>\n                    ) : (\n                      <div style={{\n                        padding: '1rem',\n                        background: 'rgba(0, 0, 0, 0.2)',\n                        borderRadius: '8px',\n                        marginTop: '1rem',\n                        textAlign: 'center'\n                      }}>\n                        <span style={{ color: 'rgba(255, 255, 255, 0.5)', fontSize: '14px' }}>\n                          No address added\n                        </span>\n                      </div>\n                    )}\n                  </div>\n\n                  <div style={{ marginLeft: '1rem' }}>\n                    {hasAddress && !isEditing ? (\n                      <div style={{ display: 'flex', gap: '0.5rem' }}>\n                        <button\n                          onClick={() => {\n                            setEditingCurrency(crypto.code);\n                            setNewAddress(addresses[crypto.code]);\n                          }}\n                          style={{\n                            background: 'rgba(0, 240, 255, 0.1)',\n                            border: '1px solid rgba(0, 240, 255, 0.3)',\n                            borderRadius: '8px',\n                            padding: '0.5rem',\n                            color: '#00F0FF',\n                            cursor: 'pointer'\n                          }}\n                        >\n                          <IoCreate size={18} />\n                        </button>\n                        <button\n                          onClick={() => handleRemoveAddress(crypto.code)}\n                          style={{\n                            background: 'rgba(239, 68, 68, 0.1)',\n                            border: '1px solid rgba(239, 68, 68, 0.3)',\n                            borderRadius: '8px',\n                            padding: '0.5rem',\n                            color: '#EF4444',\n                            cursor: 'pointer'\n                          }}\n                        >\n                          <Trash2 size={18} />\n                        </button>\n                      </div>\n                    ) : !isEditing ? (\n                      <button\n                        onClick={() => setEditingCurrency(crypto.code)}\n                        style={{\n                          background: 'linear-gradient(135deg, #00F0FF, #A855F7)',\n                          border: 'none',\n                          borderRadius: '8px',\n                          padding: '0.5rem 1rem',\n                          color: '#fff',\n                          fontWeight: '600',\n                          cursor: 'pointer',\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '0.5rem'\n                        }}\n                      >\n                        <IoAdd size={18} />\n                        Add\n                      </button>\n                    ) : null}\n                  </div>\n                </div>\n              </Card>\n            );\n          })}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"names":["API","process","CRYPTO_LIST","code","name","symbol","WalletSettings","navigate","useNavigate","user","setUser","useState","addresses","setAddresses","editingCurrency","setEditingCurrency","newAddress","setNewAddress","loading","setLoading","copiedCurrency","setCopiedCurrency","useEffect","userData","localStorage","getItem","parsedUser","JSON","parse","user_id","fetchAddresses","async","response","axios","get","concat","data","error","console","_jsx","Layout","children","style","padding","textAlign","color","_jsxs","maxWidth","margin","fontSize","fontWeight","marginBottom","display","gap","map","crypto","hasAddress","isEditing","Card","background","border","borderRadius","transition","justifyContent","alignItems","flex","marginTop","type","value","onChange","e","target","placeholder","width","Button","onClick","trim","post","currency","address","_error$response","_error$response$data","alert","detail","handleAddAddress","fontFamily","overflow","textOverflow","copyToClipboard","text","navigator","clipboard","writeText","setTimeout","cursor","IoCheckmark","size","IoCopy","marginLeft","IoCreate","confirm","delete","handleRemoveAddress","Trash2","IoAdd"],"sourceRoot":""}