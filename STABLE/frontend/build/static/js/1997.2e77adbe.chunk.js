"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1997],{1997:(e,r,t)=>{t.r(r),t.d(r,{default:()=>c});var i=t(5043),l=t(8163),a=t(9722),n=t(6328),o=t(221),s=t(579);const d="https://p2pdispute.preview.emergentagent.com",c=()=>{const e=(0,l.Zp)(),[r,t]=(0,i.useState)([]),[c,g]=(0,i.useState)(!0),[p,x]=(0,i.useState)(""),[u,f]=(0,i.useState)("all");(0,i.useEffect)(()=>{localStorage.getItem("admin_user")?h():e("/admin/login")},[e]);const h=async()=>{g(!0);try{const e=await a.A.get("".concat(d,"/api/admin/users/all"));e.data.success&&t(e.data.users||[])}catch(e){console.error("Error loading users:",e),n.oR.error("Failed to load users")}finally{g(!1)}},m=r.filter(e=>{var r,t,i;const l=(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(p.toLowerCase()))||(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||(null===(i=e.user_id)||void 0===i?void 0:i.toLowerCase().includes(p.toLowerCase())),a="all"===u||e.referral_tier===u;return l&&a});return c?(0,s.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)("div",{style:{textAlign:"center",color:"#00F0FF"},children:(0,s.jsx)("div",{style:{fontSize:"18px"},children:"Loading users..."})})}):(0,s.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)",padding:"2rem"},children:(0,s.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[(0,s.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,s.jsx)("button",{onClick:()=>e("/admin/dashboard"),style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",padding:"8px 16px",color:"#fff",cursor:"pointer",marginBottom:"1rem"},children:"\u2190 Back to Dashboard"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"0.5rem"},children:[(0,s.jsx)(o.GvN,{size:32,style:{color:"#00F0FF"}}),(0,s.jsx)("h1",{style:{fontSize:"36px",fontWeight:"900",background:"linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Users Management"})]}),(0,s.jsx)("p",{style:{color:"#A3AEC2",fontSize:"16px"},children:"Manage user referral tiers and commission rates"})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[{label:"Total Users",value:r.length,icon:(0,s.jsx)(o.GvN,{size:24}),color:"#00F0FF"},{label:"Standard Tier",value:r.filter(e=>!e.referral_tier||"standard"===e.referral_tier).length,icon:(0,s.jsx)(o.SNd,{size:24}),color:"#6B7280"},{label:"VIP Tier",value:r.filter(e=>"vip"===e.referral_tier).length,icon:(0,s.jsx)(o.x3f,{size:24}),color:"#A855F7"},{label:"Golden Tier",value:r.filter(e=>"golden"===e.referral_tier).length,icon:(0,s.jsx)(o.DBe,{size:24}),color:"#FFD700"}].map((e,r)=>(0,s.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"16px",padding:"1.5rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[(0,s.jsx)("div",{style:{color:e.color},children:e.icon}),(0,s.jsx)("div",{style:{fontSize:"28px",fontWeight:"900",color:e.color},children:e.value})]}),(0,s.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:e.label})]},r))}),(0,s.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"16px",padding:"1.5rem",marginBottom:"2rem"},children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,s.jsx)("div",{style:{flex:"1",minWidth:"300px"},children:(0,s.jsxs)("div",{style:{position:"relative"},children:[(0,s.jsx)(o.zfp,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"rgba(255, 255, 255, 0.4)"}}),(0,s.jsx)("input",{type:"text",placeholder:"Search by email, name, or user ID...",value:p,onChange:e=>x(e.target.value),style:{width:"100%",padding:"12px 12px 12px 40px",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}})]})}),(0,s.jsxs)("select",{value:u,onChange:e=>f(e.target.value),style:{padding:"12px 16px",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px",cursor:"pointer"},children:[(0,s.jsx)("option",{value:"all",children:"All Tiers"}),(0,s.jsx)("option",{value:"standard",children:"Standard Only"}),(0,s.jsx)("option",{value:"vip",children:"VIP Only"}),(0,s.jsx)("option",{value:"golden",children:"Golden Only"})]})]})}),(0,s.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"16px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)"},children:[(0,s.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"User"}),(0,s.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Email"}),(0,s.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Joined"}),(0,s.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Current Tier"}),(0,s.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Change Tier"})]})}),(0,s.jsx)("tbody",{children:0===m.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"rgba(255, 255, 255, 0.5)"},children:"No users found"})}):m.map((e,r)=>{const t=(e=>{switch(e){case"golden":return{label:"Golden (50%)",gradient:"linear-gradient(135deg, #FFD700, #FFA500)",icon:(0,s.jsx)(o.DBe,{size:16,style:{color:"#000"}})};case"vip":return{label:"VIP (20%)",gradient:"linear-gradient(135deg, #A855F7, #7B2CFF)",icon:(0,s.jsx)(o.x3f,{size:16,style:{color:"#fff"}})};default:return{label:"Standard (20%)",gradient:"linear-gradient(135deg, #6B7280, #4B5563)",icon:(0,s.jsx)(o.SNd,{size:16,style:{color:"#fff"}})}}})(e.referral_tier||"standard");return(0,s.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.05)",background:r%2===0?"transparent":"rgba(0, 0, 0, 0.2)"},children:[(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #00F0FF, #A855F7)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:"700",fontSize:"16px"},children:e.full_name?e.full_name[0].toUpperCase():e.email[0].toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{color:"#fff",fontWeight:"600",fontSize:"14px"},children:e.full_name||"User"}),(0,s.jsxs)("div",{style:{color:"rgba(255, 255, 255, 0.5)",fontSize:"12px"},children:["ID: ",e.user_id.slice(0,8),"..."]})]})]})}),(0,s.jsx)("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:e.email}),(0,s.jsx)("td",{style:{padding:"1rem",color:"rgba(255, 255, 255, 0.7)",fontSize:"14px"},children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"6px 12px",background:t.gradient,borderRadius:"8px",fontSize:"12px",fontWeight:"700",color:"golden"===e.referral_tier?"#000":"#fff"},children:[t.icon,t.label]})}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsxs)("select",{value:e.referral_tier||"standard",onChange:r=>{r.target.value!==(e.referral_tier||"standard")&&window.confirm("Change ".concat(e.full_name||e.email,"'s tier to ").concat(r.target.value.toUpperCase(),"?"))&&(async(e,r)=>{try{const t=await a.A.post("".concat(d,"/api/admin/users/update-tier"),{user_id:e,tier:r});t.data.success?(n.oR.success("User tier updated to ".concat(r.toUpperCase(),"!")),h()):n.oR.error(t.data.message||"Failed to update tier")}catch(l){var t,i;console.error("Error updating tier:",l),n.oR.error((null===(t=l.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to update user tier")}})(e.user_id,r.target.value)},style:{padding:"8px 12px",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"13px",cursor:"pointer"},children:[(0,s.jsx)("option",{value:"standard",children:"Standard (20%)"}),(0,s.jsx)("option",{value:"vip",children:"VIP (20%)"}),(0,s.jsx)("option",{value:"golden",children:"Golden (50%)"})]})})]},e.user_id)})})]})})}),(0,s.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",color:"rgba(255, 255, 255, 0.7)",fontSize:"13px",lineHeight:"1.6"},children:[(0,s.jsx)("strong",{style:{color:"#00F0FF"},children:"\ud83d\udca1 Tier Information:"}),(0,s.jsxs)("ul",{style:{marginTop:"0.5rem",paddingLeft:"1.5rem"},children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Standard (20%):"})," Default tier for all users. Earns 20% commission on referrals."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"VIP (20%):"})," Users who paid \xa3150 upgrade fee. Same commission, with priority support and exclusive features."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Golden (50%):"})," Manually assigned by admin. Earns 50% commission on all referral transactions."]})]})]})]})})}}}]);
//# sourceMappingURL=1997.2e77adbe.chunk.js.map