{"version":3,"file":"static/js/8895.66de9fbc.chunk.js","mappings":"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","sources":["components/ui/input.jsx","pages/AdminLogin.js"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  );\n})\nInput.displayName = \"Input\"\n\nexport { Input }\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Eye, EyeOff, IoEye, IoEyeOff, IoFlash, IoShield } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport { Toaster } from '@/components/ui/sonner';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = BACKEND_URL;\n\nexport default function AdminLogin() {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [adminCode, setAdminCode] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showCode, setShowCode] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    \n    if (!email || !password || !adminCode) {\n      toast.error('Please fill all fields');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      console.log('üîê Attempting admin login...', { email, adminCode });\n      \n      const response = await axios.post(`${API}/api/admin/login`, {\n        email,\n        password,\n        admin_code: adminCode,\n      });\n\n      console.log('üìä Admin login response:', response.data);\n\n      if (response.data.success) {\n        // Store admin user data\n        localStorage.setItem('admin_user', JSON.stringify(response.data.admin));\n        localStorage.setItem('cryptobank_user', JSON.stringify(response.data.admin));\n        \n        toast.success('Admin login successful!');\n        console.log('üöÄ Navigating to admin dashboard...');\n        \n        // Use window.location for guaranteed navigation\n        window.location.href = '/admin/dashboard';\n      } else {\n        console.error('‚ùå Login failed:', response.data);\n        toast.error(response.data.message || 'Login failed');\n      }\n    } catch (error) {\n      console.error('‚ùå Error logging in:', error);\n      toast.error(error.response?.data?.detail || 'Invalid credentials');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"admin-login-page\">\n      <Toaster position=\"top-right\" richColors />\n      \n      <div className=\"admin-login-container\">\n        <Card className=\"admin-login-card\">\n          <div className=\"admin-login-header\">\n            <div className=\"admin-logo\">\n              <IoShield size={48} className=\"admin-shield-icon\" />\n            </div>\n            <h1 className=\"admin-login-title\">Admin Access</h1>\n            <p className=\"admin-login-subtitle\">Business Owner Dashboard</p>\n          </div>\n\n          <form onSubmit={handleLogin} className=\"admin-login-form\">\n            <div className=\"input-group\">\n              <label htmlFor=\"email\">Email Address</label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"admin@cryptolend.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"admin-input\"\n                data-testid=\"admin-email-input\"\n              />\n            </div>\n\n            <div className=\"input-group\">\n              <label htmlFor=\"password\">Password</label>\n              <div className=\"password-input-wrapper\">\n                <Input\n                  id=\"password\"\n                  type={showPassword ? 'text' : 'password'}\n                  placeholder=\"Enter your password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"admin-input\"\n                  data-testid=\"admin-password-input\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowPassword(!showPassword)}\n                  className=\"password-toggle\"\n                >\n                  {showPassword ? <IoEyeOff size={20} /> : <IoEye size={20} />}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"input-group\">\n              <label htmlFor=\"admin-code\">Admin Code</label>\n              <div className=\"password-input-wrapper\">\n                <Input\n                  id=\"admin-code\"\n                  type={showCode ? 'text' : 'password'}\n                  placeholder=\"Enter admin access code\"\n                  value={adminCode}\n                  onChange={(e) => setAdminCode(e.target.value)}\n                  className=\"admin-input\"\n                  data-testid=\"admin-code-input\"\n                />\n                <button\n                  type=\"button\"\n                  onClick={() => setShowCode(!showCode)}\n                  className=\"password-toggle\"\n                >\n                  {showCode ? <IoEyeOff size={20} /> : <IoEye size={20} />}\n                </button>\n              </div>\n              <p className=\"input-hint\">Admin code: CRYPTOLEND_ADMIN_2025</p>\n            </div>\n\n            <div className=\"admin-notice\">\n              <p style={{ fontSize: '0.875rem', color: 'var(--text-secondary)', marginBottom: '0.5rem' }}>\n                <strong>Note:</strong> Use your registered account email ({email || 'gads21083@gmail.com'}) and password.\n              </p>\n              <p style={{ fontSize: '0.875rem', color: 'var(--warning)' }}>\n                First time? Register an account first, then login here with the admin code.\n              </p>\n            </div>\n\n            <Button\n              type=\"submit\"\n              disabled={loading}\n              className=\"admin-login-btn\"\n              data-testid=\"admin-login-btn\"\n            >\n              {loading ? 'Logging in...' : 'Access Dashboard'}\n            </Button>\n          </form>\n\n          <div className=\"admin-login-footer\">\n            <button onClick={() => navigate('/register')} className=\"register-link\" style={{ marginRight: '1rem', color: 'var(--accent-blue)' }}>\n              Create Account First ‚Üí\n            </button>\n            <button onClick={() => navigate('/')} className=\"back-link\">\n              ‚Üê Back to Platform\n            </button>\n          </div>\n        </Card>\n\n        <div className=\"admin-login-info\">\n          <div className=\"info-card\">\n            <IoFlash size={24} />\n            <h3>Business Owner Portal</h3>\n            <p>View all customers, manage disputes, and monitor platform activity</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Input","React","_ref","ref","className","type","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","displayName","API","process","AdminLogin","navigate","useNavigate","email","setEmail","useState","password","setPassword","adminCode","setAdminCode","showPassword","setShowPassword","showCode","setShowCode","loading","setLoading","_jsxs","children","Toaster","position","richColors","Card","IoShield","size","onSubmit","async","e","preventDefault","response","axios","post","concat","admin_code","data","success","localStorage","setItem","JSON","stringify","admin","toast","window","location","href","console","error","message","_error$response","_error$response$data","detail","htmlFor","id","placeholder","value","onChange","target","onClick","IoEyeOff","IoEye","style","fontSize","color","marginBottom","Button","disabled","marginRight","IoFlash"],"sourceRoot":""}