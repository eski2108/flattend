{"version":3,"file":"static/js/2961.0aa708b7.chunk.js","mappings":"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","sources":["pages/AdminSupport.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { IoChatbubbles, IoCheckmark as Check, IoCheckmarkCircle, IoPersonOutline, IoSend, IoTime } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = BACKEND_URL;\n\nexport default function AdminSupport() {\n  const navigate = useNavigate();\n  const [chats, setChats] = useState([]);\n  const [selectedChat, setSelectedChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [replyMessage, setReplyMessage] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check if user is admin\n    const userData = localStorage.getItem('cryptobank_user');\n    if (!userData) {\n      navigate('/admin-login');\n      return;\n    }\n\n    const user = JSON.parse(userData);\n    if (!user.is_admin) {\n      navigate('/');\n      return;\n    }\n\n    loadAllChats();\n    // Auto-refresh every 10 seconds\n    const interval = setInterval(loadAllChats, 10000);\n    return () => clearInterval(interval);\n  }, [navigate]);\n\n  const loadAllChats = async () => {\n    try {\n      const response = await axios.get(`${API}/admin/support-chats`);\n      if (response.data.success) {\n        setChats(response.data.chats);\n      }\n    } catch (error) {\n      console.error('Failed to load chats:', error);\n      toast.error('Failed to load support chats');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadChatMessages = async (chatId) => {\n    try {\n      const response = await axios.get(`${API}/admin/support-chat/${chatId}`);\n      if (response.data.success) {\n        setMessages(response.data.messages);\n        setSelectedChat(chatId);\n      }\n    } catch (error) {\n      console.error('Failed to load messages:', error);\n      toast.error('Failed to load messages');\n    }\n  };\n\n  const handleSendReply = async () => {\n    if (!replyMessage.trim() || !selectedChat) return;\n\n    try {\n      await axios.post(`${API}/admin/support-reply`, {\n        chat_id: selectedChat,\n        message: replyMessage\n      });\n\n      toast.success('Reply sent successfully');\n      setReplyMessage('');\n      loadChatMessages(selectedChat);\n    } catch (error) {\n      console.error('Failed to send reply:', error);\n      toast.error('Failed to send reply');\n    }\n  };\n\n  const markAsResolved = async (chatId) => {\n    try {\n      await axios.post(`${API}/admin/resolve-chat`, { chat_id: chatId });\n      toast.success('Chat marked as resolved');\n      loadAllChats();\n      setSelectedChat(null);\n      setMessages([]);\n    } catch (error) {\n      console.error('Failed to resolve chat:', error);\n      toast.error('Failed to resolve chat');\n    }\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'open': return '#F59E0B';\n      case 'in_progress': return '#3B82F6';\n      case 'resolved': return '#10B981';\n      case 'closed': return '#6B7280';\n      default: return '#888';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        color: '#fff'\n      }}>\n        <div>Loading support chats...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)',\n      padding: '2rem'\n    }}>\n      <div style={{ maxWidth: '1600px', margin: '0 auto' }}>\n        {/* Header */}\n        <div style={{ marginBottom: '2rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <div>\n            <h1 style={{\n              fontSize: '32px',\n              fontWeight: '900',\n              background: 'linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              marginBottom: '0.5rem'\n            }}>\n              Support Dashboard\n            </h1>\n            <p style={{ color: '#a0a0a0', fontSize: '16px' }}>\n              Manage customer support chats and inquiries\n            </p>\n          </div>\n          <Button onClick={() => navigate('/admin')}>\n            Back to Admin\n          </Button>\n        </div>\n\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 2fr', gap: '2rem' }}>\n          {/* Chat List */}\n          <div style={{\n            background: 'rgba(26, 31, 58, 0.8)',\n            border: '2px solid rgba(0, 240, 255, 0.2)',\n            borderRadius: '16px',\n            padding: '1.5rem',\n            maxHeight: '80vh',\n            overflowY: 'auto'\n          }}>\n            <h2 style={{\n              fontSize: '20px',\n              fontWeight: '700',\n              color: '#00F0FF',\n              marginBottom: '1rem'\n            }}>\n              Active Chats ({chats.length})\n            </h2>\n\n            {chats.length === 0 ? (\n              <p style={{ color: '#888', textAlign: 'center', padding: '2rem' }}>\n                No support chats yet\n              </p>\n            ) : (\n              chats.map(chat => (\n                <div\n                  key={chat.chat_id}\n                  onClick={() => loadChatMessages(chat.chat_id)}\n                  style={{\n                    background: selectedChat === chat.chat_id \n                      ? 'rgba(0, 240, 255, 0.2)' \n                      : 'rgba(0, 0, 0, 0.3)',\n                    border: selectedChat === chat.chat_id \n                      ? '2px solid #00F0FF' \n                      : '1px solid rgba(0, 240, 255, 0.1)',\n                    borderRadius: '12px',\n                    padding: '1rem',\n                    marginBottom: '1rem',\n                    cursor: 'pointer',\n                    transition: 'all 0.3s'\n                  }}\n                  onMouseEnter={(e) => {\n                    if (selectedChat !== chat.chat_id) {\n                      e.currentTarget.style.background = 'rgba(0, 240, 255, 0.1)';\n                    }\n                  }}\n                  onMouseLeave={(e) => {\n                    if (selectedChat !== chat.chat_id) {\n                      e.currentTarget.style.background = 'rgba(0, 0, 0, 0.3)';\n                    }\n                  }}\n                >\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem' }}>\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                      <IoPersonOutline size={16} color=\"#00F0FF\" />\n                      <span style={{ color: '#fff', fontWeight: '600' }}>\n                        {chat.user_name || `User ${chat.user_id.substring(0, 8)}`}\n                      </span>\n                    </div>\n                    <span style={{\n                      background: getStatusColor(chat.status),\n                      color: '#000',\n                      padding: '4px 8px',\n                      borderRadius: '6px',\n                      fontSize: '11px',\n                      fontWeight: '700',\n                      textTransform: 'uppercase'\n                    }}>\n                      {chat.status}\n                    </span>\n                  </div>\n                  <div style={{ fontSize: '12px', color: '#888' }}>\n                    <IoTime size={12} style={{ display: 'inline', marginRight: '4px' }} />\n                    {formatDate(chat.created_at)}\n                  </div>\n                  {chat.last_message && (\n                    <div style={{\n                      fontSize: '13px',\n                      color: '#aaa',\n                      marginTop: '0.5rem',\n                      overflow: 'hidden',\n                      textOverflow: 'ellipsis',\n                      whiteSpace: 'nowrap'\n                    }}>\n                      {chat.last_message}\n                    </div>\n                  )}\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* Chat Messages */}\n          <div style={{\n            background: 'rgba(26, 31, 58, 0.8)',\n            border: '2px solid rgba(0, 240, 255, 0.2)',\n            borderRadius: '16px',\n            padding: '1.5rem',\n            display: 'flex',\n            flexDirection: 'column',\n            maxHeight: '80vh'\n          }}>\n            {!selectedChat ? (\n              <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '100%',\n                color: '#888',\n                fontSize: '18px'\n              }}>\n                <IoChatbubbles size={48} style={{ marginRight: '1rem' }} />\n                Select a chat to view messages\n              </div>\n            ) : (\n              <>\n                {/* Messages Area */}\n                <div style={{\n                  flex: 1,\n                  overflowY: 'auto',\n                  marginBottom: '1rem',\n                  padding: '1rem'\n                }}>\n                  {messages.map((msg, idx) => (\n                    <div\n                      key={idx}\n                      style={{\n                        display: 'flex',\n                        justifyContent: msg.sender === 'user' ? 'flex-start' : 'flex-end',\n                        marginBottom: '1rem'\n                      }}\n                    >\n                      <div style={{\n                        background: msg.sender === 'user' \n                          ? 'rgba(0, 240, 255, 0.2)' \n                          : 'rgba(168, 85, 247, 0.2)',\n                        border: `1px solid ${msg.sender === 'user' ? '#00F0FF' : '#A855F7'}`,\n                        borderRadius: '12px',\n                        padding: '0.75rem 1rem',\n                        maxWidth: '70%'\n                      }}>\n                        <div style={{\n                          fontSize: '11px',\n                          color: '#888',\n                          marginBottom: '0.25rem',\n                          fontWeight: '600'\n                        }}>\n                          {msg.sender === 'user' ? 'Customer' : 'Support Team'}\n                        </div>\n                        <div style={{ color: '#fff', fontSize: '14px' }}>\n                          {msg.message}\n                        </div>\n                        <div style={{\n                          fontSize: '10px',\n                          color: '#666',\n                          marginTop: '0.25rem',\n                          textAlign: 'right'\n                        }}>\n                          {formatDate(msg.created_at)}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {/* Reply Input */}\n                <div style={{ borderTop: '1px solid rgba(0, 240, 255, 0.2)', paddingTop: '1rem' }}>\n                  <div style={{ display: 'flex', gap: '1rem', marginBottom: '1rem' }}>\n                    <textarea\n                      value={replyMessage}\n                      onChange={(e) => setReplyMessage(e.target.value)}\n                      placeholder=\"Type your reply...\"\n                      rows={3}\n                      style={{\n                        flex: 1,\n                        background: 'rgba(0, 0, 0, 0.4)',\n                        border: '1px solid rgba(0, 240, 255, 0.3)',\n                        borderRadius: '8px',\n                        padding: '0.75rem',\n                        color: '#fff',\n                        fontSize: '14px',\n                        resize: 'none'\n                      }}\n                      onKeyPress={(e) => {\n                        if (e.key === 'Enter' && e.ctrlKey) {\n                          handleSendReply();\n                        }\n                      }}\n                    />\n                    <button\n                      onClick={handleSendReply}\n                      disabled={!replyMessage.trim()}\n                      style={{\n                        background: replyMessage.trim() \n                          ? 'linear-gradient(135deg, #00F0FF, #A855F7)' \n                          : 'rgba(100, 100, 100, 0.3)',\n                        border: 'none',\n                        borderRadius: '8px',\n                        padding: '1rem',\n                        cursor: replyMessage.trim() ? 'pointer' : 'not-allowed',\n                        color: '#fff',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '0.5rem'\n                      }}\n                    >\n                      <IoSend size={20} />\n                      Send\n                    </button>\n                  </div>\n                  <button\n                    onClick={() => markAsResolved(selectedChat)}\n                    style={{\n                      background: 'linear-gradient(135deg, #10B981, #059669)',\n                      border: 'none',\n                      borderRadius: '8px',\n                      padding: '0.75rem 1.5rem',\n                      cursor: 'pointer',\n                      color: '#fff',\n                      fontSize: '14px',\n                      fontWeight: '700',\n                      display: 'flex',\n                      alignItems: 'center',\n                      gap: '0.5rem'\n                    }}\n                  >\n                    <IoCheckmarkCircle size={16} />\n                    Mark as Resolved\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["API","process","AdminSupport","navigate","useNavigate","chats","setChats","useState","selectedChat","setSelectedChat","messages","setMessages","replyMessage","setReplyMessage","loading","setLoading","useEffect","userData","localStorage","getItem","JSON","parse","is_admin","loadAllChats","interval","setInterval","clearInterval","async","response","axios","get","concat","data","success","error","console","toast","loadChatMessages","chatId","handleSendReply","trim","post","chat_id","message","formatDate","dateString","Date","toLocaleString","getStatusColor","status","_jsx","style","minHeight","background","display","alignItems","justifyContent","color","children","padding","_jsxs","maxWidth","margin","marginBottom","fontSize","fontWeight","WebkitBackgroundClip","WebkitTextFillColor","Button","onClick","gridTemplateColumns","gap","border","borderRadius","maxHeight","overflowY","length","textAlign","map","chat","cursor","transition","onMouseEnter","e","currentTarget","onMouseLeave","IoPersonOutline","size","user_name","user_id","substring","textTransform","IoTime","marginRight","created_at","last_message","marginTop","overflow","textOverflow","whiteSpace","flexDirection","_Fragment","flex","msg","idx","sender","borderTop","paddingTop","value","onChange","target","placeholder","rows","resize","onKeyPress","key","ctrlKey","disabled","IoSend","markAsResolved","IoCheckmarkCircle","height","IoChatbubbles"],"sourceRoot":""}