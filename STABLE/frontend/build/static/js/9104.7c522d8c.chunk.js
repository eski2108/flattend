"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9104],{9104:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var a=t(5043),l=t(8163),n=t(9722),i=t(6328),o=t(221),s=t(579);const d="https://p2pdispute.preview.emergentagent.com",c={"P2P FEES":[{key:"p2p_maker_fee_percent",label:"1. P2P Maker Fee",type:"percent"},{key:"p2p_taker_fee_percent",label:"2. P2P Taker Fee",type:"percent"},{key:"p2p_express_fee_percent",label:"3. P2P Express Fee",type:"percent"}],"INSTANT BUY/SELL & SWAP":[{key:"instant_buy_fee_percent",label:"4. Instant Buy Fee",type:"percent"},{key:"instant_sell_fee_percent",label:"5. Instant Sell Fee",type:"percent"},{key:"swap_fee_percent",label:"6. Swap Fee",type:"percent"}],"WITHDRAWAL & DEPOSIT":[{key:"withdrawal_fee_percent",label:"7. Withdrawal Fee",type:"percent"},{key:"network_withdrawal_fee_percent",label:"8. Network Withdrawal Fee",type:"percent",note:"Added to gas"},{key:"fiat_withdrawal_fee_percent",label:"9. Fiat Withdrawal Fee",type:"percent"},{key:"deposit_fee_percent",label:"10. Deposit Fee",type:"percent",note:"FREE (must stay 0%)"}],"SAVINGS/STAKING":[{key:"savings_stake_fee_percent",label:"11. Savings Stake Fee",type:"percent"},{key:"early_unstake_penalty_percent",label:"12. Early Unstake Penalty",type:"percent"}],TRADING:[{key:"trading_fee_percent",label:"13. Trading Fee",type:"percent"}],DISPUTE:[{key:"dispute_fee_fixed_gbp",label:"14. Dispute Fee (Fixed)",type:"flat",note:"\xa32 or 1% (whichever higher)"},{key:"dispute_fee_percent",label:"14. Dispute Fee (Percent)",type:"percent"}],"INTERNAL TRANSFERS":[{key:"vault_transfer_fee_percent",label:"15. Vault Transfer Fee",type:"percent"},{key:"cross_wallet_transfer_fee_percent",label:"16. Cross-Wallet Transfer Fee",type:"percent"}],"LIQUIDITY PROFITS":[{key:"admin_liquidity_spread_percent",label:"17. Admin Liquidity Spread",type:"percent",note:"Variable, auto-calculated"},{key:"express_liquidity_profit_percent",label:"18. Express Liquidity Profit",type:"percent",note:"Variable, auto-calculated"}],"REFERRAL COMMISSIONS":[{key:"referral_standard_commission_percent",label:"Standard Referral (20%)",type:"percent",isReferral:!0,note:"PAYOUT to referrer, NOT a fee"},{key:"referral_golden_commission_percent",label:"Golden Referral (50%)",type:"percent",isReferral:!0,note:"PAYOUT to referrer, NOT a fee"}]};function p(){const e=(0,l.Zp)(),[r,t]=(0,a.useState)(!0),[p,f]=(0,a.useState)("fees"),[y,g]=(0,a.useState)({}),[m,x]=(0,a.useState)(null),[u,h]=(0,a.useState)(""),[b,F]=(0,a.useState)({today:0,week:0,month:0,allTime:0,breakdown:{}}),[v,k]=(0,a.useState)({newToday:0,newWeek:0,newMonth:0,totalUsers:0,activeUsers24h:0}),[j,S]=(0,a.useState)({totalReferrals:0,activeReferrals:0,totalCommissions:0,pendingCommissions:0}),[_,A]=(0,a.useState)("all");(0,a.useEffect)(()=>{const r=localStorage.getItem("cryptobank_user");if(!r)return void e("/admin/login");JSON.parse(r).is_admin?w():e("/")},[e,_]);const w=async()=>{t(!0);try{await Promise.all([R(),C(),T(),E()])}catch(e){console.error("Error loading dashboard data:",e)}finally{t(!1)}},R=async()=>{try{const e=await n.A.get("".concat(d,"/api/admin/fees/all"));e.data.success&&g(e.data.fees)}catch(e){console.error("Failed to load fees:",e)}},C=async()=>{try{const e=await n.A.get("".concat(d,"/api/admin/revenue/complete?period=").concat(_));e.data.success&&F(e.data.revenue)}catch(e){console.error("Failed to load revenue data:",e)}},T=async()=>{try{const e=await n.A.get("".concat(d,"/api/admin/customer-analytics"));e.data.success&&k(e.data.analytics)}catch(e){console.error("Failed to load customer data:",e)}},E=async()=>{try{const e=await n.A.get("".concat(d,"/api/admin/referral-analytics"));e.data.success&&S(e.data.referrals)}catch(e){console.error("Failed to load referral data:",e)}},W=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e||0);return r?(0,s.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#00F0FF"},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)(o.a4n,{size:48,style:{animation:"spin 1s linear infinite"}}),(0,s.jsx)("div",{style:{marginTop:"1rem",fontSize:"18px"},children:"Loading Business Dashboard..."})]})}):(0,s.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%)",padding:"2rem"},children:(0,s.jsxs)("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:[(0,s.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:{fontSize:"32px",fontWeight:"900",background:"linear-gradient(135deg, #00F0FF 0%, #A855F7 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"0.5rem"},children:"Business Dashboard - 18 Revenue Streams"}),(0,s.jsx)("p",{style:{color:"#A3AEC2",fontSize:"15px"},children:"Complete fee control - all changes apply instantly"})]}),(0,s.jsxs)("button",{onClick:w,style:{padding:"12px 24px",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"12px",color:"#000",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(o.a4n,{size:18}),"Refresh All"]})]}),(0,s.jsx)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",overflowX:"auto",paddingBottom:"1rem",scrollbarWidth:"thin"},children:[{id:"fees",label:"Fee Management (18)",icon:o.ikl},{id:"revenue",label:"Revenue Analytics",icon:o.AaD},{id:"customers",label:"Customers",icon:o.GvN},{id:"referrals",label:"Referrals",icon:o.BOd}].map(e=>{const r=e.icon;return(0,s.jsxs)("button",{onClick:()=>f(e.id),style:{padding:"12px 20px",background:p===e.id?"linear-gradient(135deg, #00F0FF, #A855F7)":"rgba(255,255,255,0.05)",border:"2px solid ".concat(p===e.id?"transparent":"rgba(255,255,255,0.1)"),borderRadius:"12px",color:p===e.id?"#000":"#fff",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[(0,s.jsx)(r,{size:18}),e.label]},e.id)})}),"fees"===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1rem"},children:"18 Revenue Streams - Fee Management"}),(0,s.jsx)("p",{style:{color:"#A3AEC2",marginBottom:"2rem"},children:"Edit fees below - changes apply instantly to P2P, Swap, Instant Buy/Sell, Withdrawals, Savings, Trading, and all transactions."}),Object.entries(c).map(e=>{let[r,t]=e;return(0,s.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#00F0FF",marginBottom:"1rem",textTransform:"uppercase",letterSpacing:"1px"},children:r}),(0,s.jsx)("div",{style:{display:"grid",gap:"1rem"},children:t.map(e=>{const r=y[e.key]||0,t=m===e.key;return(0,s.jsxs)("div",{style:{background:e.isReferral?"rgba(168,85,247,0.1)":"rgba(255,255,255,0.03)",border:"2px solid ".concat(e.isReferral?"rgba(168,85,247,0.3)":"rgba(255,255,255,0.1)"),borderRadius:"12px",padding:"1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[(0,s.jsxs)("div",{style:{flex:"1",minWidth:"250px"},children:[(0,s.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#fff",marginBottom:"0.25rem"},children:e.label}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#A3AEC2",marginBottom:"0.25rem"},children:["Current: ","flat"===e.type?"\xa3".concat(r.toFixed(2)):"".concat(r,"%")]}),e.note&&(0,s.jsx)("div",{style:{fontSize:"13px",color:e.isReferral?"#A855F7":"#F59E0B",marginTop:"0.25rem"},children:e.note})]}),e.isReferral?(0,s.jsx)("div",{style:{padding:"8px 16px",background:"rgba(168,85,247,0.2)",borderRadius:"8px",color:"#A855F7",fontWeight:"600",fontSize:"14px"},children:"Tracking Only"}):(0,s.jsx)(s.Fragment,{children:t?(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,s.jsx)("input",{type:"number",step:"flat"===e.type?"0.01":"0.1",value:u,onChange:e=>h(e.target.value),placeholder:"flat"===e.type?"GBP":"%",style:{padding:"8px 12px",background:"rgba(0,0,0,0.3)",border:"2px solid rgba(0,240,255,0.3)",borderRadius:"8px",color:"#fff",width:"100px"}}),(0,s.jsx)("button",{onClick:()=>(async(e,r)=>{try{(await n.A.post("".concat(d,"/api/admin/fees/update"),{fee_type:e,value:parseFloat(r)})).data.success&&(i.oR.success("Fee updated - changes applied everywhere"),x(null),h(""),await R(),await C())}catch(t){i.oR.error("Failed to update fee")}})(e.key,u),style:{padding:"8px 12px",background:"#22C55E",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:(0,s.jsx)(o.KDk,{size:18})}),(0,s.jsx)("button",{onClick:()=>{x(null),h("")},style:{padding:"8px 12px",background:"#EF4444",border:"none",borderRadius:"8px",color:"#fff",fontWeight:"700",cursor:"pointer"},children:(0,s.jsx)(o.$8F,{size:18})})]}):(0,s.jsxs)("button",{onClick:()=>{x(e.key),h(r.toString())},style:{padding:"8px 16px",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)(o.fDc,{size:16}),"Edit"]})})]},e.key)})})]},r)}),(0,s.jsxs)("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(0,240,255,0.1)",border:"2px solid rgba(0,240,255,0.3)",borderRadius:"12px"},children:[(0,s.jsx)("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.75rem"},children:"\u2705 All Fees Route to Admin Wallet"}),(0,s.jsxs)("ul",{style:{fontSize:"14px",color:"#A3AEC2",lineHeight:"1.8",paddingLeft:"1.5rem"},children:[(0,s.jsx)("li",{children:"All 18 fees go directly to your admin wallet"}),(0,s.jsx)("li",{children:"EXCEPT: Referral commissions (20%/50%) paid to referrers from your profit"}),(0,s.jsx)("li",{children:"Edit any fee here - changes apply instantly across entire platform"}),(0,s.jsx)("li",{children:"No code deployment needed"})]})]})]}),"revenue"===p&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff"},children:"Revenue Analytics"}),(0,s.jsx)("div",{style:{display:"flex",gap:"0.5rem"},children:["day","week","month","all"].map(e=>(0,s.jsx)("button",{onClick:()=>A(e),style:{padding:"8px 16px",background:_===e?"#00F0FF":"rgba(255,255,255,0.05)",border:"none",borderRadius:"8px",color:_===e?"#000":"#fff",fontWeight:"600",cursor:"pointer"},children:e.toUpperCase()},e))})]}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[{label:"Today",value:b.today,color:"#00F0FF"},{label:"7 Days",value:b.week,color:"#A855F7"},{label:"30 Days",value:b.month,color:"#22C55E"},{label:"All Time",value:b.allTime,color:"#F59E0B"}].map((e,r)=>(0,s.jsxs)("div",{style:{background:"rgba(".concat("#00F0FF"===e.color?"0,240,255":"#A855F7"===e.color?"168,85,247":"#22C55E"===e.color?"34,197,94":"245,158,11",",0.1)"),border:"2px solid rgba(".concat("#00F0FF"===e.color?"0,240,255":"#A855F7"===e.color?"168,85,247":"#22C55E"===e.color?"34,197,94":"245,158,11",",0.3)"),borderRadius:"16px",padding:"1.5rem"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",color:"#A3AEC2",marginBottom:"0.5rem"},children:e.label}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:e.color},children:W(e.value)})]},r))})]}),"customers"===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1.5rem"},children:"Customer Analytics"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[{label:"New Today",value:v.newToday,color:"#00F0FF"},{label:"New This Week",value:v.newWeek,color:"#A855F7"},{label:"Total Users",value:v.totalUsers,color:"#22C55E"},{label:"Active (24h)",value:v.activeUsers24h,color:"#F59E0B"}].map((e,r)=>(0,s.jsxs)("div",{style:{background:"rgba(255,255,255,0.03)",border:"2px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"1.5rem"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",color:"#A3AEC2",marginBottom:"0.5rem"},children:e.label}),(0,s.jsx)("div",{style:{fontSize:"28px",fontWeight:"900",color:e.color},children:e.value||0})]},r))})]}),"referrals"===p&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1.5rem"},children:"Referral Tracking"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[{label:"Total Referrals",value:j.totalReferrals,color:"#00F0FF"},{label:"Active Referrals",value:j.activeReferrals,color:"#A855F7"},{label:"Total Commissions",value:W(j.totalCommissions),color:"#EF4444",isCurrency:!0},{label:"Pending Commissions",value:W(j.pendingCommissions),color:"#F59E0B",isCurrency:!0}].map((e,r)=>(0,s.jsxs)("div",{style:{background:"rgba(255,255,255,0.03)",border:"2px solid rgba(255,255,255,0.1)",borderRadius:"12px",padding:"1.5rem"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",color:"#A3AEC2",marginBottom:"0.5rem"},children:e.label}),(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:e.color},children:e.isCurrency?e.value:e.value||0})]},r))}),(0,s.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168,85,247,0.1)",border:"2px solid rgba(168,85,247,0.3)",borderRadius:"12px"},children:[(0,s.jsx)("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#A855F7",marginBottom:"0.5rem"},children:"Referral System"}),(0,s.jsxs)("p",{style:{fontSize:"14px",color:"#A3AEC2",lineHeight:"1.6"},children:["\u2022 Standard: 20% of fees generated by invitees",(0,s.jsx)("br",{}),"\u2022 Golden: 50% of fees generated by invitees",(0,s.jsx)("br",{}),"\u2022 Commissions paid FROM your profit TO referrers",(0,s.jsx)("br",{}),"\u2022 All referrals tracked here for transparency"]})]})]})]})})}}}]);
//# sourceMappingURL=9104.7c522d8c.chunk.js.map