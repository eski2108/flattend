{"version":3,"file":"static/js/6615.0dc5cb7a.chunk.js","mappings":"wKAKA,MAAMA,EAAMC,sDAEG,SAASC,EAAQC,GAQ5B,IAR6B,OAC/BC,EAAM,QACNC,EAAO,SACPC,EAAQ,MACRC,EAAQ,aAAY,YACpBC,EAAc,4CAA2C,OACzDC,EAAM,OACNC,EAAS,WACVP,EACC,MAAOQ,EAAKC,IAAUC,EAAAA,EAAAA,UAAS,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,MAC7CC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAYC,IAAiBJ,EAAAA,EAAAA,WAAS,IACtCK,EAAWC,IAAgBN,EAAAA,EAAAA,UAAS,IAE3CO,EAAAA,EAAAA,WAAU,KACR,GAAIF,EAAY,EAAG,CACjB,MAAMG,EAAQC,WAAW,IAAMH,EAAaD,EAAY,GAAI,KAC5D,MAAO,IAAMK,aAAaF,EAC5B,GACC,CAACH,KAEJE,EAAAA,EAAAA,WAAU,KACJhB,GAAUK,GACZe,KAED,CAACpB,EAAQK,IAEZ,MAAMe,EAAUC,UACd,GAAKhB,EAAL,CAKAQ,GAAc,GACd,IACE,MAAMS,QAAiBC,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,sBAAsB,CAC5D8B,QAASrB,EACTC,OAAQA,IAGNgB,EAASK,KAAKC,SAChBC,EAAAA,GAAMD,QAAQ,0BACdb,EAAa,KAEbc,EAAAA,GAAMC,MAAMR,EAASK,KAAKI,SAAW,qBAEzC,CAAE,MAAOD,GAAQ,IAADE,EAAAC,EACdC,QAAQJ,MAAM,qBAAsBA,GACpCD,EAAAA,GAAMC,OAAoB,QAAdE,EAAAF,EAAMR,gBAAQ,IAAAU,GAAM,QAANC,EAAdD,EAAgBL,YAAI,IAAAM,OAAN,EAAdA,EAAsBF,UAAW,qBAC/C,CAAC,QACClB,GAAc,EAChB,CApBA,MAFEgB,EAAAA,GAAMC,MAAM,qBAsFVK,EAAcA,KAClB3B,EAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,KAC5BO,EAAa,GACbd,KAGF,OAAKD,GAGHoC,EAAAA,EAAAA,KAAA,OACEC,MAAO,CACLC,SAAU,QACVC,IAAK,EACLC,KAAM,EACNC,MAAO,EACPC,OAAQ,EACRC,gBAAiB,qBACjBC,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBC,OAAQ,KACRC,eAAgB,aAElBC,QAASd,EAAYe,UAErBC,EAAAA,EAAAA,MAAA,OACEd,MAAO,CACLe,WAAY,+EACZC,aAAc,OACdC,QAAS,SACTC,MAAO,MACPC,SAAU,QACVC,OAAQ,mCACRC,UAAW,mEAEbT,QAAUU,GAAMA,EAAEC,kBAAkBV,SAAA,EAGpCC,EAAAA,EAAAA,MAAA,OAAKd,MAAO,CAAEO,QAAS,OAAQE,eAAgB,gBAAiBD,WAAY,SAAUgB,aAAc,UAAWX,SAAA,EAC7GC,EAAAA,EAAAA,MAAA,OAAKd,MAAO,CAAEO,QAAS,OAAQC,WAAY,SAAUiB,IAAK,WAAYZ,SAAA,EACpEd,EAAAA,EAAAA,KAAC2B,EAAAA,IAAQ,CAACC,KAAM,GAAIC,MAAM,UAAUC,YAAa,OACjD9B,EAAAA,EAAAA,KAAA,MAAIC,MAAO,CAAE4B,MAAO,OAAQE,SAAU,UAAWC,WAAY,MAAOC,OAAQ,GAAInB,SAAE/C,QAEpFiC,EAAAA,EAAAA,KAAA,UACEa,QAASd,EACTE,MAAO,CACLe,WAAY,OACZK,OAAQ,OACRQ,MAAO,UACPK,OAAQ,UACRhB,QAAS,SACTV,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBO,aAAc,MACdkB,WAAY,YAEdC,aAAeb,IACbA,EAAEc,cAAcpC,MAAMM,gBAAkB,2BACxCgB,EAAEc,cAAcpC,MAAM4B,MAAQ,QAEhCS,aAAef,IACbA,EAAEc,cAAcpC,MAAMM,gBAAkB,cACxCgB,EAAEc,cAAcpC,MAAM4B,MAAQ,WAC9Bf,UAEFd,EAAAA,EAAAA,KAACuC,EAAAA,IAAO,CAACX,KAAM,WAKnB5B,EAAAA,EAAAA,KAAA,KAAGC,MAAO,CAAE4B,MAAO,UAAWE,SAAU,YAAaN,aAAc,OAAQe,WAAY,OAAQ1B,SAAE9C,KAGjGgC,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEO,QAAS,OAAQkB,IAAK,UAAWhB,eAAgB,SAAUe,aAAc,QAASX,SAC7F3C,EAAIsE,IAAI,CAACC,EAAOC,KACf3C,EAAAA,EAAAA,KAAA,SAEE4C,GAAE,OAAAvD,OAASsD,GACXE,KAAK,OACLC,UAAU,UACVC,UAAU,IACVC,MAAON,EACPO,SAAW1B,GAhJC2B,EAACP,EAAOK,KAK9B,GAJIA,EAAMG,OAAS,IACjBH,EAAQA,EAAMI,OAAO,KAGlB,QAAQC,KAAKL,GAChB,OAGF,MAAMM,EAAS,IAAInF,GAKnB,GAJAmF,EAAOX,GAASK,EAChB5E,EAAOkF,GAGHN,GAASL,EAAQ,EAAG,CACtB,MAAMY,EAAYC,SAASC,eAAe,OAADpE,OAAQsD,EAAQ,IACrDY,GAAWA,EAAUG,OAC3B,GA+H2BR,CAAgBP,EAAOpB,EAAEoC,OAAOX,OACjDY,UAAYrC,GA7HFsC,EAAClB,EAAOpB,KAC5B,GAAc,cAAVA,EAAEuC,MAAwB3F,EAAIwE,IAAUA,EAAQ,EAAG,CACrD,MAAMoB,EAAYP,SAASC,eAAe,OAADpE,OAAQsD,EAAQ,IACrDoB,GAAWA,EAAUL,OAC3B,GAyH4BG,CAAclB,EAAOpB,GACvCtB,MAAO,CACLkB,MAAO,SACP6C,OAAQ,OACRjC,SAAU,UACVC,WAAY,MACZiC,UAAW,SACX1D,gBAAiB,qBACjBc,OAAQ,mCACRJ,aAAc,OACdY,MAAO,UACPqC,QAAS,OACT/B,WAAY,WACZgC,WAAY,aAEdC,QAAU7C,IACRA,EAAEc,cAAcpC,MAAMoE,YAAc,UACpC9C,EAAEc,cAAcpC,MAAMqB,UAAY,kCAClCC,EAAEc,cAAcpC,MAAMqE,UAAY,eAEpCC,OAAShD,IACPA,EAAEc,cAAcpC,MAAMoE,YAAc,yBACpC9C,EAAEc,cAAcpC,MAAMqB,UAAY,OAClCC,EAAEc,cAAcpC,MAAMqE,UAAY,aA9B/B3B,OAqCX3C,EAAAA,EAAAA,KAAA,OAAKC,MAAO,CAAEgE,UAAW,SAAUxC,aAAc,QAASX,SACvDpC,EAAY,GACXqC,EAAAA,EAAAA,MAAA,KAAGd,MAAO,CAAE4B,MAAO,UAAWE,SAAU,aAAcjB,SAAA,CAAC,kBACvCC,EAAAA,EAAAA,MAAA,QAAMd,MAAO,CAAE4B,MAAO,UAAWG,WAAY,OAAQlB,SAAA,CAAEpC,EAAU,WAGjFqC,EAAAA,EAAAA,MAAA,UACEF,QAAS7B,EACTwF,SAAUhG,EACVyB,MAAO,CACLe,WAAY,OACZK,OAAQ,mCACRQ,MAAO,UACPE,SAAU,YACVC,WAAY,MACZE,OAAQ,UACR1B,QAAS,OACTC,WAAY,SACZiB,IAAK,SACLO,OAAQ,SACRf,QAAS,iBACTD,aAAc,OACdkB,WAAY,YAEdC,aAAeb,IACbA,EAAEc,cAAcpC,MAAMM,gBAAkB,yBACxCgB,EAAEc,cAAcpC,MAAMoE,YAAc,yBACpC9C,EAAEc,cAAcpC,MAAMqB,UAAY,mCAEpCgB,aAAef,IACbA,EAAEc,cAAcpC,MAAMM,gBAAkB,cACxCgB,EAAEc,cAAcpC,MAAMoE,YAAc,yBACpC9C,EAAEc,cAAcpC,MAAMqB,UAAY,QAClCR,SAAA,EAEFd,EAAAA,EAAAA,KAACyE,EAAAA,IAAS,CAAC7C,KAAM,GAAI3B,MAAO,CAAEyE,UAAWlG,EAAa,0BAA4B,UACjFA,EAAa,aAAe,mBAMnCwB,EAAAA,EAAAA,KAAA,UACEa,QA/La5B,UACnB,MAAM0F,EAAUxG,EAAIyG,KAAK,IACzB,GAAuB,IAAnBD,EAAQxB,OAAZ,CAKA5E,GAAW,GACX,IACE,MAAMW,QAAiBC,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,wBAAwB,CAC9D8B,QAASrB,EACT4G,SAAUF,EACVzG,OAAQA,IAOF,IAAD4G,EAJP,GAAI5F,EAASK,KAAKC,QAChBC,EAAAA,GAAMD,QAAQ,6BACd1B,EAAS6G,GACT5E,SAEAN,EAAAA,GAAMC,MAAMR,EAASK,KAAKI,SAAW,eACrCvB,EAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,KACI,QAAhC0G,EAAAtB,SAASC,eAAe,gBAAQ,IAAAqB,GAAhCA,EAAkCpB,OAEtC,CAAE,MAAOhE,GAAQ,IAADqF,EAAAC,EAAAC,EACdnF,QAAQJ,MAAM,uBAAwBA,GACtCD,EAAAA,GAAMC,OAAoB,QAAdqF,EAAArF,EAAMR,gBAAQ,IAAA6F,GAAM,QAANC,EAAdD,EAAgBxF,YAAI,IAAAyF,OAAN,EAAdA,EAAsBrF,UAAW,eAC7CvB,EAAO,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,KACI,QAAhC6G,EAAAzB,SAASC,eAAe,gBAAQ,IAAAwB,GAAhCA,EAAkCvB,OACpC,CAAC,QACCnF,GAAW,EACb,CA1BA,MAFEkB,EAAAA,GAAMC,MAAM,8BA6LR8E,SAAUlG,GAAmC,IAAxBH,EAAIyG,KAAK,IAAIzB,OAClClD,MAAO,CACLkB,MAAO,OACPD,QAAS,WACTF,WAAoC,IAAxB7C,EAAIyG,KAAK,IAAIzB,OAAe,4CAA8C,wBACtFtB,MAAO,OACPR,OAAQ,OACRJ,aAAc,OACdc,SAAU,YACVC,WAAY,MACZE,OAAgC,IAAxB/D,EAAIyG,KAAK,IAAIzB,OAAe,UAAY,cAChD+B,QAAiC,IAAxB/G,EAAIyG,KAAK,IAAIzB,OAAe,EAAI,GACzChB,WAAY,WACZb,UAAmC,IAAxBnD,EAAIyG,KAAK,IAAIzB,OAAe,kCAAoC,OAC3EjD,SAAU,WACViF,SAAU,UAEZ/C,aAAeb,IACe,IAAxBpD,EAAIyG,KAAK,IAAIzB,SACf5B,EAAEc,cAAcpC,MAAMqE,UAAY,mBAClC/C,EAAEc,cAAcpC,MAAMqB,UAAY,oCAGtCgB,aAAef,IACbA,EAAEc,cAAcpC,MAAMqE,UAAY,gBAClC/C,EAAEc,cAAcpC,MAAMqB,UAAoC,IAAxBnD,EAAIyG,KAAK,IAAIzB,OAAe,kCAAoC,QAClGrC,SAEDxC,EAAU,eAAiB,gBAG9B0B,EAAAA,EAAAA,KAAA,SAAAc,SAAA,4JAvLc,IAgMtB,C,gIC3TA,MAAMtD,EAAMC,sDAEG,SAAS2H,EAAYzH,GAA0D,IAAzD,OAAEC,EAAM,QAAEC,EAAO,QAAEwH,EAAO,OAAEpH,EAAM,iBAAEqH,GAAkB3H,EACzF,MAAO4H,EAAQC,IAAanH,EAAAA,EAAAA,UAAS,KAC9BL,EAAayH,IAAkBpH,EAAAA,EAAAA,UAAS,KACxCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,GAwCvC,OAAKT,GAGHoC,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,uFAAsF5E,UACnGC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,iFAAgF5E,SAAA,EAE7Fd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,gEAA+D5E,UAC5EC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,oCAAmC5E,SAAA,EAChDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0BAAyB5E,SAAA,EACtCd,EAAAA,EAAAA,KAAC2F,EAAAA,IAAS,CAACD,UAAU,wBACrB1F,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,gCAA+B5E,SAAC,qBAEhDd,EAAAA,EAAAA,KAAA,UACEa,QAAShD,EACT6H,UAAU,mDAAkD5E,UAE5Dd,EAAAA,EAAAA,KAACuC,EAAAA,IAAO,CAACmD,UAAU,oBAMzB1F,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wDAAuD5E,UACpEC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,yBAAwB5E,SAAA,EACrCd,EAAAA,EAAAA,KAAC4F,EAAAA,IAAa,CAACF,UAAU,kDACzB3E,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,KAAG0F,UAAU,qCAAoC5E,SAAC,wBAClDd,EAAAA,EAAAA,KAAA,KAAG0F,UAAU,wBAAuB5E,SAAC,4JAS3CC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,gBAAe5E,SAAA,EAE5BC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,SAAO0F,UAAU,yCAAwC5E,SAAC,0BAG1DC,EAAAA,EAAAA,MAAA,UACEiC,MAAOuC,EACPtC,SAAW1B,GAAMiE,EAAUjE,EAAEoC,OAAOX,OACpC0C,UAAU,yHAAwH5E,SAAA,EAElId,EAAAA,EAAAA,KAAA,UAAQgD,MAAM,GAAElC,SAAC,uBArFP,CACpB,CAAEkC,MAAO,uBAAwB6C,MAAO,wBACxC,CAAE7C,MAAO,eAAgB6C,MAAO,yBAChC,CAAE7C,MAAO,sBAAuB6C,MAAO,uBACvC,CAAE7C,MAAO,eAAgB6C,MAAO,kBAChC,CAAE7C,MAAO,QAAS6C,MAAO,gBAiFApD,IAAIqD,IACjB9F,EAAAA,EAAAA,KAAA,UAAwBgD,MAAO8C,EAAI9C,MAAMlC,SAAEgF,EAAID,OAAlCC,EAAI9C,eAMvBjC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,SAAO0F,UAAU,yCAAwC5E,SAAC,4BAG1Dd,EAAAA,EAAAA,KAAA,YACEgD,MAAOhF,EACPiF,SAAW1B,GAAMkE,EAAelE,EAAEoC,OAAOX,OACzC+C,YAAY,6GACZC,KAAM,EACNN,UAAU,wIAEZ3E,EAAAA,EAAAA,MAAA,KAAG2E,UAAU,6BAA4B5E,SAAA,CACtC9C,EAAYmF,OAAO,yBAKxBpC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,kBAAiB5E,SAAA,EAC9Bd,EAAAA,EAAAA,KAAA,UACEa,QAAShD,EACT6H,UAAU,yGAAwG5E,SACnH,YAGDd,EAAAA,EAAAA,KAAA,UACEa,QA9GS5B,UACnB,GAAKsG,GAAWvH,EAAYiI,OAA5B,CAKA1H,GAAW,GACX,IACE,MAAMW,QAAiBC,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,4BAA4B,CAClE0I,SAAUb,EACVc,aAAclI,EACdsH,OAAQA,EACRvH,YAAaA,IAGXkB,EAASK,KAAKC,SAChBC,EAAAA,GAAMD,QAAQ,8CACd8F,EAAiBpG,EAASK,KAAK6G,SAC/BvI,KAEA4B,EAAAA,GAAMC,MAAMR,EAASK,KAAKI,SAAW,yBAEzC,CAAE,MAAOD,GAAQ,IAADE,EAAAC,EACdC,QAAQJ,MAAM,yBAA0BA,GACxCD,EAAAA,GAAMC,OAAoB,QAAdE,EAAAF,EAAMR,gBAAQ,IAAAU,GAAM,QAANC,EAAdD,EAAgBL,YAAI,IAAAM,OAAN,EAAdA,EAAsBwG,SAAU,yBAC9C,CAAC,QACC9H,GAAW,EACb,CAvBA,MAFEkB,EAAAA,GAAMC,MAAM,+CA6GJ8E,SAAUlG,IAAYiH,IAAWvH,EAAYiI,OAC7CP,UAAU,yMAAwM5E,SAEjNxC,EAAU,qBAAuB,4BApF1B,IA2FtB,CCxIA,MAAMd,EAAMC,sDAEG,SAAS6I,EAAgB3I,GAAoD,IAAnD,OAAEC,EAAM,QAAEC,EAAO,UAAE0I,EAAS,OAAEtI,EAAM,SAAEuI,GAAU7I,EACvF,MAAO8I,EAAUC,IAAerI,EAAAA,EAAAA,UAAS,KAClCsI,EAAYC,IAAiBvI,EAAAA,EAAAA,UAAS,KACtCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCwI,EAAUC,IAAezI,EAAAA,EAAAA,UAAS,MACnC0I,GAAiBC,EAAAA,EAAAA,QAAO,OAE9BpI,EAAAA,EAAAA,WAAU,KACR,GAAIhB,GAAU2I,EAAW,CACvBU,IACA,MAAMC,EAAWC,YAAYF,EAAc,KAC3C,MAAO,IAAMG,cAAcF,EAC7B,GACC,CAACtJ,EAAQ2I,KAEZ3H,EAAAA,EAAAA,WAAU,KACRyI,KACC,CAACZ,IAEJ,MAAMY,EAAiBA,KAAO,IAADC,EACL,QAAtBA,EAAAP,EAAeQ,eAAO,IAAAD,GAAtBA,EAAwBE,eAAe,CAAEC,SAAU,YAG/CR,EAAehI,UACnB,IACE,MAAMC,QAAiBC,EAAAA,EAAMuI,IAAI,GAADrI,OAAI7B,EAAG,sBAAA6B,OAAqBkH,IACxDrH,EAASK,KAAKC,SAChBkH,EAAYxH,EAASK,KAAK6G,QAAQK,UAAY,GAElD,CAAE,MAAO/G,GACPI,QAAQJ,MAAM,0BAA2BA,EAC3C,GAGIiI,EAAoB1I,UACxB,GAAK0H,EAAWV,OAAhB,CAEA1H,GAAW,GACX,WACyBY,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,sBAAA6B,OAAqBkH,EAAS,YAAY,CAChFqB,UAAW3J,EACX4J,YAAarB,EACb7G,QAASgH,KAGEpH,KAAKC,UAChBoH,EAAc,IACdK,IAEJ,CAAE,MAAOvH,GACPI,QAAQJ,MAAM,yBAA0BA,GACxCD,EAAAA,GAAMC,MAAM,yBACd,CAAC,QACCnB,GAAW,EACb,CAnB8B,GA8ChC,OAAKX,GAGHoC,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,uFAAsF5E,UACnGC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0GAAyG5E,SAAA,EAEtHC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,kGAAiG5E,SAAA,EAC9GC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0BAAyB5E,SAAA,EACtCd,EAAAA,EAAAA,KAAC8H,EAAAA,IAAa,CAACpC,UAAU,wBACzB3E,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,+BAA8B5E,SAAC,kBAC7CC,EAAAA,EAAAA,MAAA,KAAG2E,UAAU,0BAAyB5E,SAAA,CAAC,OAAc,OAATyF,QAAS,IAATA,OAAS,EAATA,EAAWnD,MAAM,EAAG,aAGpEpD,EAAAA,EAAAA,KAAA,UACEa,QAAShD,EACT6H,UAAU,mDAAkD5E,UAE5Dd,EAAAA,EAAAA,KAACuC,EAAAA,IAAO,CAACmD,UAAU,kBAKvB3E,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uCAAsC5E,SAAA,CAC9B,IAApB2F,EAAStD,QACRnD,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wDAAuD5E,UACpEd,EAAAA,EAAAA,KAAA,KAAAc,SAAG,+CAGL2F,EAAShE,IAAI,CAACsF,EAAKC,KACjBhI,EAAAA,EAAAA,KAAA,OAEE0F,UAAS,QAAArG,OAA8B,UAApB0I,EAAIF,YAA0B,cAAgB,iBAAkB/G,UAEnFC,EAAAA,EAAAA,MAAA,OACE2E,UAAS,8BAAArG,OACa,UAApB0I,EAAIF,YACA,4DACA,8BACH/G,SAAA,EAEHC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,+BAA8B5E,SAAA,CACtB,UAApBiH,EAAIF,cAA2B7H,EAAAA,EAAAA,KAAC2B,EAAAA,IAAQ,CAAC+D,UAAU,aACpD1F,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,mCAAkC5E,SAC/CiH,EAAIF,eAEP7H,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,qBAAoB5E,SACjC,IAAImH,KAAKF,EAAIG,WAAWC,2BAG7BnI,EAAAA,EAAAA,KAAA,KAAG0F,UAAU,UAAS5E,SAAEiH,EAAIpI,cAnBzBqI,KAwBXhI,EAAAA,EAAAA,KAAA,OAAKoI,IAAKrB,QAIZ/G,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,gCAA+B5E,UAC5CC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,aAAY5E,SAAA,EACzBC,EAAAA,EAAAA,MAAA,SAAO2E,UAAU,kFAAiF5E,SAAA,EAChGd,EAAAA,EAAAA,KAACqI,EAAAA,IAAa,CAAC3C,UAAU,2BACzB1F,EAAAA,EAAAA,KAAA,SACE6C,KAAK,OACLI,SAzFehE,UAC3B,MAAMqJ,EAAO/G,EAAEoC,OAAO4E,MAAM,GAC5B,IAAKD,EAAM,OAEX,MAAME,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQJ,GACxBE,EAASE,OAAO,aAAcnC,GAC9BiC,EAASE,OAAO,cAAezK,GAE/B,WACyBkB,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,sBAAA6B,OAAqBkH,EAAS,aAAaiC,EAAU,CAC3FG,QAAS,CAAE,eAAgB,0BAGhBpJ,KAAKC,UAChBC,EAAAA,GAAMD,QAAQ,kCACdyH,IAEJ,CAAE,MAAOvH,GACPI,QAAQJ,MAAM,4BAA6BA,GAC3CD,EAAAA,GAAMC,MAAM,4BACd,GAqEYgG,UAAU,SACVkD,OAAO,qBAGX5I,EAAAA,EAAAA,KAAA,SACE6C,KAAK,OACLG,MAAO2D,EACP1D,SAAW1B,GAAMqF,EAAcrF,EAAEoC,OAAOX,OACxC6F,WAAatH,GAAgB,UAAVA,EAAEuC,KAAmB6D,IACxC5B,YAAY,uBACZL,UAAU,4HAEZ1F,EAAAA,EAAAA,KAAA,UACEa,QAAS8G,EACTnD,SAAUlG,IAAYqI,EAAWV,OACjCP,UAAU,uIAAsI5E,UAEhJd,EAAAA,EAAAA,KAAC8I,EAAAA,IAAM,CAACpD,UAAU,mCAnFV,IA0FtB,CCzKA,MAAMlI,EAAMC,sDAEG,SAASsL,IAAsB,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAC3C,MAAM,QAAEhE,IAAYiE,EAAAA,EAAAA,KACdC,GAAWC,EAAAA,EAAAA,OACVC,EAAOC,IAAYrL,EAAAA,EAAAA,UAAS,OAC5BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCsL,EAAeC,IAAoBvL,EAAAA,EAAAA,UAAS,IAC5CwL,EAAcC,IAAmBzL,EAAAA,EAAAA,UAAS,KAC1CsI,EAAYC,IAAiBvI,EAAAA,EAAAA,UAAS,KACtC0L,EAAcC,IAAmB3L,EAAAA,EAAAA,WAAS,IAC1CsG,EAASsF,IAAc5L,EAAAA,EAAAA,UAAS,KAChC6L,EAAWC,IAAgB9L,EAAAA,EAAAA,UAAS,OACpC+L,EAAMC,IAAWhM,EAAAA,EAAAA,UAAS,OAC1BiM,EAAkBC,IAAuBlM,EAAAA,EAAAA,WAAS,IAClDmM,EAAsBC,IAA2BpM,EAAAA,EAAAA,WAAS,IAC1D+H,EAASsE,IAAcrM,EAAAA,EAAAA,UAAS,OAEvCO,EAAAA,EAAAA,WAAU,KACR,MAAM+L,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,oBAAsB,MACvEV,EAAQM,GACRK,KACC,CAAC3F,KAEJzG,EAAAA,EAAAA,WAAU,KACR,GAAI+K,EAAgB,EAAG,CACrB,MAAM9K,EAAQC,WAAW,IAAM8K,EAAiBD,EAAgB,GAAI,KACpE,MAAO,IAAM5K,aAAaF,EAC5B,GACC,CAAC8K,IAEJ,MAAMqB,EAAmB/L,UACvB,IACE,MAAMC,QAAiBC,EAAAA,EAAMuI,IAAI,GAADrI,OAAI7B,EAAG,eAAA6B,OAAcgG,IACjDnG,EAASK,KAAKC,UAChBkK,EAASxK,EAASK,KAAKkK,OACvBG,EAAiB1K,EAASK,KAAK0L,wBAA0B,GAEzDnB,EAAgB,CACd,CAAEoB,OAAQ,SAAUC,KAAM,0DAA2DC,KAAM,aAC3F,CAAEF,OAAQ,QAASC,KAAM,qCAAsCC,KAAM,eAG3E,CAAE,MAAO1L,GACPI,QAAQJ,MAAM,uBAAwBA,GACtCD,EAAAA,GAAMC,MAAM,+BACd,CAAC,QACCnB,GAAW,EACb,GA2CIoJ,EAAoBA,KACpBhB,EAAWV,SACb6D,EAAgB,IAAID,EAAc,CAChCqB,OAAQd,EAAK9K,WAAiB,OAALmK,QAAK,IAALA,OAAK,EAALA,EAAO4B,UAAW,QAAU,SACrDF,KAAMxE,EACNyE,KAAM,cAERxE,EAAc,MAUlB,GAAItI,EACF,OACE0B,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,2GAA0G5E,UACvHd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,qBAAoB5E,SAAC,uBAK1C,IAAK2I,EACH,OACEzJ,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,2GAA0G5E,UACvHd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,qBAAoB5E,SAAC,sBAK1C,MAAMwK,GAAc,OAAJlB,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,WAAYmK,EAAM4B,SAClCE,GAAe,OAAJnB,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,WAAYmK,EAAM+B,UAKzC,OACEzK,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,8EAA6E5E,SAAA,EAC1FC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,oBAAmB5E,SAAA,EAEhCC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,OAAM5E,SAAA,EACnBd,EAAAA,EAAAA,KAAA,UAAQa,QAASA,IAAM0I,EAAS,oBAAqB7D,UAAU,qBAAoB5E,SAAC,gCAGpFC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,oCAAmC5E,SAAA,EAChDC,EAAAA,EAAAA,MAAA,MAAI2E,UAAU,gCAA+B5E,SAAA,CAAC,UAAsB,QAAfkI,EAACS,EAAMvD,gBAAQ,IAAA8C,OAAA,EAAdA,EAAgB5F,MAAM,EAAG,OAC/ErC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0BAAyB5E,SAAA,CACrC6I,EAAgB,IACf5I,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,4FAA2F5E,SAAA,EACxGd,EAAAA,EAAAA,KAACyL,EAAAA,IAAM,CAAC/F,UAAU,6BAClB3E,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,qCAAoC5E,SA3CjD4K,KAClB,MAAMC,EAAOC,KAAKC,MAAMH,EAAU,IAC5BI,EAAOJ,EAAU,GACvB,MAAM,GAANrM,OAAUsM,EAAI,KAAAtM,OAAIyM,EAAKC,WAAWC,SAAS,EAAG,OAwCuBC,CAAWtC,MAChE3J,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,0BAAyB5E,SAAC,0BAK1C,OAAJsJ,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,WACLU,EAAAA,EAAAA,KAACkM,EAAAA,EAAgB,CACfjO,OAAQmM,EAAK9K,QACb+F,QAASA,EACT8G,oBAAsBC,IAEwC,IAADtH,EAApB,qBAAnCsH,EAAaC,oBACwB,QAAvCvH,EAAAtB,SAASC,eAAe,uBAAe,IAAAqB,GAAvCA,EAAyC0C,eAAe,CAAEC,SAAU,wBAUhE,aAAjBgC,EAAM6C,SACLtM,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,gGAA+F5E,UAC5GC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,yBAAwB5E,SAAA,EACrCd,EAAAA,EAAAA,KAAC4F,EAAAA,IAAa,CAACF,UAAU,wCACzB3E,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,SAAQ5E,SAAA,EACrBd,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,sCAAqC5E,SAAC,sCACpDd,EAAAA,EAAAA,KAAA,KAAG0F,UAAU,qBAAoB5E,SAAC,6JAIjCsF,IACCpG,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,kCAAiC5E,UAC9CC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,iCAAgC5E,SAAA,EAC7CC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,iBAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,4BAA2B5E,SAAoB,QAApBmI,EAAE7C,EAAQmG,kBAAU,IAAAtD,OAAA,EAAlBA,EAAoB7F,MAAM,EAAG,SAE5ErC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,aAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,qCAAoC5E,SAAEsF,EAAQkG,aAEhEvL,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,aAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,kBAAiB5E,SAAE,IAAImH,KAAK7B,EAAQoG,YAAYC,uBAElE1L,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,aAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,6BAA4B5E,SAAgB,QAAhBoI,EAAE9C,EAAQb,cAAM,IAAA2D,OAAA,EAAdA,EAAgBwD,QAAQ,KAAM,gBAKpF1M,EAAAA,EAAAA,KAAA,UACEa,QAASA,IAAM4J,GAAwB,GACvC/E,UAAU,kJAAiJ5E,SAC5J,+BAQTC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,wCAAuC5E,SAAA,EAEpDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0BAAyB5E,SAAA,EAEtCC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0EAAyE5E,SAAA,EACtFC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,+BAA8B5E,SAAA,EAC3Cd,EAAAA,EAAAA,KAAC2B,EAAAA,IAAQ,CAAC+D,UAAU,2BACpB1F,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,mCAAkC5E,SAAC,qBAEnDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0BAAyB5E,SAAA,CACpB,oBAAjB2I,EAAM6C,SACLvL,EAAAA,EAAAA,MAAA4L,EAAAA,SAAA,CAAA7L,SAAA,EACEd,EAAAA,EAAAA,KAAC4F,EAAAA,IAAa,CAACF,UAAU,6BACzB3E,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,oCAAmC5E,SAAC,yBACnDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wBAAuB5E,SAAC,sCAI3B,SAAjB2I,EAAM6C,SACLvL,EAAAA,EAAAA,MAAA4L,EAAAA,SAAA,CAAA7L,SAAA,EACEd,EAAAA,EAAAA,KAAC4M,EAAAA,IAAiB,CAAClH,UAAU,4BAC7B3E,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,mCAAkC5E,SAAC,sBAClDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wBAAuB5E,SAAC,+CAI3B,cAAjB2I,EAAM6C,SACLvL,EAAAA,EAAAA,MAAA4L,EAAAA,SAAA,CAAA7L,SAAA,EACEd,EAAAA,EAAAA,KAAC4M,EAAAA,IAAiB,CAAClH,UAAU,4BAC7B3E,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,mCAAkC5E,SAAC,eAClDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wBAAuB5E,SAAC,8CAQjDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,4EAA2E5E,SAAA,EACxFC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,+BAA8B5E,SAAA,EAC3Cd,EAAAA,EAAAA,KAAC2B,EAAAA,IAAQ,CAAC+D,UAAU,2BACpB1F,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,mCAAkC5E,SAAC,0BAEnDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAS,yBAAArG,OACK,cAAjBoK,EAAM6C,OACF,sCACA,qCACHxL,SAAA,EACDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,yCAAwC5E,SAAA,EACrDd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,uBAChCC,EAAAA,EAAAA,MAAA,QAAM2E,UAAU,kCAAiC5E,SAAA,CAAE2I,EAAMoD,cAAc,IAAEpD,EAAMqD,uBAEjF/L,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,oCAAmC5E,SAAA,EAChDd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,mBACd,cAAjB2I,EAAM6C,QACLtM,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,+BAA8B5E,SAAC,oBAC7C2I,EAAMsD,eACR/M,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gCAA+B5E,SAAC,yBAEhDd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,8BAA6B5E,SAAC,0BAGlDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,6BAA4B5E,SACvB,cAAjB2I,EAAM6C,OACL,6DAEA,2GAORvL,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0EAAyE5E,SAAA,EACtFd,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,wCAAuC5E,SAAC,mBACtDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,YAAW5E,SAAA,EACxBC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uBAAsB5E,SAAA,EACnCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,aAChCC,EAAAA,EAAAA,MAAA,QAAM2E,UAAU,2BAA0B5E,SAAA,CAAE2I,EAAMoD,cAAc,IAAEpD,EAAMqD,uBAE1E/L,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uBAAsB5E,SAAA,EACnCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,YAChCC,EAAAA,EAAAA,MAAA,QAAM2E,UAAU,2BAA0B5E,SAAA,CAAC,OAAsB,QAArBqI,EAACM,EAAMuD,sBAAc,IAAA7D,OAAA,EAApBA,EAAsBsD,wBAErE1L,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uBAAsB5E,SAAA,EACnCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,YAChCC,EAAAA,EAAAA,MAAA,QAAM2E,UAAU,+BAA8B5E,SAAA,CAAC,OAAmB,QAAlBsI,EAACK,EAAMwD,mBAAW,IAAA7D,OAAA,EAAjBA,EAAmBqD,wBAEtE1L,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uBAAsB5E,SAAA,EACnCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,qBAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,aAAY5E,SAAE2I,EAAMyD,oBAErC5B,IACCvK,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uBAAsB5E,SAAA,EACnCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,aAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,aAAY5E,SAAC,0BAGhCyK,IACCxK,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,uBAAsB5E,SAAA,EACnCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,YAChCd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,aAAY5E,SAAC,uBAOpCwK,GAA4B,oBAAjB7B,EAAM6C,SAChBvL,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,4EAA2E5E,SAAA,EACxFd,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,wCAAuC5E,SAAC,uCACtDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,oEAAmE5E,SAAA,EAChFC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EAAKd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,UAAY,KAACd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,aAAY5E,SAAC,aAC/EC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EAAKd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,aAAe,KAACd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,aAAY5E,SAAC,iBAClFC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EAAKd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,eAAiB,KAACd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,aAAY5E,SAAC,iBACpFC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EAAKd,EAAAA,EAAAA,KAAA,QAAM0F,UAAU,gBAAe5E,SAAC,eAAiB,KAACC,EAAAA,EAAAA,MAAA,QAAM2E,UAAU,0BAAyB5E,SAAA,CAAC,QAAoB,QAAfuI,EAACI,EAAMvD,gBAAQ,IAAAmD,OAAA,EAAdA,EAAgBjG,MAAM,EAAG,aAElIpD,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,+BAA8B5E,SAAC,wEAOjDwK,GAA4B,oBAAjB7B,EAAM6C,SAChBvL,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,0EAAyE5E,SAAA,EACtFd,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,wCAAuC5E,SAAC,uCACtDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,4HAA2H5E,SAAA,EACxId,EAAAA,EAAAA,KAACqI,EAAAA,IAAa,CAAC3C,UAAU,0CACzB1F,EAAAA,EAAAA,KAAA,SAAO6C,KAAK,OAAO6C,UAAU,SAAS9C,GAAG,eAAeK,SAAW1B,GAAM4I,EAAa5I,EAAEoC,OAAO4E,MAAM,OACrGxH,EAAAA,EAAAA,MAAA,SAAOoM,QAAQ,eAAezH,UAAU,iBAAgB5E,SAAA,EACtDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,kBAAiB5E,SAAC,sCACjCd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wBAAuB5E,SAAC,kCAExCoJ,IACCnJ,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,sBAAqB5E,SAAA,CAAC,UAAGoJ,EAAUkD,cAOzD7B,GAA6B,SAAjB9B,EAAM6C,SACjBvL,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,6EAA4E5E,SAAA,EACzFd,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,wCAAuC5E,SAAC,0CACtDC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,4DAA2D5E,SAAA,EACxEd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,oCAAmC5E,SAAC,mCACnDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,6BAA4B5E,SAAC,2HAG5Cd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,0BAAyB5E,SAAC,sGAQ/CC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,aAAY5E,SAAA,CACxBwK,GAA4B,oBAAjB7B,EAAM6C,SAChBtM,EAAAA,EAAAA,KAAA,UACEa,QApUO5B,UACrB,WACyBE,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,kBAAkB,CACxD0I,SAAUb,EACVgG,SAAUjB,EAAK9K,WAGJC,KAAKC,UAChBC,EAAAA,GAAMD,QAAQ,+BACdwL,IAEJ,CAAE,MAAOtL,GACPI,QAAQJ,MAAM,yBAA0BA,GACxCD,EAAAA,GAAMC,MAAM,yBACd,GAuTcgG,UAAU,yIAAwI5E,SACnJ,uBAIFyK,GAA6B,SAAjB9B,EAAM6C,SACjBtM,EAAAA,EAAAA,KAAA,UACEa,QA3TYwM,KAC1BrD,GAAgB,IA2TFtE,UAAU,sIAAqI5E,SAChJ,gCAIe,cAAjB2I,EAAM6C,SACLtM,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,8GAA6G5E,SAAC,4BAI5G,oBAAjB2I,EAAM6C,QAAiD,SAAjB7C,EAAM6C,UAC5CvL,EAAAA,EAAAA,MAAA4L,EAAAA,SAAA,CAAA7L,SAAA,EACEd,EAAAA,EAAAA,KAAA,UACEa,QAASA,KACHyM,OAAOC,QAAQ,kFAEjB9N,EAAAA,GAAM+N,KAAK,2CAGf9H,UAAU,oFAAmF5E,SAC9F,kBAGDd,EAAAA,EAAAA,KAAA,UACEa,QAASA,IAAM0J,GAAoB,GACnC7E,UAAU,sFAAqF5E,SAChG,2BASTd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,gBAAe5E,UAC5BC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,kGAAiG5E,SAAA,EAC9GC,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,+BAA8B5E,SAAA,EAC3Cd,EAAAA,EAAAA,KAAC8H,EAAAA,IAAa,CAACpC,UAAU,2BACzB1F,EAAAA,EAAAA,KAAA,MAAI0F,UAAU,mCAAkC5E,SAAC,aAInDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,wCAAuC5E,SACnD+I,EAAapH,IAAI,CAACsF,EAAKC,KACtBhI,EAAAA,EAAAA,KAAA,OAAe0F,UAAS,QAAArG,OAAyB,UAAf0I,EAAImD,OAAqB,cAAgB,iBAAkBpK,UAC3FC,EAAAA,EAAAA,MAAA,OAAK2E,UAAS,8BAAArG,OACG,UAAf0I,EAAImD,OACA,yBACA,8BACHpK,SAAA,EACDd,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,UAAS5E,SAAEiH,EAAIoD,QAC9BnL,EAAAA,EAAAA,KAAA,OAAK0F,UAAU,0BAAyB5E,SAAEiH,EAAIqD,WAPxCpD,OAcdjH,EAAAA,EAAAA,MAAA,OAAK2E,UAAU,aAAY5E,SAAA,EACzBd,EAAAA,EAAAA,KAAA,SACE6C,KAAK,OACLG,MAAO2D,EACP1D,SAAW1B,GAAMqF,EAAcrF,EAAEoC,OAAOX,OACxC6F,WAAatH,GAAgB,UAAVA,EAAEuC,KAAmB6D,IACxC5B,YAAY,kBACZL,UAAU,iFAEZ1F,EAAAA,EAAAA,KAAA,UACEa,QAAS8G,EACTjC,UAAU,gEAA+D5E,SAC1E,wBAUXd,EAAAA,EAAAA,KAACtC,EAAAA,EAAQ,CACPE,OAAQmM,EACRlM,QAASA,IAAMmM,GAAgB,GAC/BlM,SAAUmB,UACR,IACE,MAAMC,QAAiBC,EAAAA,EAAMC,KAAK,GAADC,OAAI7B,EAAG,qCAAqC,CAC3EiQ,SAAUpI,EACVR,SAAU6I,EACVlC,UAAWpB,EAAK9K,UAGdJ,EAASK,KAAKC,SAChBC,EAAAA,GAAMD,QAAQ,iCACdwK,GAAgB,GAChBgB,KAEAvL,EAAAA,GAAMC,MAAMR,EAASK,KAAKI,SAAW,2BAEzC,CAAE,MAAOD,GAAQ,IAADE,EAAAC,EACdC,QAAQJ,MAAM,0BAA2BA,GACzCD,EAAAA,GAAMC,OAAoB,QAAdE,EAAAF,EAAMR,gBAAQ,IAAAU,GAAM,QAANC,EAAdD,EAAgBL,YAAI,IAAAM,OAAN,EAAdA,EAAsBwG,SAAU,2BAC9C,GAEFtI,MAAM,+BACNC,YAAayL,EAAK,4BAAApK,OAA+BoK,EAAMoD,cAAa,KAAAxN,OAAIoK,EAAMqD,gBAAe,iEAAkE,0CAC/J7O,OAAY,OAAJmM,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,QACdpB,OAAO,iBAIT8B,EAAAA,EAAAA,KAACoF,EAAY,CACXxH,OAAQ0M,EACRzM,QAASA,IAAM0M,GAAoB,GACnClF,QAASA,EACTpH,OAAY,OAAJmM,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,QACdgG,iBAAmBqI,IACjBjD,EAAWiD,GACXpD,GAAoB,GACpBS,OAKH5E,IACCpG,EAAAA,EAAAA,KAACsG,EAAgB,CACf1I,OAAQ4M,EACR3M,QAASA,IAAM4M,GAAwB,GACvClE,UAAWH,EAAQmG,WACnBtO,OAAY,OAAJmM,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,QACdkH,UAAc,OAAJ4D,QAAI,IAAJA,OAAI,EAAJA,EAAM9K,YAAiB,OAALmK,QAAK,IAALA,OAAK,EAALA,EAAO4B,UAAW,QAAU,aAKlE,C","sources":["components/OTPModal.js","components/DisputeModal.js","components/DisputeChatModal.js","pages/P2PTradeDetailDemo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { IoClose, IoRefresh, IoShield, RefreshCw } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function OTPModal({ \n  isOpen, \n  onClose, \n  onVerify, \n  title = 'Verify OTP',\n  description = 'Enter the 6-digit code sent to your email',\n  userId,\n  action = 'generic'\n}) {\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\n  const [loading, setLoading] = useState(false);\n  const [sendingOTP, setSendingOTP] = useState(false);\n  const [countdown, setCountdown] = useState(0);\n\n  useEffect(() => {\n    if (countdown > 0) {\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [countdown]);\n\n  useEffect(() => {\n    if (isOpen && userId) {\n      sendOTP();\n    }\n  }, [isOpen, userId]);\n\n  const sendOTP = async () => {\n    if (!userId) {\n      toast.error('User ID required');\n      return;\n    }\n\n    setSendingOTP(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/send-otp`, {\n        user_id: userId,\n        action: action\n      });\n\n      if (response.data.success) {\n        toast.success('OTP sent to your email');\n        setCountdown(60);\n      } else {\n        toast.error(response.data.message || 'Failed to send OTP');\n      }\n    } catch (error) {\n      console.error('Error sending OTP:', error);\n      toast.error(error.response?.data?.message || 'Failed to send OTP');\n    } finally {\n      setSendingOTP(false);\n    }\n  };\n\n  const handleOTPChange = (index, value) => {\n    if (value.length > 1) {\n      value = value.slice(-1);\n    }\n\n    if (!/^\\d*$/.test(value)) {\n      return;\n    }\n\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n\n    // Auto-focus next input\n    if (value && index < 5) {\n      const nextInput = document.getElementById(`otp-${index + 1}`);\n      if (nextInput) nextInput.focus();\n    }\n  };\n\n  const handleKeyDown = (index, e) => {\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\n      const prevInput = document.getElementById(`otp-${index - 1}`);\n      if (prevInput) prevInput.focus();\n    }\n  };\n\n  const handleVerify = async () => {\n    const otpCode = otp.join('');\n    if (otpCode.length !== 6) {\n      toast.error('Please enter all 6 digits');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/verify-otp`, {\n        user_id: userId,\n        otp_code: otpCode,\n        action: action\n      });\n\n      if (response.data.success) {\n        toast.success('OTP verified successfully');\n        onVerify(otpCode);\n        handleClose();\n      } else {\n        toast.error(response.data.message || 'Invalid OTP');\n        setOtp(['', '', '', '', '', '']);\n        document.getElementById('otp-0')?.focus();\n      }\n    } catch (error) {\n      console.error('Error verifying OTP:', error);\n      toast.error(error.response?.data?.message || 'Invalid OTP');\n      setOtp(['', '', '', '', '', '']);\n      document.getElementById('otp-0')?.focus();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setOtp(['', '', '', '', '', '']);\n    setCountdown(0);\n    onClose();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 9999,\n        backdropFilter: 'blur(8px)'\n      }}\n      onClick={handleClose}\n    >\n      <div\n        style={{\n          background: 'linear-gradient(135deg, rgba(2, 6, 24, 0.98) 0%, rgba(7, 19, 39, 0.95) 100%)',\n          borderRadius: '24px',\n          padding: '2.5rem',\n          width: '90%',\n          maxWidth: '500px',\n          border: '2px solid rgba(0, 240, 255, 0.4)',\n          boxShadow: '0 0 60px rgba(0, 240, 255, 0.4), 0 20px 80px rgba(0, 0, 0, 0.8)'\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1.5rem' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <IoShield size={28} color=\"#00F0FF\" strokeWidth={2.5} />\n            <h2 style={{ color: '#fff', fontSize: '1.75rem', fontWeight: '700', margin: 0 }}>{title}</h2>\n          </div>\n          <button\n            onClick={handleClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              color: '#9FA6B2',\n              cursor: 'pointer',\n              padding: '0.5rem',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              borderRadius: '8px',\n              transition: 'all 0.2s'\n            }}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = 'rgba(255, 255, 255, 0.1)';\n              e.currentTarget.style.color = '#fff';\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = 'transparent';\n              e.currentTarget.style.color = '#9FA6B2';\n            }}\n          >\n            <IoClose size={24} />\n          </button>\n        </div>\n\n        {/* Description */}\n        <p style={{ color: '#8F9BB3', fontSize: '0.9375rem', marginBottom: '2rem', lineHeight: '1.6' }}>{description}</p>\n\n        {/* OTP Input */}\n        <div style={{ display: 'flex', gap: '0.75rem', justifyContent: 'center', marginBottom: '2rem' }}>\n          {otp.map((digit, index) => (\n            <input\n              key={index}\n              id={`otp-${index}`}\n              type=\"text\"\n              inputMode=\"numeric\"\n              maxLength=\"1\"\n              value={digit}\n              onChange={(e) => handleOTPChange(index, e.target.value)}\n              onKeyDown={(e) => handleKeyDown(index, e)}\n              style={{\n                width: '3.5rem',\n                height: '4rem',\n                fontSize: '1.75rem',\n                fontWeight: '700',\n                textAlign: 'center',\n                backgroundColor: 'rgba(0, 0, 0, 0.4)',\n                border: '2px solid rgba(0, 240, 255, 0.3)',\n                borderRadius: '14px',\n                color: '#00F0FF',\n                outline: 'none',\n                transition: 'all 0.3s',\n                fontFamily: 'monospace'\n              }}\n              onFocus={(e) => {\n                e.currentTarget.style.borderColor = '#00F0FF';\n                e.currentTarget.style.boxShadow = '0 0 20px rgba(0, 240, 255, 0.5)';\n                e.currentTarget.style.transform = 'scale(1.05)';\n              }}\n              onBlur={(e) => {\n                e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.3)';\n                e.currentTarget.style.boxShadow = 'none';\n                e.currentTarget.style.transform = 'scale(1)';\n              }}\n            />\n          ))}\n        </div>\n\n        {/* Resend OTP */}\n        <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n          {countdown > 0 ? (\n            <p style={{ color: '#8F9BB3', fontSize: '0.9375rem' }}>\n              Resend OTP in <span style={{ color: '#00F0FF', fontWeight: '700' }}>{countdown}s</span>\n            </p>\n          ) : (\n            <button\n              onClick={sendOTP}\n              disabled={sendingOTP}\n              style={{\n                background: 'none',\n                border: '1px solid rgba(0, 240, 255, 0.3)',\n                color: '#00F0FF',\n                fontSize: '0.9375rem',\n                fontWeight: '600',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                margin: '0 auto',\n                padding: '0.75rem 1.5rem',\n                borderRadius: '12px',\n                transition: 'all 0.3s'\n              }}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.backgroundColor = 'rgba(0, 240, 255, 0.1)';\n                e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.6)';\n                e.currentTarget.style.boxShadow = '0 0 20px rgba(0, 240, 255, 0.3)';\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.backgroundColor = 'transparent';\n                e.currentTarget.style.borderColor = 'rgba(0, 240, 255, 0.3)';\n                e.currentTarget.style.boxShadow = 'none';\n              }}\n            >\n              <IoRefresh size={18} style={{ animation: sendingOTP ? 'spin 1s linear infinite' : 'none' }} />\n              {sendingOTP ? 'Sending...' : 'Resend OTP'}\n            </button>\n          )}\n        </div>\n\n        {/* Verify Button */}\n        <button\n          onClick={handleVerify}\n          disabled={loading || otp.join('').length !== 6}\n          style={{\n            width: '100%',\n            padding: '1.125rem',\n            background: otp.join('').length === 6 ? 'linear-gradient(135deg, #00F0FF, #0080FF)' : 'rgba(40, 40, 40, 0.5)',\n            color: '#fff',\n            border: 'none',\n            borderRadius: '14px',\n            fontSize: '1.0625rem',\n            fontWeight: '700',\n            cursor: otp.join('').length === 6 ? 'pointer' : 'not-allowed',\n            opacity: otp.join('').length === 6 ? 1 : 0.4,\n            transition: 'all 0.3s',\n            boxShadow: otp.join('').length === 6 ? '0 0 30px rgba(0, 240, 255, 0.4)' : 'none',\n            position: 'relative',\n            overflow: 'hidden'\n          }}\n          onMouseEnter={(e) => {\n            if (otp.join('').length === 6) {\n              e.currentTarget.style.transform = 'translateY(-2px)';\n              e.currentTarget.style.boxShadow = '0 0 40px rgba(0, 240, 255, 0.6)';\n            }\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.transform = 'translateY(0)';\n            e.currentTarget.style.boxShadow = otp.join('').length === 6 ? '0 0 30px rgba(0, 240, 255, 0.4)' : 'none';\n          }}\n        >\n          {loading ? 'Verifying...' : 'Verify OTP'}\n        </button>\n        \n        <style>{`\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { IoClose, IoWarning, IoAlertCircle } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function DisputeModal({ isOpen, onClose, tradeId, userId, onDisputeCreated }) {\n  const [reason, setReason] = useState('');\n  const [description, setDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const reasonOptions = [\n    { value: 'payment_not_received', label: 'Payment Not Received' },\n    { value: 'wrong_amount', label: 'Wrong Amount Received' },\n    { value: 'crypto_not_released', label: 'Crypto Not Released' },\n    { value: 'scam_attempt', label: 'Suspected Scam' },\n    { value: 'other', label: 'Other Issue' }\n  ];\n\n  const handleSubmit = async () => {\n    if (!reason || !description.trim()) {\n      toast.error('Please select a reason and provide details');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/disputes/create`, {\n        trade_id: tradeId,\n        initiated_by: userId,\n        reason: reason,\n        description: description\n      });\n\n      if (response.data.success) {\n        toast.success('Dispute opened. Admin will review shortly.');\n        onDisputeCreated(response.data.dispute);\n        onClose();\n      } else {\n        toast.error(response.data.message || 'Failed to open dispute');\n      }\n    } catch (error) {\n      console.error('Error opening dispute:', error);\n      toast.error(error.response?.data?.detail || 'Failed to open dispute');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-slate-900 border-2 border-orange-500 rounded-2xl max-w-lg w-full shadow-2xl\">\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-orange-600 to-red-600 p-6 rounded-t-2xl\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <IoWarning className=\"w-8 h-8 text-white\" />\n              <h2 className=\"text-2xl font-bold text-white\">Open Dispute</h2>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"text-white/80 hover:text-white transition-colors\"\n            >\n              <IoClose className=\"w-6 h-6\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Warning */}\n        <div className=\"bg-orange-500/10 border-l-4 border-orange-500 p-4 m-6\">\n          <div className=\"flex items-start gap-3\">\n            <IoAlertCircle className=\"w-6 h-6 text-orange-400 flex-shrink-0 mt-0.5\" />\n            <div>\n              <p className=\"text-orange-300 font-semibold mb-1\">Dispute Fee: £5</p>\n              <p className=\"text-gray-400 text-sm\">\n                Opening a dispute will lock this trade. The losing party will be charged a £5 dispute fee.\n                Please only open disputes for legitimate issues.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Form */}\n        <div className=\"p-6 space-y-4\">\n          {/* Reason Selection */}\n          <div>\n            <label className=\"block text-gray-300 font-semibold mb-2\">\n              Reason for Dispute *\n            </label>\n            <select\n              value={reason}\n              onChange={(e) => setReason(e.target.value)}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none\"\n            >\n              <option value=\"\">Select a reason...</option>\n              {reasonOptions.map(opt => (\n                <option key={opt.value} value={opt.value}>{opt.label}</option>\n              ))}\n            </select>\n          </div>\n\n          {/* Description */}\n          <div>\n            <label className=\"block text-gray-300 font-semibold mb-2\">\n              Detailed Description *\n            </label>\n            <textarea\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder=\"Provide as much detail as possible about the issue. Include timestamps, transaction IDs, screenshots, etc.\"\n              rows={5}\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none resize-none\"\n            />\n            <p className=\"text-gray-500 text-sm mt-1\">\n              {description.length}/500 characters\n            </p>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              onClick={onClose}\n              className=\"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSubmit}\n              disabled={loading || !reason || !description.trim()}\n              className=\"flex-1 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg transition-all font-semibold\"\n            >\n              {loading ? 'Opening Dispute...' : 'Open Dispute'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { IoClose, IoChatbubbles, IoSend, IoCloudUpload, IoShield } from 'react-icons/io5';\nimport axios from 'axios';\nimport { toast } from 'sonner';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function DisputeChatModal({ isOpen, onClose, disputeId, userId, userRole }) {\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [evidence, setEvidence] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    if (isOpen && disputeId) {\n      loadMessages();\n      const interval = setInterval(loadMessages, 5000); // Poll every 5 seconds\n      return () => clearInterval(interval);\n    }\n  }, [isOpen, disputeId]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const loadMessages = async () => {\n    try {\n      const response = await axios.get(`${API}/api/p2p/disputes/${disputeId}`);\n      if (response.data.success) {\n        setMessages(response.data.dispute.messages || []);\n      }\n    } catch (error) {\n      console.error('Error loading messages:', error);\n    }\n  };\n\n  const handleSendMessage = async () => {\n    if (!newMessage.trim()) return;\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/p2p/disputes/${disputeId}/message`, {\n        sender_id: userId,\n        sender_type: userRole,\n        message: newMessage\n      });\n\n      if (response.data.success) {\n        setNewMessage('');\n        loadMessages();\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      toast.error('Failed to send message');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUploadEvidence = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('dispute_id', disputeId);\n    formData.append('uploaded_by', userId);\n\n    try {\n      const response = await axios.post(`${API}/api/p2p/disputes/${disputeId}/evidence`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      if (response.data.success) {\n        toast.success('Evidence uploaded successfully');\n        loadMessages();\n      }\n    } catch (error) {\n      console.error('Error uploading evidence:', error);\n      toast.error('Failed to upload evidence');\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-slate-900 border-2 border-orange-500 rounded-2xl max-w-3xl w-full h-[600px] shadow-2xl flex flex-col\">\n        {/* Header */}\n        <div className=\"bg-gradient-to-r from-orange-600 to-red-600 p-4 rounded-t-2xl flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <IoChatbubbles className=\"w-6 h-6 text-white\" />\n            <div>\n              <h2 className=\"text-xl font-bold text-white\">Dispute Chat</h2>\n              <p className=\"text-orange-100 text-sm\">ID: {disputeId?.slice(0, 8)}</p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-white/80 hover:text-white transition-colors\"\n          >\n            <IoClose className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        {/* Messages */}\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-3\">\n          {messages.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full text-gray-500\">\n              <p>No messages yet. Start the conversation.</p>\n            </div>\n          ) : (\n            messages.map((msg, idx) => (\n              <div\n                key={idx}\n                className={`flex ${msg.sender_type === 'admin' ? 'justify-end' : 'justify-start'}`}\n              >\n                <div\n                  className={`max-w-[70%] rounded-lg p-3 ${\n                    msg.sender_type === 'admin'\n                      ? 'bg-gradient-to-r from-purple-600 to-indigo-600 text-white'\n                      : 'bg-slate-800 text-gray-200'\n                  }`}\n                >\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    {msg.sender_type === 'admin' && <IoShield className=\"w-4 h-4\" />}\n                    <span className=\"font-semibold text-sm capitalize\">\n                      {msg.sender_type}\n                    </span>\n                    <span className=\"text-xs opacity-70\">\n                      {new Date(msg.timestamp).toLocaleTimeString()}\n                    </span>\n                  </div>\n                  <p className=\"text-sm\">{msg.message}</p>\n                </div>\n              </div>\n            ))\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Input */}\n        <div className=\"p-4 border-t border-slate-700\">\n          <div className=\"flex gap-2\">\n            <label className=\"cursor-pointer bg-slate-700 hover:bg-slate-600 p-3 rounded-lg transition-colors\">\n              <IoCloudUpload className=\"w-5 h-5 text-cyan-400\" />\n              <input\n                type=\"file\"\n                onChange={handleUploadEvidence}\n                className=\"hidden\"\n                accept=\"image/*,.pdf\"\n              />\n            </label>\n            <input\n              type=\"text\"\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n              placeholder=\"Type your message...\"\n              className=\"flex-1 bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none\"\n            />\n            <button\n              onClick={handleSendMessage}\n              disabled={loading || !newMessage.trim()}\n              className=\"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 disabled:opacity-50 p-3 rounded-lg transition-all\"\n            >\n              <IoSend className=\"w-5 h-5 text-white\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport { IoAlertCircle, IoChatbubbles, IoCheckmark as Check, IoCheckmarkCircle, IoCloudUpload, IoShield, IoTime } from 'react-icons/io5';\nimport OTPModal from '@/components/OTPModal';\nimport P2PNotifications from '@/components/P2PNotifications';\nimport DisputeModal from '@/components/DisputeModal';\nimport DisputeChatModal from '@/components/DisputeChatModal';\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function P2PTradeDetailDemo() {\n  const { tradeId } = useParams();\n  const navigate = useNavigate();\n  const [trade, setTrade] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [timeRemaining, setTimeRemaining] = useState(0);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [showOtpModal, setShowOtpModal] = useState(false);\n  const [otpCode, setOtpCode] = useState('');\n  const [proofFile, setProofFile] = useState(null);\n  const [user, setUser] = useState(null);\n  const [showDisputeModal, setShowDisputeModal] = useState(false);\n  const [showDisputeChatModal, setShowDisputeChatModal] = useState(false);\n  const [dispute, setDispute] = useState(null);\n\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem('cryptobank_user') || '{}');\n    setUser(userData);\n    loadTradeDetails();\n  }, [tradeId]);\n\n  useEffect(() => {\n    if (timeRemaining > 0) {\n      const timer = setTimeout(() => setTimeRemaining(timeRemaining - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [timeRemaining]);\n\n  const loadTradeDetails = async () => {\n    try {\n      const response = await axios.get(`${API}/p2p/trade/${tradeId}`);\n      if (response.data.success) {\n        setTrade(response.data.trade);\n        setTimeRemaining(response.data.time_remaining_seconds || 0);\n        // Load chat messages (mock for now)\n        setChatMessages([\n          { sender: 'seller', text: 'Hi! Please transfer to the account details shown above.', time: '2 min ago' },\n          { sender: 'buyer', text: 'Payment sent! Uploading proof now.', time: '1 min ago' }\n        ]);\n      }\n    } catch (error) {\n      console.error('Error loading trade:', error);\n      toast.error('Failed to load trade details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleMarkPaid = async () => {\n    try {\n      const response = await axios.post(`${API}/p2p/mark-paid`, {\n        trade_id: tradeId,\n        buyer_id: user.user_id\n      });\n      \n      if (response.data.success) {\n        toast.success('Payment marked as complete!');\n        loadTradeDetails();\n      }\n    } catch (error) {\n      console.error('Error marking as paid:', error);\n      toast.error('Failed to mark as paid');\n    }\n  };\n\n  const handleReleaseCrypto = () => {\n    setShowOtpModal(true);\n  };\n\n  const confirmRelease = async () => {\n    try {\n      const response = await axios.post(`${API}/p2p/release-crypto`, {\n        trade_id: tradeId,\n        seller_id: user.user_id,\n        otp_code: otpCode\n      });\n      \n      if (response.data.success) {\n        toast.success('Crypto released successfully!');\n        setShowOtpModal(false);\n        loadTradeDetails();\n      }\n    } catch (error) {\n      console.error('Error releasing crypto:', error);\n      toast.error('Failed to release crypto');\n    }\n  };\n\n  const handleSendMessage = () => {\n    if (newMessage.trim()) {\n      setChatMessages([...chatMessages, {\n        sender: user.user_id === trade?.buyer_id ? 'buyer' : 'seller',\n        text: newMessage,\n        time: 'Just now'\n      }]);\n      setNewMessage('');\n    }\n  };\n\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 flex items-center justify-center\">\n        <div className=\"text-white text-xl\">Loading trade...</div>\n      </div>\n    );\n  }\n\n  if (!trade) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 flex items-center justify-center\">\n        <div className=\"text-white text-xl\">Trade not found</div>\n      </div>\n    );\n  }\n\n  const isBuyer = user?.user_id === trade.buyer_id;\n  const isSeller = user?.user_id === trade.seller_id;\n  \n  console.log('User:', user?.user_id, 'Buyer:', trade.buyer_id, 'Seller:', trade.seller_id);\n  console.log('isBuyer:', isBuyer, 'isSeller:', isSeller, 'Trade Status:', trade.status);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 p-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-6\">\n          <button onClick={() => navigate('/p2p-marketplace')} className=\"text-cyan-400 mb-4\">\n            ← Back to Marketplace\n          </button>\n          <div className=\"flex items-center justify-between\">\n            <h1 className=\"text-3xl font-bold text-white\">Trade #{trade.trade_id?.slice(0, 8)}</h1>\n            <div className=\"flex items-center gap-4\">\n              {timeRemaining > 0 && (\n                <div className=\"flex items-center gap-2 bg-orange-900/30 px-6 py-3 rounded-xl border border-orange-500/30\">\n                  <IoTime className=\"w-6 h-6 text-orange-400\" />\n                  <div>\n                    <div className=\"text-orange-400 font-bold text-2xl\">{formatTime(timeRemaining)}</div>\n                    <div className=\"text-orange-300 text-xs\">Time remaining</div>\n                  </div>\n                </div>\n              )}\n              {/* Notification Bell */}\n              {user?.user_id && (\n                <P2PNotifications \n                  userId={user.user_id} \n                  tradeId={tradeId}\n                  onNotificationClick={(notification) => {\n                    // Handle notification click (e.g., scroll to relevant section)\n                    if (notification.notification_type === 'message_received') {\n                      document.getElementById('chat-section')?.scrollIntoView({ behavior: 'smooth' });\n                    }\n                  }}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Dispute Banner */}\n        {trade.status === 'disputed' && (\n          <div className=\"bg-gradient-to-r from-red-900/50 to-orange-900/50 border-2 border-red-500 rounded-xl p-6 mb-6\">\n            <div className=\"flex items-start gap-4\">\n              <IoAlertCircle className=\"w-8 h-8 text-red-400 flex-shrink-0\" />\n              <div className=\"flex-1\">\n                <h3 className=\"text-xl font-bold text-red-300 mb-2\">⚠️ Dispute In Progress</h3>\n                <p className=\"text-gray-300 mb-3\">\n                  This trade is under admin review. Both parties can submit evidence and communicate with the admin.\n                  The losing party will be charged a £5 dispute fee.\n                </p>\n                {dispute && (\n                  <div className=\"bg-black/20 rounded-lg p-4 mb-3\">\n                    <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                      <div>\n                        <span className=\"text-gray-400\">Dispute ID:</span>\n                        <span className=\"text-white ml-2 font-mono\">{dispute.dispute_id?.slice(0, 8)}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-gray-400\">Status:</span>\n                        <span className=\"text-orange-400 ml-2 font-semibold\">{dispute.status}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-gray-400\">Opened:</span>\n                        <span className=\"text-white ml-2\">{new Date(dispute.created_at).toLocaleString()}</span>\n                      </div>\n                      <div>\n                        <span className=\"text-gray-400\">Reason:</span>\n                        <span className=\"text-white ml-2 capitalize\">{dispute.reason?.replace(/_/g, ' ')}</span>\n                      </div>\n                    </div>\n                  </div>\n                )}\n                <button\n                  onClick={() => setShowDisputeChatModal(true)}\n                  className=\"bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white px-6 py-3 rounded-lg font-semibold transition-all\"\n                >\n                  View Dispute Chat\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Column - Trade Details */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Status Card */}\n            <div className=\"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <IoShield className=\"w-6 h-6 text-cyan-400\" />\n                <h2 className=\"text-xl font-semibold text-white\">Trade Status</h2>\n              </div>\n              <div className=\"flex items-center gap-3\">\n                {trade.status === 'waiting_payment' && (\n                  <>\n                    <IoAlertCircle className=\"w-8 h-8 text-yellow-400\" />\n                    <div>\n                      <div className=\"text-yellow-400 font-bold text-lg\">Waiting for Payment</div>\n                      <div className=\"text-gray-400 text-sm\">Buyer must complete payment</div>\n                    </div>\n                  </>\n                )}\n                {trade.status === 'paid' && (\n                  <>\n                    <IoCheckmarkCircle className=\"w-8 h-8 text-green-400\" />\n                    <div>\n                      <div className=\"text-green-400 font-bold text-lg\">Payment Received</div>\n                      <div className=\"text-gray-400 text-sm\">Waiting for seller to release crypto</div>\n                    </div>\n                  </>\n                )}\n                {trade.status === 'completed' && (\n                  <>\n                    <IoCheckmarkCircle className=\"w-8 h-8 text-green-400\" />\n                    <div>\n                      <div className=\"text-green-400 font-bold text-lg\">Completed</div>\n                      <div className=\"text-gray-400 text-sm\">Trade completed successfully</div>\n                    </div>\n                  </>\n                )}\n              </div>\n            </div>\n\n            {/* Escrow Status */}\n            <div className=\"bg-slate-800/50 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <IoShield className=\"w-6 h-6 text-cyan-400\" />\n                <h2 className=\"text-xl font-semibold text-white\">Escrow Protection</h2>\n              </div>\n              <div className={`border rounded-lg p-4 ${\n                trade.status === 'completed' \n                  ? 'bg-green-900/20 border-green-500/30' \n                  : 'bg-cyan-900/20 border-cyan-500/30'\n              }`}>\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-gray-300\">Amount in Escrow:</span>\n                  <span className=\"text-cyan-400 font-bold text-lg\">{trade.crypto_amount} {trade.crypto_currency}</span>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-gray-300\">Escrow Status:</span>\n                  {trade.status === 'completed' ? (\n                    <span className=\"text-green-400 font-semibold\">✓ Released</span>\n                  ) : trade.escrow_locked ? (\n                    <span className=\"text-yellow-400 font-semibold\">🔒 Locked</span>\n                  ) : (\n                    <span className=\"text-gray-400 font-semibold\">○ Not Locked</span>\n                  )}\n                </div>\n                <div className=\"mt-3 text-xs text-gray-400\">\n                  {trade.status === 'completed' ? (\n                    '✅ Funds have been successfully released to the buyer.'\n                  ) : (\n                    '🔒 Funds are safely held in escrow and will be released once seller confirms payment.'\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Trade Details */}\n            <div className=\"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">Trade Details</h2>\n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Amount:</span>\n                  <span className=\"text-white font-semibold\">{trade.crypto_amount} {trade.crypto_currency}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Price:</span>\n                  <span className=\"text-white font-semibold\">£{trade.price_per_unit?.toLocaleString()}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Total:</span>\n                  <span className=\"text-white font-bold text-lg\">£{trade.fiat_amount?.toLocaleString()}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-400\">Payment Method:</span>\n                  <span className=\"text-white\">{trade.payment_method}</span>\n                </div>\n                {isBuyer && (\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Seller:</span>\n                    <span className=\"text-white\">John Seller ⭐</span>\n                  </div>\n                )}\n                {isSeller && (\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-400\">Buyer:</span>\n                    <span className=\"text-white\">gads21083</span>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Payment Instructions (for buyer) */}\n            {isBuyer && trade.status === 'waiting_payment' && (\n              <div className=\"bg-slate-800/50 backdrop-blur-sm border border-blue-500/30 rounded-xl p-6\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">💳 Payment Instructions</h2>\n                <div className=\"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 space-y-2\">\n                  <div><span className=\"text-gray-400\">Bank:</span> <span className=\"text-white\">HSBC</span></div>\n                  <div><span className=\"text-gray-400\">Account:</span> <span className=\"text-white\">12345678</span></div>\n                  <div><span className=\"text-gray-400\">Sort Code:</span> <span className=\"text-white\">40-47-84</span></div>\n                  <div><span className=\"text-gray-400\">Reference:</span> <span className=\"text-cyan-400 font-mono\">TRADE{trade.trade_id?.slice(0, 8)}</span></div>\n                </div>\n                <div className=\"mt-4 text-sm text-yellow-400\">\n                  ⚠️ Please include the reference code in your transfer!\n                </div>\n              </div>\n            )}\n\n            {/* Upload Proof */}\n            {isBuyer && trade.status === 'waiting_payment' && (\n              <div className=\"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">📎 Upload Payment Proof</h2>\n                <div className=\"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center hover:border-cyan-500 transition-colors cursor-pointer\">\n                  <IoCloudUpload className=\"w-12 h-12 text-gray-400 mx-auto mb-3\" />\n                  <input type=\"file\" className=\"hidden\" id=\"proof-upload\" onChange={(e) => setProofFile(e.target.files[0])} />\n                  <label htmlFor=\"proof-upload\" className=\"cursor-pointer\">\n                    <div className=\"text-white mb-2\">Click to upload or drag and drop</div>\n                    <div className=\"text-gray-400 text-sm\">PNG, JPG or PDF (max. 5MB)</div>\n                  </label>\n                  {proofFile && (\n                    <div className=\"mt-4 text-green-400\">✓ {proofFile.name}</div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Seller: Payment Proof View */}\n            {isSeller && trade.status === 'paid' && (\n              <div className=\"bg-slate-800/50 backdrop-blur-sm border border-green-500/30 rounded-xl p-6\">\n                <h2 className=\"text-xl font-semibold text-white mb-4\">✅ Buyer Marked Payment Complete</h2>\n                <div className=\"bg-green-900/20 border border-green-500/30 rounded-lg p-4\">\n                  <div className=\"text-green-400 font-semibold mb-2\">Payment Confirmation Received</div>\n                  <div className=\"text-gray-300 text-sm mb-3\">\n                    The buyer has marked the payment as complete. Please verify the payment in your bank account before releasing crypto.\n                  </div>\n                  <div className=\"text-xs text-yellow-400\">\n                    ⚠️ Only release crypto after confirming the payment has arrived in your account!\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Actions */}\n            <div className=\"flex gap-4\">\n              {isBuyer && trade.status === 'waiting_payment' && (\n                <button\n                  onClick={handleMarkPaid}\n                  className=\"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-xl transition-colors shadow-lg hover:shadow-green-500/50\"\n                >\n                  ✓ I Have Paid\n                </button>\n              )}\n              {isSeller && trade.status === 'paid' && (\n                <button\n                  onClick={handleReleaseCrypto}\n                  className=\"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-4 px-6 rounded-xl transition-colors shadow-lg hover:shadow-cyan-500/50\"\n                >\n                  🔓 Release Crypto\n                </button>\n              )}\n              {trade.status === 'completed' && (\n                <div className=\"flex-1 bg-green-900/30 border border-green-500/30 text-green-400 font-bold py-4 px-6 rounded-xl text-center\">\n                  ✅ Trade Completed\n                </div>\n              )}\n              {(trade.status === 'waiting_payment' || trade.status === 'paid') && (\n                <>\n                  <button\n                    onClick={() => {\n                      if (window.confirm('Are you sure you want to cancel this trade? Funds will be returned to seller.')) {\n                        // Cancel trade logic\n                        toast.info('Cancel trade functionality coming soon');\n                      }\n                    }}\n                    className=\"bg-slate-700 hover:bg-slate-600 text-white px-6 py-4 rounded-xl transition-colors\"\n                  >\n                    Cancel Trade\n                  </button>\n                  <button\n                    onClick={() => setShowDisputeModal(true)}\n                    className=\"bg-orange-600 hover:bg-orange-700 text-white px-6 py-4 rounded-xl transition-colors\"\n                  >\n                    Open Dispute\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n\n          {/* Right Column - Chat */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 h-[600px] flex flex-col\">\n              <div className=\"flex items-center gap-2 mb-4\">\n                <IoChatbubbles className=\"w-5 h-5 text-cyan-400\" />\n                <h2 className=\"text-lg font-semibold text-white\">Chat</h2>\n              </div>\n              \n              {/* Messages */}\n              <div className=\"flex-1 overflow-y-auto space-y-3 mb-4\">\n                {chatMessages.map((msg, idx) => (\n                  <div key={idx} className={`flex ${msg.sender === 'buyer' ? 'justify-end' : 'justify-start'}`}>\n                    <div className={`max-w-[80%] rounded-lg p-3 ${\n                      msg.sender === 'buyer' \n                        ? 'bg-cyan-600 text-white' \n                        : 'bg-slate-700 text-gray-200'\n                    }`}>\n                      <div className=\"text-sm\">{msg.text}</div>\n                      <div className=\"text-xs opacity-70 mt-1\">{msg.time}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Input */}\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  value={newMessage}\n                  onChange={(e) => setNewMessage(e.target.value)}\n                  onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n                  placeholder=\"Type message...\"\n                  className=\"flex-1 bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white\"\n                />\n                <button\n                  onClick={handleSendMessage}\n                  className=\"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg\"\n                >\n                  Send\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* OTP Modal */}\n      <OTPModal\n        isOpen={showOtpModal}\n        onClose={() => setShowOtpModal(false)}\n        onVerify={async (code) => {\n          try {\n            const response = await axios.post(`${API}/api/crypto-market/release-crypto`, {\n              order_id: tradeId,\n              otp_code: code,\n              seller_id: user.user_id\n            });\n            \n            if (response.data.success) {\n              toast.success('Crypto released successfully!');\n              setShowOtpModal(false);\n              loadTradeDetails();\n            } else {\n              toast.error(response.data.message || 'Failed to release crypto');\n            }\n          } catch (error) {\n            console.error('Error releasing crypto:', error);\n            toast.error(error.response?.data?.detail || 'Failed to release crypto');\n          }\n        }}\n        title=\"🔐 Confirm Release\"\n        description={trade ? `You are about to release ${trade.crypto_amount} ${trade.crypto_currency} to the buyer. Enter the 6-digit OTP code sent to your email.` : 'Verify your identity to release crypto.'}\n        userId={user?.user_id}\n        action=\"p2p_release\"\n      />\n\n      {/* Dispute Modal */}\n      <DisputeModal\n        isOpen={showDisputeModal}\n        onClose={() => setShowDisputeModal(false)}\n        tradeId={tradeId}\n        userId={user?.user_id}\n        onDisputeCreated={(newDispute) => {\n          setDispute(newDispute);\n          setShowDisputeModal(false);\n          loadTradeDetails();\n        }}\n      />\n\n      {/* Dispute Chat Modal */}\n      {dispute && (\n        <DisputeChatModal\n          isOpen={showDisputeChatModal}\n          onClose={() => setShowDisputeChatModal(false)}\n          disputeId={dispute.dispute_id}\n          userId={user?.user_id}\n          userRole={user?.user_id === trade?.buyer_id ? 'buyer' : 'seller'}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":["API","process","OTPModal","_ref","isOpen","onClose","onVerify","title","description","userId","action","otp","setOtp","useState","loading","setLoading","sendingOTP","setSendingOTP","countdown","setCountdown","useEffect","timer","setTimeout","clearTimeout","sendOTP","async","response","axios","post","concat","user_id","data","success","toast","error","message","_error$response","_error$response$data","console","handleClose","_jsx","style","position","top","left","right","bottom","backgroundColor","display","alignItems","justifyContent","zIndex","backdropFilter","onClick","children","_jsxs","background","borderRadius","padding","width","maxWidth","border","boxShadow","e","stopPropagation","marginBottom","gap","IoShield","size","color","strokeWidth","fontSize","fontWeight","margin","cursor","transition","onMouseEnter","currentTarget","onMouseLeave","IoClose","lineHeight","map","digit","index","id","type","inputMode","maxLength","value","onChange","handleOTPChange","length","slice","test","newOtp","nextInput","document","getElementById","focus","target","onKeyDown","handleKeyDown","key","prevInput","height","textAlign","outline","fontFamily","onFocus","borderColor","transform","onBlur","disabled","IoRefresh","animation","otpCode","join","otp_code","_document$getElementB","_error$response2","_error$response2$data","_document$getElementB2","opacity","overflow","DisputeModal","tradeId","onDisputeCreated","reason","setReason","setDescription","className","IoWarning","IoAlertCircle","label","opt","placeholder","rows","trim","trade_id","initiated_by","dispute","detail","DisputeChatModal","disputeId","userRole","messages","setMessages","newMessage","setNewMessage","evidence","setEvidence","messagesEndRef","useRef","loadMessages","interval","setInterval","clearInterval","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","get","handleSendMessage","sender_id","sender_type","IoChatbubbles","msg","idx","Date","timestamp","toLocaleTimeString","ref","IoCloudUpload","file","files","formData","FormData","append","headers","accept","onKeyPress","IoSend","P2PTradeDetailDemo","_trade$trade_id","_dispute$dispute_id","_dispute$reason","_trade$price_per_unit","_trade$fiat_amount","_trade$trade_id2","useParams","navigate","useNavigate","trade","setTrade","timeRemaining","setTimeRemaining","chatMessages","setChatMessages","showOtpModal","setShowOtpModal","setOtpCode","proofFile","setProofFile","user","setUser","showDisputeModal","setShowDisputeModal","showDisputeChatModal","setShowDisputeChatModal","setDispute","userData","JSON","parse","localStorage","getItem","loadTradeDetails","time_remaining_seconds","sender","text","time","buyer_id","isBuyer","isSeller","seller_id","IoTime","seconds","mins","Math","floor","secs","toString","padStart","formatTime","P2PNotifications","onNotificationClick","notification","notification_type","status","dispute_id","created_at","toLocaleString","replace","_Fragment","IoCheckmarkCircle","crypto_amount","crypto_currency","escrow_locked","price_per_unit","fiat_amount","payment_method","htmlFor","name","handleReleaseCrypto","window","confirm","info","order_id","code","newDispute"],"sourceRoot":""}