"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8484],{2264:(e,r,t)=>{t.d(r,{p:()=>d});var i=t(9379),o=t(3986),n=t(5043),s=t(9766),a=t(579);const l=["className","type"],d=n.forwardRef((e,r)=>{let{className:t,type:n}=e,d=(0,o.A)(e,l);return(0,a.jsx)("input",(0,i.A)({type:n,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r},d))});d.displayName="Input"},8484:(e,r,t)=>{t.r(r),t.d(r,{default:()=>y});var i=t(9379),o=t(5043),n=t(8163),s=t(1140),a=t(807),l=t(2264),d=t(221),c=t(9722),p=t(6328),g=t(5025),x=t(579);const m="https://trade-form-polish.preview.emergentagent.com";function u(){var e,r,t,n;const[s,a]=(0,o.useState)({}),[l,g]=(0,o.useState)(0),[u,h]=(0,o.useState)({}),[f,b]=(0,o.useState)([]),[y,j]=(0,o.useState)([]),[v,F]=(0,o.useState)({}),[S,_]=(0,o.useState)(!1),[z,k]=(0,o.useState)({amount:"",currency:"USDT",notes:""}),[w,A]=(0,o.useState)(!1),B=[{symbol:"BTC",name:"Bitcoin",icon:"\u20bf"},{symbol:"ETH",name:"Ethereum",icon:"\u039e"},{symbol:"USDT",name:"Tether",icon:"\u20ae"},{symbol:"BNB",name:"Binance Coin",icon:"B"},{symbol:"SOL",name:"Solana",icon:"S"},{symbol:"XRP",name:"Ripple",icon:"X"},{symbol:"LTC",name:"Litecoin",icon:"\u0141"}];(0,o.useEffect)(()=>{C(),W();const e=setInterval(C,3e4);return()=>clearInterval(e)},[]);const C=async()=>{try{const e=await c.A.get("".concat(m,"/api/admin/platform-wallet/balance"));e.data.success&&(a(e.data.balances),g(e.data.total_gbp_equivalent),h(e.data.stats),b(e.data.active_warnings||[]))}catch(e){console.error("Failed to fetch wallet balance:",e)}},W=async()=>{try{const e={};for(const r of B){const t=await c.A.get("".concat(m,"/api/admin/platform-wallet/deposit-address/").concat(r.symbol));t.data.success&&(e[r.symbol]=t.data.address)}F(e)}catch(e){console.error("Failed to fetch deposit addresses:",e)}};return(0,x.jsxs)("div",{style:{padding:"2rem"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h1",{style:{fontSize:"28px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:"Admin Top-Up Wallet"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Central treasury for all platform operations: referral bonuses, commissions, liquidity, fees"})]}),f.length>0&&(0,x.jsx)("div",{style:{marginBottom:"2rem"},children:f.map(e=>{var r;return(0,x.jsxs)("div",{style:{padding:"1rem 1.5rem",background:"critical"===e.level?"rgba(239, 68, 68, 0.1)":"rgba(251, 146, 60, 0.1)",border:"2px solid ".concat("critical"===e.level?"#EF4444":"#FB923C"),borderRadius:"12px",display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[(0,x.jsx)(AlertTriangle,{size:24,color:"critical"===e.level?"#EF4444":"#FB923C"}),(0,x.jsxs)("div",{style:{flex:1},children:[(0,x.jsxs)("p",{style:{margin:0,fontWeight:"700",color:"critical"===e.level?"#EF4444":"#FB923C"},children:["critical"===e.level?"CRITICAL":"WARNING",": Low Balance Alert"]}),(0,x.jsxs)("p",{style:{margin:"0.25rem 0 0",fontSize:"14px",color:"#E2E8F0"},children:[e.currency," balance: ",e.balance," (\xa3",null===(r=e.gbp_equivalent)||void 0===r?void 0:r.toFixed(2)," equivalent)"]})]}),(0,x.jsx)("button",{onClick:()=>p.oR.info("Top up required"),style:{padding:"0.5rem 1rem",background:"critical"===e.level?"#EF4444":"#FB923C",border:"none",borderRadius:"6px",color:"#fff",fontWeight:"700",cursor:"pointer"},children:"Top Up Now"})]},e.warning_id)})}),(0,x.jsx)("div",{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.15), rgba(168, 85, 247, 0.15))",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,color:"#888",fontSize:"14px",fontWeight:"600"},children:"Total Platform Balance"}),(0,x.jsxs)("h2",{style:{margin:"0.5rem 0 0",fontSize:"36px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",l.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",color:"#888",fontSize:"13px"},children:"GBP Equivalent \u2022 Updated every 30 seconds"})]}),(0,x.jsxs)("button",{onClick:()=>_(!0),style:{padding:"1rem 2rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"12px",color:"#000",fontWeight:"900",fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.YHj,{size:20}),"Manual Top-Up"]})]})}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginBottom:"3rem"},children:B.map(e=>{const r=s[e.symbol]||0,t=r<10;return(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"2px solid ".concat(t?"#EF4444":"rgba(0, 240, 255, 0.2)"),borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,x.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #00F0FF, #A855F7)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"900"},children:e.icon}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{margin:0,fontSize:"16px",fontWeight:"700",color:"#E2E8F0"},children:e.name}),(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888"},children:e.symbol})]})]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"28px",fontWeight:"900",color:t?"#EF4444":"#00F0FF"},children:r.toLocaleString("en-GB",{minimumFractionDigits:4,maximumFractionDigits:8})}),(0,x.jsxs)("p",{style:{margin:"0.25rem 0 0",fontSize:"12px",color:"#888"},children:[e.symbol," Available"]})]}),v[e.symbol]&&(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"8px",padding:"0.75rem",marginBottom:"1rem"},children:[(0,x.jsx)("p",{style:{margin:"0 0 0.5rem",fontSize:"11px",color:"#888",fontWeight:"600"},children:"DEPOSIT ADDRESS:"}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"11px",color:"#00F0FF",fontFamily:"monospace",wordBreak:"break-all",flex:1},children:v[e.symbol]}),(0,x.jsx)("button",{onClick:()=>{return r=v[e.symbol],navigator.clipboard.writeText(r),void p.oR.success("Address copied to clipboard!");var r},style:{background:"rgba(0, 240, 255, 0.2)",border:"none",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,x.jsx)(d.iyF,{size:14,color:"#00F0FF"})})]})]}),t&&(0,x.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",padding:"0.5rem 0.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(AlertTriangle,{size:14,color:"#EF4444"}),(0,x.jsx)("span",{style:{fontSize:"12px",color:"#EF4444",fontWeight:"600"},children:"Low Balance - Top Up Required"})]})]},e.symbol)})}),(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{margin:"0 0 1.5rem",fontSize:"20px",fontWeight:"700",color:"#00F0FF"},children:"Platform Wallet Usage"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Referral Payouts"}),(0,x.jsxs)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#22C55E"},children:["\xa3",((null===(e=u.total_referral_payouts)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.total)||0).toFixed(2)]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Bonus Payouts"}),(0,x.jsxs)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:["\xa3",((null===(t=u.total_bonus_payouts)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.total)||0).toFixed(2)]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Liquidity Deployed"}),(0,x.jsxs)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#3B82F6"},children:["$",Object.values(u.total_liquidity||{}).reduce((e,r)=>e+r,0).toFixed(2)]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,fontSize:"12px",color:"#888",fontWeight:"600",textTransform:"uppercase"},children:"Withdrawal Fees Collected"}),(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:"3% on All Withdrawals"})]})]})]}),(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",marginTop:"2rem"},children:[(0,x.jsx)("h4",{style:{margin:"0 0 1rem",color:"#00F0FF",fontSize:"16px",fontWeight:"700"},children:"\ud83d\udca1 Admin Top-Up Wallet Powers Everything"}),(0,x.jsxs)("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#888",fontSize:"14px",lineHeight:"1.8"},children:[(0,x.jsx)("li",{children:"Paying \xa320 referral bonuses when users top up \u2265\xa3150"}),(0,x.jsx)("li",{children:"Paying 20% lifetime commissions to referrers"}),(0,x.jsx)("li",{children:"Receiving all 3% withdrawal fees automatically"}),(0,x.jsx)("li",{children:"Funding trading liquidity for Spot Trading"}),(0,x.jsx)("li",{children:"Funding P2P Express Buy liquidity"}),(0,x.jsx)("li",{children:"All internal platform operations and payouts"})]}),(0,x.jsxs)("p",{style:{margin:"1rem 0 0",color:"#888",fontSize:"13px"},children:["\ud83d\udd12 ",(0,x.jsx)("strong",{children:"Privacy:"})," This wallet is completely private. No user can ever see these balances. Only visible in Admin Dashboard."]})]}),S&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>_(!1),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #0F172A, #1E293B)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("h3",{style:{margin:"0 0 1.5rem",fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:"Manual Top-Up"}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"14px",fontWeight:"600"},children:"Currency"}),(0,x.jsx)("select",{value:z.currency,onChange:e=>k((0,i.A)((0,i.A)({},z),{},{currency:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px"},children:B.map(e=>(0,x.jsxs)("option",{value:e.symbol,children:[e.name," (",e.symbol,")"]},e.symbol))})]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"14px",fontWeight:"600"},children:"Amount"}),(0,x.jsx)("input",{type:"number",step:"0.00000001",value:z.amount,onChange:e=>k((0,i.A)((0,i.A)({},z),{},{amount:e.target.value})),placeholder:"Enter amount",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"14px",fontWeight:"600"},children:"Notes (Optional)"}),(0,x.jsx)("textarea",{value:z.notes,onChange:e=>k((0,i.A)((0,i.A)({},z),{},{notes:e.target.value})),placeholder:"Add notes about this top-up...",rows:3,style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px",resize:"vertical"}})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)("button",{onClick:()=>_(!1),style:{flex:1,padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"none",borderRadius:"8px",color:"#fff",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:async()=>{try{A(!0);(await c.A.post("".concat(m,"/api/admin/platform-wallet/top-up"),{amount:parseFloat(z.amount),currency:z.currency,admin_user_id:"ADMIN",notes:z.notes})).data.success&&(p.oR.success("Platform wallet topped up with ".concat(z.amount," ").concat(z.currency)),_(!1),k({amount:"",currency:"USDT",notes:""}),C(),(async()=>{try{const e=await c.A.get("".concat(m,"/api/admin/platform-wallet/transactions?limit=50"));e.data.success&&j(e.data.transactions)}catch(e){console.error("Failed to fetch transactions:",e)}})())}catch(e){console.error("Failed to top up wallet:",e),p.oR.error("Failed to top up wallet")}finally{A(!1)}},disabled:w||!z.amount,style:{flex:1,padding:"0.75rem",background:w?"#666":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"900",cursor:w?"not-allowed":"pointer"},children:w?"Processing...":"Top Up Wallet"})]})]})})]})}const h="https://trade-form-polish.preview.emergentagent.com";function f(){const[e,r]=(0,o.useState)([]),[t,n]=(0,o.useState)(null),[s,a]=(0,o.useState)([]),[l,g]=(0,o.useState)(""),[m,u]=(0,o.useState)("all"),[f,b]=(0,o.useState)({ai_enabled:!0,has_custom_api_key:!1}),[y,j]=(0,o.useState)(!1),[v,F]=(0,o.useState)(""),[S,_]=(0,o.useState)(!1);(0,o.useEffect)(()=>{z(),w();const e=setInterval(z,1e4);return()=>clearInterval(e)},[m]),(0,o.useEffect)(()=>{if(t){k(t.session_id);const e=setInterval(()=>{k(t.session_id)},5e3);return()=>clearInterval(e)}},[t]);const z=async()=>{try{const e="all"===m?"":"?status=".concat(m),t=await c.A.get("".concat(h,"/api/admin/chat/sessions").concat(e));t.data.success&&r(t.data.sessions)}catch(e){console.error("Failed to fetch sessions:",e)}},k=async e=>{try{const r=await c.A.get("".concat(h,"/api/chat/history/").concat(e));r.data.success&&a(r.data.messages)}catch(r){console.error("Failed to fetch messages:",r)}},w=async()=>{try{const e=await c.A.get("".concat(h,"/api/admin/chat/settings"));e.data.success&&b({ai_enabled:e.data.ai_enabled,has_custom_api_key:e.data.has_custom_api_key})}catch(e){console.error("Failed to fetch AI settings:",e)}},A=async()=>{if(l.trim()&&t)try{(await c.A.post("".concat(h,"/api/admin/chat/send-message"),{session_id:t.session_id,message:l,admin_id:"ADMIN"})).data.success&&(g(""),k(t.session_id),p.oR.success("Message sent"))}catch(e){p.oR.error("Failed to send message")}},B=e=>{const r=new Date(e),t=new Date-r;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):r.toLocaleDateString()};return(0,x.jsxs)("div",{style:{padding:"2rem"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{style:{fontSize:"28px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:"Support Chat"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Manage AI assistant and live agent conversations"})]}),(0,x.jsx)("button",{onClick:()=>j(!y),style:{padding:"0.75rem 1.5rem",background:y?"rgba(168, 85, 247, 0.2)":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:y?"#A855F7":"#000",fontWeight:"700",cursor:"pointer"},children:y?"Hide Settings":"AI Settings"})]}),y&&(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{margin:"0 0 1rem",color:"#00F0FF",fontSize:"18px",fontWeight:"700"},children:"AI Assistant Settings"}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{style:{margin:0,color:"#E2E8F0",fontWeight:"600",fontSize:"14px"},children:"AI Assistant"}),(0,x.jsx)("p",{style:{margin:"0.25rem 0 0",color:"#888",fontSize:"13px"},children:f.ai_enabled?"AI will respond first":"All chats go directly to live agents"})]}),(0,x.jsx)("button",{onClick:async()=>{try{(await c.A.post("".concat(h,"/api/admin/chat/settings"),{ai_enabled:!f.ai_enabled})).data.success&&(b(e=>(0,i.A)((0,i.A)({},e),{},{ai_enabled:!e.ai_enabled})),p.oR.success("AI Assistant ".concat(f.ai_enabled?"disabled":"enabled")))}catch(e){p.oR.error("Failed to update settings")}},style:{width:"60px",height:"32px",borderRadius:"16px",background:f.ai_enabled?"linear-gradient(135deg, #00F0FF, #A855F7)":"#444",border:"none",cursor:"pointer",position:"relative",transition:"all 0.3s"},children:(0,x.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#fff",position:"absolute",top:"4px",left:f.ai_enabled?"32px":"4px",transition:"all 0.3s"}})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",color:"#888",fontSize:"13px",fontWeight:"600"},children:"Custom AI API Key (Optional)"}),(0,x.jsx)("p",{style:{margin:"0 0 0.75rem",color:"#666",fontSize:"12px"},children:"Leave empty to use the default key. Add your own OpenAI key for unlimited usage."}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,x.jsx)("input",{type:"password",value:v,onChange:e=>F(e.target.value),placeholder:"sk-...",style:{flex:1,padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("button",{onClick:async()=>{try{_(!0);(await c.A.post("".concat(h,"/api/admin/chat/settings"),{custom_api_key:v})).data.success&&(b(e=>(0,i.A)((0,i.A)({},e),{},{has_custom_api_key:!0})),p.oR.success("API key saved successfully"),F(""),j(!1))}catch(e){p.oR.error("Failed to save API key")}finally{_(!1)}},disabled:S||!v.trim(),style:{padding:"0.75rem 1.5rem",background:S||!v.trim()?"#444":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"6px",color:S||!v.trim()?"#888":"#000",fontWeight:"700",cursor:S||!v.trim()?"not-allowed":"pointer"},children:S?"Saving...":"Save Key"})]}),f.has_custom_api_key&&(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",color:"#22C55E",fontSize:"12px"},children:"\u2713 Custom API key configured"})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,x.jsx)("button",{onClick:()=>u("all"),style:{padding:"0.5rem 1rem",background:"all"===m?"rgba(0, 240, 255, 0.2)":"rgba(0, 0, 0, 0.3)",border:"1px solid ".concat("all"===m?"#00F0FF":"rgba(255, 255, 255, 0.1)"),borderRadius:"6px",color:"all"===m?"#00F0FF":"#888",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"All Chats"}),(0,x.jsx)("button",{onClick:()=>u("ai"),style:{padding:"0.5rem 1rem",background:"ai"===m?"rgba(0, 240, 255, 0.2)":"rgba(0, 0, 0, 0.3)",border:"1px solid ".concat("ai"===m?"#00F0FF":"rgba(255, 255, 255, 0.1)"),borderRadius:"6px",color:"ai"===m?"#00F0FF":"#888",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"AI First"}),(0,x.jsx)("button",{onClick:()=>u("live_agent"),style:{padding:"0.5rem 1rem",background:"live_agent"===m?"rgba(168, 85, 247, 0.2)":"rgba(0, 0, 0, 0.3)",border:"1px solid ".concat("live_agent"===m?"#A855F7":"rgba(255, 255, 255, 0.1)"),borderRadius:"6px",color:"live_agent"===m?"#A855F7":"#888",fontWeight:"600",fontSize:"13px",cursor:"pointer"},children:"Live Agent"})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"1.5rem",height:"600px"},children:[(0,x.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",overflow:"auto"},children:0===e.length?(0,x.jsx)("div",{style:{padding:"2rem",textAlign:"center",color:"#888"},children:(0,x.jsx)("p",{children:"No open chat sessions"})}):e.map(e=>(0,x.jsxs)("div",{onClick:()=>n(e),style:{padding:"1rem",borderBottom:"1px solid rgba(255, 255, 255, 0.05)",cursor:"pointer",background:(null===t||void 0===t?void 0:t.session_id)===e.session_id?"rgba(0, 240, 255, 0.1)":"transparent",transition:"background 0.2s"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"0.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["ai"===e.status?(0,x.jsx)(Bot,{size:16,color:"#00F0FF"}):(0,x.jsx)(d.SNd,{size:16,color:"#A855F7"}),(0,x.jsx)("span",{style:{color:"#E2E8F0",fontSize:"14px",fontWeight:"600"},children:e.user_email||"User ".concat(e.session_id.slice(0,8))})]}),(0,x.jsx)("span",{style:{color:"#666",fontSize:"11px"},children:B(e.last_message_at)})]}),(0,x.jsx)("p",{style:{margin:0,color:"#888",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.last_message||"No messages yet"}),(0,x.jsxs)("div",{style:{marginTop:"0.5rem",display:"flex",gap:"0.5rem"},children:[e.escalated&&(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"ESCALATED"}),(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:"ai"===e.status?"rgba(0, 240, 255, 0.2)":"rgba(168, 85, 247, 0.2)",color:"ai"===e.status?"#00F0FF":"#A855F7",borderRadius:"4px",fontSize:"10px",fontWeight:"700"},children:"ai"===e.status?"AI FIRST":"LIVE AGENT"})]})]},e.session_id))}),(0,x.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",display:"flex",flexDirection:"column"},children:t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{margin:0,color:"#00F0FF",fontSize:"16px",fontWeight:"700"},children:t.user_email||"Session ".concat(t.session_id.slice(0,8))}),(0,x.jsx)("p",{style:{margin:"0.25rem 0 0",color:"#888",fontSize:"12px"},children:"ai"===t.status?"AI-first mode":"Live agent mode"})]}),(0,x.jsxs)("button",{onClick:()=>(async e=>{try{(await c.A.post("".concat(h,"/api/admin/chat/resolve"),{session_id:e})).data.success&&(p.oR.success("Chat marked as resolved"),z(),(null===t||void 0===t?void 0:t.session_id)===e&&n(null))}catch(r){p.oR.error("Failed to resolve chat")}})(t.session_id),style:{padding:"0.5rem 1rem",background:"rgba(34, 197, 94, 0.2)",border:"1px solid rgba(34, 197, 94, 0.4)",borderRadius:"6px",color:"#22C55E",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.G3G,{size:16}),"Mark Resolved"]})]}),(0,x.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:s.map((e,r)=>(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"user"===e.sender?"row-reverse":"row",gap:"0.75rem",alignItems:"flex-start"},children:[(0,x.jsx)("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"user"===e.sender?"linear-gradient(135deg, #A855F7, #00F0FF)":"ai"===e.sender?"rgba(0, 240, 255, 0.2)":"agent"===e.sender?"rgba(34, 197, 94, 0.2)":"rgba(251, 146, 60, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:"user"===e.sender?(0,x.jsx)(d.SNd,{size:18,color:"#fff"}):"ai"===e.sender?(0,x.jsx)(Bot,{size:18,color:"#00F0FF"}):"agent"===e.sender?(0,x.jsx)(d.G3G,{size:18,color:"#22C55E"}):(0,x.jsx)(d.dSe,{size:18,color:"#FB923C"})}),(0,x.jsxs)("div",{style:{maxWidth:"70%",padding:"0.75rem 1rem",borderRadius:"12px",background:"user"===e.sender?"linear-gradient(135deg, #A855F7, #00F0FF)":"rgba(0, 0, 0, 0.5)",color:"user"===e.sender?"#000":"#E2E8F0",fontSize:"14px",lineHeight:"1.5",wordWrap:"break-word"},children:[e.message,(0,x.jsx)("p",{style:{margin:"0.5rem 0 0",fontSize:"11px",opacity:.6},children:new Date(e.timestamp).toLocaleTimeString()})]})]},r))}),(0,x.jsxs)("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid rgba(255, 255, 255, 0.1)",display:"flex",gap:"0.75rem",alignItems:"center"},children:[(0,x.jsx)("input",{type:"text",value:l,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&A(),placeholder:"Type your reply...",style:{flex:1,padding:"0.75rem 1rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"14px",outline:"none"}}),(0,x.jsxs)("button",{onClick:A,disabled:!l.trim(),style:{padding:"0.75rem 1.5rem",background:l.trim()?"linear-gradient(135deg, #00F0FF, #A855F7)":"#444",border:"none",borderRadius:"8px",color:l.trim()?"#000":"#888",fontWeight:"700",cursor:l.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)(d.$_z,{size:16}),"Send"]})]})]}):(0,x.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#888"},children:[(0,x.jsx)(d.mNJ,{size:48,color:"#444"}),(0,x.jsx)("p",{style:{margin:"1rem 0 0",fontSize:"14px"},children:"Select a chat to view messages"})]})})]})]})}const b="https://trade-form-polish.preview.emergentagent.com";function y(){var e,r,t,m,h,y,j,v,F,S,_,z,k,w,A,B,C,W,R,T,E,I,N,P,L,D,q,M,U,O,V,Z,H;const $=(0,n.Zp)(),[G,Y]=(0,o.useState)(null),[X,J]=(0,o.useState)(null),[K,Q]=(0,o.useState)([]),[ee,re]=(0,o.useState)(!0),[te,ie]=(0,o.useState)(""),[oe,ne]=(0,o.useState)(null),[se,ae]=(0,o.useState)(null),[le,de]=(0,o.useState)(null),[ce,pe]=(0,o.useState)([]),[ge,xe]=(0,o.useState)("unified"),[me,ue]=(0,o.useState)([]),[he,fe]=(0,o.useState)("all"),[be,ye]=(0,o.useState)(""),[je,ve]=(0,o.useState)([]),[Fe,Se]=(0,o.useState)(!1),[_e,ze]=(0,o.useState)({currency:"BTC",amount:""}),[ke,we]=(0,o.useState)({BTC:"",ETH:"",USDT:""}),[Ae,Be]=(0,o.useState)([]),[Ce,We]=(0,o.useState)(null),[Re,Te]=(0,o.useState)(!1),[Ee,Ie]=(0,o.useState)([]),[Ne,Pe]=(0,o.useState)(null),[Le,De]=(0,o.useState)(!1),[qe,Me]=(0,o.useState)({title:"",content:"",send_email:!1}),[Ue,Oe]=(0,o.useState)(null),[Ve,Ze]=(0,o.useState)(null),[He,$e]=(0,o.useState)(!1),[Ge,Ye]=(0,o.useState)([]),[Xe,Je]=(0,o.useState)({show:!1,type:"add",currency:"BTC",amount:""}),[Ke,Qe]=(0,o.useState)(null),[er,rr]=(0,o.useState)([]),[tr,ir]=(0,o.useState)([]),[or,nr]=(0,o.useState)(null),[sr,ar]=(0,o.useState)(!1),[lr,dr]=(0,o.useState)({symbol:"",name:"",nowpay_wallet_id:""}),[cr,pr]=(0,o.useState)("day"),[gr,xr]=(0,o.useState)("all"),[mr,ur]=(0,o.useState)(null),[hr,fr]=(0,o.useState)(!1),[br,yr]=(0,o.useState)(["BTC","ETH","USDT"]),[jr,vr]=(0,o.useState)(null),[Fr,Sr]=(0,o.useState)(!1),[_r,zr]=(0,o.useState)([]),[kr,wr]=(0,o.useState)(null),[Ar,Br]=(0,o.useState)(!1),[Cr,Wr]=(0,o.useState)({title:"",message:"",type:"info",link:"",link_text:"",start_date:(new Date).toISOString().slice(0,16),end_date:"",is_active:!0});(0,o.useEffect)(()=>{const e=localStorage.getItem("admin_user");e?(Y(JSON.parse(e)),Dr(),Rr()):$("/admin/login")},[$]);const Rr=async()=>{try{const e=await c.A.get("".concat(b,"/api/coins/enabled"));e.data.success&&e.data.symbols.length>0&&yr(e.data.symbols)}catch(e){console.error("Error fetching available coins:",e)}};window.activateGoldenReferral=async e=>{try{var r;const t=(null===(r=JSON.parse(localStorage.getItem("admin_user")))||void 0===r?void 0:r.admin_id)||"admin";(await c.A.post("".concat(b,"/api/admin/golden-referral/activate"),{user_id:e,admin_id:t})).data.success&&(p.oR.success("Golden Referral VIP activated! User now earns 50% commission."),document.getElementById("golden-search-input").value="",document.getElementById("golden-search-results").style.display="none")}catch(t){console.error("Activation error:",t),p.oR.error("Failed to activate Golden Referral")}},window.deactivateGoldenReferral=async e=>{if(confirm("Are you sure you want to deactivate Golden VIP tier for this user?"))try{var r;const t=(null===(r=JSON.parse(localStorage.getItem("admin_user")))||void 0===r?void 0:r.admin_id)||"admin";(await c.A.post("".concat(b,"/api/admin/golden-referral/deactivate"),{user_id:e,admin_id:t,reason:"Admin deactivation"})).data.success&&(p.oR.success("Golden Referral VIP deactivated. User reverted to standard 20% commission."),document.querySelector("#golden-users-list").closest("div").querySelector("button").click())}catch(t){console.error("Deactivation error:",t),p.oR.error("Failed to deactivate Golden Referral")}};const Tr=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/liquidity/balances"));e.data.success&&ve(e.data.wallets)}catch(e){console.error("Error fetching liquidity:",e)}},Er=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/internal-balances"));e.data.success&&Be(e.data.balances)}catch(e){console.error("Error fetching fee balances:",e)}},Ir=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/trading-liquidity"));e.data.success&&Ye(e.data.liquidity)}catch(e){console.error("Error fetching trading liquidity:",e),p.oR.error("Failed to fetch trading liquidity")}},Nr=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day";try{const r=await c.A.get("".concat(b,"/api/admin/revenue/dashboard?timeframe=").concat(e));if(r.data.success){const e=r.data;Qe({total_profit:e.summary.net_revenue_gbp,revenue_breakdown:(0,i.A)({total_revenue:e.summary.total_revenue_gbp,referral_commissions:e.summary.referral_commissions_paid_gbp},e.by_fee_type.reduce((e,r)=>(e[r.fee_type]=r.total_revenue,e),{})),fee_wallet_breakdown:e.by_currency.reduce((e,r)=>(e[r.currency]={total_fees:r.total_revenue,net_revenue:r.net_revenue,referral_paid:r.referral_paid,gbp_value:r.total_revenue},e),{}),total_fee_wallet_gbp:e.summary.total_revenue_gbp}),rr(e.recent_transactions||[])}}catch(r){console.error("Error fetching revenue summary:",r),p.oR.error("Failed to fetch revenue summary")}},Pr=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"day",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";try{const t=await c.A.get("".concat(b,"/api/admin/revenue/dashboard?timeframe=").concat(e));if(t.data.success&&t.data.recent_transactions){let e=t.data.recent_transactions;"all"!==r&&(e=e.filter(e=>e.fee_type===r)),rr(e)}}catch(t){console.error("Error fetching revenue transactions:",t),p.oR.error("Failed to fetch revenue transactions")}},Lr=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/platform-settings"));e.data.success&&Ze(e.data.settings)}catch(e){console.error("Error fetching platform settings:",e)}},Dr=async()=>{const e=async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/banners"));e.data.success&&zr(e.data.banners)}catch(e){console.error("Error fetching banners:",e),p.oR.error("Failed to load banners")}};try{const[r,t,i,o,n,s]=await Promise.all([c.A.get("".concat(b,"/api/admin/dashboard-stats")),c.A.get("".concat(b,"/api/admin/customers")),c.A.get("".concat(b,"/api/admin/platform-config")),c.A.get("".concat(b,"/api/admin/referral-config")),c.A.get("".concat(b,"/api/admin/referral-earnings")),c.A.get("".concat(b,"/api/admin/disputes/all"))]);Tr(),Er(),(async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/liquidity/history"));e.data.success&&Ie(e.data.history)}catch(e){console.error("Error fetching liquidity history:",e)}})(),(async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/customer-analytics"));e.data.success&&Oe(e.data.analytics)}catch(e){console.error("Error fetching customer analytics:",e)}})(),Lr(),Ir(),e(),r.data.success&&J(r.data.stats),t.data.success&&Q(t.data.customers),i.data.success&&ne(i.data),o.data.success&&de(o.data.config),n.data.success&&pe(n.data.earnings),s.data.success&&ue(s.data.disputes)}catch(r){console.error("Error fetching data:",r),p.oR.error("Failed to load dashboard data")}finally{re(!1)}},qr=async e=>{try{const r=await c.A.post("".concat(b,"/api/admin/update-referral-config"),e);r.data.success&&(p.oR.success("Referral configuration updated successfully"),de(r.data.config))}catch(i){var r,t;console.error("Error updating referral config:",i),p.oR.error((null===(r=i.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.detail)||"Failed to update referral config")}},Mr=async(e,r)=>{if(!window.confirm("Are you sure you want to ".concat("release_to_buyer"===r?"release crypto to buyer":"return crypto to seller","?")))return;const t=prompt("Admin notes (optional):");try{const i=await c.A.post("".concat(b,"/api/admin/resolve-dispute-final"),{dispute_id:e,resolution:r,admin_notes:t||""});if(i.data.success){p.oR.success(i.data.message);const e=await c.A.get("".concat(b,"/api/admin/disputes/all"));e.data.success&&ue(e.data.disputes)}}catch(n){var i,o;console.error("Error resolving dispute:",n),p.oR.error((null===(i=n.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.detail)||"Failed to resolve dispute")}},Ur=K.filter(e=>{var r,t,i;return(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(te.toLowerCase()))||(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(te.toLowerCase()))||(null===(i=e.wallet_address)||void 0===i?void 0:i.toLowerCase().includes(te.toLowerCase()))});return ee?(0,x.jsx)("div",{className:"loading-container",children:(0,x.jsx)("div",{className:"spinner"})}):(0,x.jsxs)("div",{className:"admin-dashboard-page",children:[(0,x.jsx)(g.l,{position:"top-right",richColors:!0}),(0,x.jsx)("header",{className:"admin-header",children:(0,x.jsxs)("div",{className:"admin-header-content",children:[(0,x.jsxs)("div",{className:"admin-brand",children:[(0,x.jsx)(d.eeu,{size:32,className:"admin-icon"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{className:"admin-brand-title",children:"Admin Dashboard"}),(0,x.jsx)("p",{className:"admin-brand-subtitle",children:"Business Owner Portal"})]})]}),(0,x.jsxs)("div",{className:"admin-actions",children:[(0,x.jsx)(a.$,{onClick:()=>$("/admin/support"),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",marginRight:"1rem",cursor:"pointer",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.5rem"},children:"\ud83d\udcac Support Chats"}),(0,x.jsx)("span",{className:"admin-user-name",children:(null===G||void 0===G?void 0:G.full_name)||(null===G||void 0===G?void 0:G.email)}),(0,x.jsxs)(a.$,{variant:"outline",onClick:()=>{localStorage.removeItem("admin_user"),p.oR.success("Logged out successfully"),$("/admin/login")},className:"logout-btn-admin",children:[(0,x.jsx)(d.dRg,{size:20}),(0,x.jsx)("span",{children:"Logout"})]})]})]})}),(0,x.jsxs)("div",{className:"admin-content",children:[(0,x.jsxs)("div",{className:"admin-stats-grid",children:[(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin users-icon",children:(0,x.jsx)(d.GvN,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Total Customers"}),(0,x.jsx)("p",{className:"stat-value-admin",children:(null===X||void 0===X||null===(e=X.users)||void 0===e?void 0:e.total_users)||0}),(0,x.jsxs)("p",{className:"stat-change-admin",children:[(null===X||void 0===X||null===(r=X.users)||void 0===r?void 0:r.total_registered)||0," registered + ",(null===X||void 0===X||null===(t=X.users)||void 0===t?void 0:t.wallet_only)||0," wallet-only"]})]})]})}),(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin volume-icon",children:(0,x.jsx)(d.AaD,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Total Volume"}),(0,x.jsxs)("p",{className:"stat-value-admin",children:["$",((null===X||void 0===X||null===(m=X.transactions)||void 0===m?void 0:m.total_volume)||0).toLocaleString()]}),(0,x.jsxs)("p",{className:"stat-change-admin",children:[(null===X||void 0===X||null===(h=X.transactions)||void 0===h?void 0:h.total_count)||0," transactions"]})]})]})}),(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin revenue-icon",children:(0,x.jsx)(d.BOd,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Platform Revenue"}),(0,x.jsxs)("p",{className:"stat-value-admin",children:["$",((null===X||void 0===X||null===(y=X.revenue)||void 0===y?void 0:y.platform_fees)||0).toLocaleString()]}),(0,x.jsx)("p",{className:"stat-change-admin positive",children:"From fees & spreads"})]})]})}),(0,x.jsx)(s.Zp,{className:"admin-stat-card",children:(0,x.jsxs)("div",{className:"stat-card-content",children:[(0,x.jsx)("div",{className:"stat-icon-admin disputes-icon",children:(0,x.jsx)(AlertTriangle,{size:28})}),(0,x.jsxs)("div",{className:"stat-details-admin",children:[(0,x.jsx)("p",{className:"stat-label-admin",children:"Active Disputes"}),(0,x.jsx)("p",{className:"stat-value-admin",children:(null===X||void 0===X||null===(j=X.disputes)||void 0===j?void 0:j.open_disputes)||0}),(0,x.jsxs)("p",{className:"stat-change-admin",children:[(null===X||void 0===X||null===(v=X.disputes)||void 0===v?void 0:v.total_disputes)||0," total disputes"]})]})]})})]}),(0,x.jsxs)(s.Zp,{className:"commission-settings-card",style:{marginBottom:"2rem"},children:[(0,x.jsx)("div",{className:"table-header",children:(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"table-title",children:"Commission & Fee Settings"}),(0,x.jsx)("p",{className:"table-subtitle",children:"Adjust platform fees and rates"})]})}),(0,x.jsx)("div",{className:"commission-grid",children:null===oe||void 0===oe||null===(F=oe.editable_settings)||void 0===F?void 0:F.map(e=>(0,x.jsx)("div",{className:"commission-item",children:(0,x.jsxs)("div",{className:"commission-info",children:[(0,x.jsx)("p",{className:"commission-label",children:e.label}),se===e.key?(0,x.jsxs)("div",{className:"commission-edit",children:[(0,x.jsx)(l.p,{type:"number",step:"0.1",defaultValue:e.value,id:"edit-".concat(e.key),className:"commission-input",style:{width:"120px"}}),(0,x.jsx)(a.$,{size:"sm",onClick:()=>{const r=document.getElementById("edit-".concat(e.key)).value;(async(e,r)=>{try{const t=await c.A.post("".concat(b,"/api/admin/update-commission"),{setting_key:e,new_value:parseFloat(r)});if(t.data.success){p.oR.success(t.data.message);const e=await c.A.get("".concat(b,"/api/admin/platform-config"));e.data.success&&ne(e.data),ae(null)}}catch(o){var t,i;console.error("Error updating commission:",o),p.oR.error((null===(t=o.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to update commission")}})(e.key,r)},className:"save-commission-btn",children:"Save"}),(0,x.jsx)(a.$,{size:"sm",variant:"outline",onClick:()=>ae(null),className:"cancel-commission-btn",children:"Cancel"})]}):(0,x.jsxs)("div",{className:"commission-display",children:[(0,x.jsxs)("p",{className:"commission-value",children:[e.value,"%"]}),(0,x.jsx)(a.$,{size:"sm",variant:"outline",onClick:()=>ae(e.key),className:"edit-commission-btn",children:"Edit"})]})]})},e.key))})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",borderBottom:"2px solid rgba(0, 240, 255, 0.2)",paddingBottom:"0"},children:[(0,x.jsx)("button",{onClick:()=>xe("unified"),style:{padding:"1rem 1.5rem",background:"unified"===ge?"linear-gradient(135deg, rgba(0, 240, 255, 0.2), rgba(168, 85, 247, 0.2))":"none",border:"none",borderBottom:"unified"===ge?"3px solid #00F0FF":"3px solid transparent",color:"unified"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s",borderRadius:"8px 8px 0 0"},children:"\ud83c\udfe0 Business Dashboard"}),(0,x.jsx)("button",{onClick:()=>xe("overview"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"overview"===ge?"3px solid #00F0FF":"3px solid transparent",color:"overview"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Overview"}),(0,x.jsx)("button",{onClick:()=>xe("referrals"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"referrals"===ge?"3px solid #00F0FF":"3px solid transparent",color:"referrals"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Referral System"}),(0,x.jsx)("button",{onClick:()=>xe("golden-referrals"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"golden-referrals"===ge?"3px solid #00F0FF":"3px solid transparent",color:"golden-referrals"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"\ud83c\udf1f Golden VIP"}),(0,x.jsxs)("button",{onClick:()=>xe("disputes"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"disputes"===ge?"3px solid #00F0FF":"3px solid transparent",color:"disputes"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:["Disputes ",me.filter(e=>"open"===e.status).length>0&&"(".concat(me.filter(e=>"open"===e.status).length,")")]}),(0,x.jsx)("button",{onClick:()=>xe("customers"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"customers"===ge?"3px solid #00F0FF":"3px solid transparent",color:"customers"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Customers"}),(0,x.jsx)("button",{onClick:()=>xe("liquidity"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"liquidity"===ge?"3px solid #00F0FF":"3px solid transparent",color:"liquidity"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Liquidity Wallet"}),(0,x.jsx)("button",{onClick:()=>xe("withdrawals"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"withdrawals"===ge?"3px solid #00F0FF":"3px solid transparent",color:"withdrawals"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Withdrawals"}),(0,x.jsx)("button",{onClick:()=>xe("trading"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"trading"===ge?"3px solid #00F0FF":"3px solid transparent",color:"trading"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Trading"}),(0,x.jsx)("button",{onClick:()=>{xe("revenue"),Nr(cr),Pr(cr,gr)},style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"revenue"===ge?"3px solid #00F0FF":"3px solid transparent",color:"revenue"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Revenue"}),(0,x.jsx)("button",{onClick:()=>xe("coins"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"coins"===ge?"3px solid #00F0FF":"3px solid transparent",color:"coins"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Coins (CMS)"}),(0,x.jsx)("button",{onClick:()=>xe("banners"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"banners"===ge?"3px solid #00F0FF":"3px solid transparent",color:"banners"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Promo Banners"}),(0,x.jsx)("button",{onClick:()=>{xe("monetization"),(async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/monetization/settings"));e.data.success&&vr(e.data.settings)}catch(e){console.error("Error fetching monetization settings:",e),p.oR.error("Failed to load monetization settings")}})()},style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"monetization"===ge?"3px solid #00F0FF":"3px solid transparent",color:"monetization"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"\ud83d\udcb0 Monetization"}),(0,x.jsx)("button",{onClick:()=>xe("platform-wallet"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"platform-wallet"===ge?"3px solid #00F0FF":"3px solid transparent",color:"platform-wallet"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Admin Top-Up Wallet"}),(0,x.jsx)("button",{onClick:()=>xe("support-chat"),style:{padding:"1rem 1.5rem",background:"none",border:"none",borderBottom:"support-chat"===ge?"3px solid #00F0FF":"3px solid transparent",color:"support-chat"===ge?"#00F0FF":"#888",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s"},children:"Support Chat"})]}),"unified"===ge&&(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05))",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Total Platform Revenue"}),(0,x.jsxs)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:["$",(Array.isArray(Ae)?Ae.reduce((e,r)=>e+45e3*(r.total_fees||0),0):0).toLocaleString()]}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"All-time earnings"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(168, 85, 247, 0.05))",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Today's Activity"}),(0,x.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:(null===X||void 0===X||null===(S=X.transactions)||void 0===S?void 0:S.total_count)||0}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"Total trades"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(139, 92, 246, 0.05))",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Total Users"}),(0,x.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#A855F7",marginBottom:"0.5rem"},children:(null===X||void 0===X||null===(_=X.users)||void 0===_?void 0:_.total_users)||0}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"Registered accounts"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))",border:"2px solid rgba(239, 68, 68, 0.3)",borderRadius:"16px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Active Disputes"}),(0,x.jsx)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#EF4444",marginBottom:"0.5rem"},children:me.filter(e=>"open"===e.status).length}),(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888"},children:"Need attention"})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h2",{style:{color:"#22C55E",fontSize:"24px",fontWeight:"900",margin:0},children:"\ud83d\udcb0 Your Earnings Breakdown"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888"},children:["Total: $",(Array.isArray(Ae)?Ae.reduce((e,r)=>e+45e3*(r.total_fees||0),0):0).toLocaleString()]})]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1.5rem"},children:Ae.length>0?Ae.map(e=>(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05))",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px",padding:"1.5rem",position:"relative",overflow:"hidden"},children:[(0,x.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",fontSize:"32px",opacity:"0.1"},children:"BTC"===e.currency?"\u20bf":"ETH"===e.currency?"\u039e":"\u20ae"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:[e.currency," Fees"]}),(0,x.jsx)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:(e.total_fees||0).toFixed(8)}),(0,x.jsxs)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"1rem"},children:["\u2248 $",(45e3*(e.total_fees||0)).toLocaleString()]}),(0,x.jsxs)(a.$,{onClick:()=>We({currency:e.currency,amount:e.total_fees,wallet_type:"fee_wallet",address:ke[e.currency]}),disabled:!ke[e.currency]||0===(e.total_fees||0),style:{width:"100%",background:ke[e.currency]&&(e.total_fees||0)>0?"linear-gradient(135deg, #22C55E, #16A34A)":"rgba(34, 197, 94, 0.3)",color:"#fff",fontWeight:"700",padding:"0.75rem",borderRadius:"8px"},children:["\ud83d\udcb8 Withdraw ",e.currency]})]},e.currency)):(0,x.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"#888"},children:"No earnings yet. Earnings will appear here as users trade on your platform."})}),(0,x.jsxs)("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px"},children:[(0,x.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#00F0FF",marginBottom:"1rem"},children:"\ud83d\udca1 Set Your Withdrawal Addresses"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:br.map(e=>(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,x.jsxs)("span",{style:{color:"#888",fontSize:"14px",minWidth:"60px"},children:[e,":"]}),(0,x.jsx)("input",{type:"text",placeholder:"Your ".concat(e," address"),value:ke[e]||"",onChange:r=>we((0,i.A)((0,i.A)({},ke),{},{[e]:r.target.value})),style:{flex:1,padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"13px"}})]},e))})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",margin:0,marginBottom:"0.5rem"},children:"\u2699\ufe0f Fee Configuration"}),(0,x.jsx)("p",{style:{fontSize:"13px",color:"#888",margin:0},children:"Manage platform fees and commissions"})]}),(0,x.jsx)(a.$,{onClick:()=>$e(!0),style:{background:"linear-gradient(135deg, #A855F7, #8B5CF6)",color:"#fff",fontWeight:"700",padding:"0.75rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px"},children:"Edit Fees"})]}),Ve&&(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"SWAP FEE"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[Ve.swap_fee_percent||1.5,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"EXPRESS BUY FEE"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[Ve.express_buy_fee_percent||3,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"P2P TRADE FEE"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[Ve.p2p_trade_fee_percent||1,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"REFERRAL COMMISSION"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[Ve.referral_commission_percent||20,"%"]})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"PAYMENT TIMER"}),(0,x.jsxs)("div",{style:{fontSize:"22px",fontWeight:"700",color:"#A855F7"},children:[Math.floor((Ve.payment_timer_minutes||120)/60),"h ",(Ve.payment_timer_minutes||120)%60,"m"]})]})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)(s.Zp,{onClick:()=>{Se(!0),xe("liquidity")},style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.1), rgba(0, 200, 255, 0.05))",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},children:[(0,x.jsx)("div",{style:{fontSize:"40px",marginBottom:"1rem"},children:"\ud83d\udca7"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:"Add Liquidity"}),(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888"},children:"Top up Express Buy funds"})]}),(0,x.jsxs)(s.Zp,{onClick:()=>xe("customers"),style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.1), rgba(139, 92, 246, 0.05))",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},children:[(0,x.jsx)("div",{style:{fontSize:"40px",marginBottom:"1rem"},children:"\ud83d\udc65"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#A855F7",marginBottom:"0.5rem"},children:"View Customers"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888"},children:[K.length," total users"]})]}),(0,x.jsxs)(s.Zp,{onClick:()=>xe("disputes"),style:{background:me.filter(e=>"open"===e.status).length>0?"linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05))":"linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(16, 185, 129, 0.05))",border:me.filter(e=>"open"===e.status).length>0?"2px solid rgba(239, 68, 68, 0.3)":"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"16px",padding:"1.5rem",cursor:"pointer",transition:"all 0.3s"},children:[(0,x.jsx)("div",{style:{fontSize:"40px",marginBottom:"1rem"},children:me.filter(e=>"open"===e.status).length>0?"\u26a0\ufe0f":"\u2705"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:me.filter(e=>"open"===e.status).length>0?"#EF4444":"#22C55E",marginBottom:"0.5rem"},children:"Disputes"}),(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888"},children:[me.filter(e=>"open"===e.status).length," active disputes"]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83c\udfe5 Platform Health"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"LIQUIDITY STATUS"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:je.some(e=>e.available<.1)?"#EF4444":"#22C55E"},children:je.some(e=>e.available<.1)?"\u26a0\ufe0f Low":"\u2705 Good"})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"EMAIL SERVICE"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#22C55E"},children:"\u2705 Active"})]}),(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem"},children:"SYSTEM STATUS"}),(0,x.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#22C55E"},children:"\u2705 Online"})]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83d\udcca Quick Stats"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{textAlign:"center",padding:"1rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"8px"},children:[(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7",marginBottom:"0.5rem"},children:["$",((null===X||void 0===X||null===(z=X.transactions)||void 0===z?void 0:z.total_volume)||0).toLocaleString()]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Total Volume"})]}),(0,x.jsxs)("div",{style:{textAlign:"center",padding:"1rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:je.length}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Crypto Pairs"})]}),(0,x.jsxs)("div",{style:{textAlign:"center",padding:"1rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:K.filter(e=>e.created_at&&new Date(e.created_at)>new Date(Date.now()-864e5)).length}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"New Users (24h)"})]})]})]}),(0,x.jsx)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"20px",fontWeight:"700",margin:0,marginBottom:"0.5rem"},children:"\ud83d\udce2 Broadcast Messaging"}),(0,x.jsx)("p",{style:{fontSize:"13px",color:"#888",margin:0},children:"Send announcements to all users"})]}),(0,x.jsx)(a.$,{onClick:()=>De(!0),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.25rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap"},children:"+ New Message"})]})}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83c\udf0d Customer Analytics"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"1rem",textTransform:"uppercase"},children:"Registration Sources"}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#fff"},children:"\ud83d\udd17 Referrals:"}),(0,x.jsx)("span",{style:{color:"#00F0FF",fontWeight:"700"},children:(null===Ue||void 0===Ue||null===(k=Ue.sources)||void 0===k?void 0:k.referral)||0})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("span",{style:{color:"#fff"},children:"\ud83c\udf10 Organic:"}),(0,x.jsx)("span",{style:{color:"#22C55E",fontWeight:"700"},children:(null===Ue||void 0===Ue||null===(w=Ue.sources)||void 0===w?void 0:w.organic)||0})]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"1rem",textTransform:"uppercase"},children:"Top Referrers"}),(null===Ue||void 0===Ue||null===(A=Ue.top_referrers)||void 0===A?void 0:A.slice(0,3).map((e,r)=>(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsxs)("span",{style:{color:"#fff"},children:["#",r+1,":"]}),(0,x.jsxs)("span",{style:{color:"#A855F7",fontWeight:"700"},children:[e.referrals," users"]})]},r)))||(0,x.jsx)("div",{style:{color:"#888",fontSize:"13px"},children:"No referrals yet"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"1rem",textTransform:"uppercase"},children:"Geographic Distribution"}),(null===Ue||void 0===Ue?void 0:Ue.countries)&&Object.entries(Ue.countries).slice(0,3).map((e,r)=>{let[t,i]=e;return(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsxs)("span",{style:{color:"#fff"},children:["\ud83c\udf0d ",t,":"]}),(0,x.jsx)("span",{style:{color:"#22C55E",fontWeight:"700"},children:i})]},r)})]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"\ud83d\udca7 Liquidity Levels (All Coins)"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:je.length>0?je.map(e=>{var r,t;const i=e.available<.1;return(0,x.jsxs)("div",{style:{padding:"1.5rem",background:i?"rgba(239, 68, 68, 0.05)":"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"2px solid ".concat(i?"rgba(239, 68, 68, 0.3)":"rgba(0, 240, 255, 0.3)")},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{fontSize:"18px",fontWeight:"700",color:"#fff"},children:e.currency}),i&&(0,x.jsx)("span",{style:{fontSize:"20px"},children:"\u26a0\ufe0f"})]}),(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"900",color:i?"#EF4444":"#00F0FF",marginBottom:"0.5rem"},children:(null===(r=e.available)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Available: ",(null===(t=e.available)||void 0===t?void 0:t.toFixed(4))||"0",(0,x.jsx)("br",{}),"Reserved: ",(e.reserved||0).toFixed(4)]}),i&&(0,x.jsx)("div",{style:{marginTop:"0.5rem",padding:"0.5rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"6px"},children:(0,x.jsx)("div",{style:{fontSize:"11px",color:"#EF4444",fontWeight:"700"},children:"LOW LIQUIDITY"})})]},e.currency)}):(0,x.jsx)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"2rem",color:"#888"},children:"No liquidity wallets found. Add liquidity to get started."})})]})]}),Le&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #1a1f3a, #0a0f1e)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"22px",fontWeight:"700",marginBottom:"1.5rem"},children:"\ud83d\udce2 Send Broadcast Message"}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Message Title"}),(0,x.jsx)("input",{type:"text",value:qe.title,onChange:e=>Me((0,i.A)((0,i.A)({},qe),{},{title:e.target.value})),placeholder:"e.g., New Features Available!",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"},onFocus:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.6)",onBlur:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.3)"})]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Message Content"}),(0,x.jsx)("textarea",{value:qe.content,onChange:e=>Me((0,i.A)((0,i.A)({},qe),{},{content:e.target.value})),placeholder:"Enter your message here...",rows:6,style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",resize:"vertical",outline:"none",fontFamily:"inherit"},onFocus:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.6)",onBlur:e=>e.target.style.border="1px solid rgba(0, 240, 255, 0.3)"})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,x.jsx)("input",{type:"checkbox",checked:qe.send_email,onChange:e=>Me((0,i.A)((0,i.A)({},qe),{},{send_email:e.target.checked})),style:{width:"20px",height:"20px"}}),(0,x.jsx)("label",{style:{color:"#fff",fontSize:"14px"},children:"Also send via email"})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(a.$,{onClick:async()=>{if(qe.title&&qe.content)try{const e=await c.A.post("".concat(b,"/api/admin/broadcast-message"),qe);e.data.success&&(p.oR.success("Message sent to ".concat(e.data.messages_created," users!")),De(!1),Me({title:"",content:"",send_email:!1}))}catch(e){p.oR.error("Failed to send broadcast message"),console.error("Error sending broadcast:",e)}else p.oR.error("Please enter title and message")},style:{flex:1,background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.875rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"15px"},children:"\ud83d\udce4 Send Message"}),(0,x.jsx)(a.$,{onClick:()=>{De(!1),Me({title:"",content:"",send_email:!1})},style:{flex:1,background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontWeight:"600",padding:"0.875rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer",fontSize:"15px"},children:"Cancel"})]})]})}),He&&Ve&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(5px)"},children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #1a1f3a, #0a0f1e)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%"},children:[(0,x.jsx)("h2",{style:{color:"#A855F7",fontSize:"22px",fontWeight:"700",marginBottom:"1.5rem"},children:"\u2699\ufe0f Edit Platform Fees"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Coin Swap Fee (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:Ve.swap_fee_percent||1.5,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{swap_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Express Buy Fee (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:Ve.express_buy_fee_percent||3,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{express_buy_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"P2P Trade Fee (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:Ve.p2p_trade_fee_percent||1,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{p2p_trade_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#888",marginTop:"0.5rem"},children:"\ud83d\udca1 Applied to all P2P trades (normal and Fast Payment)"})]}),(0,x.jsxs)("div",{style:{background:"rgba(168, 85, 247, 0.05)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("label",{style:{color:"#A855F7",fontSize:"14px",display:"block",marginBottom:"1rem",fontWeight:"700"},children:"\u26a1 Per-Coin Express Buy Fee Overrides (Optional)"}),(0,x.jsxs)("div",{style:{fontSize:"11px",color:"#888",marginBottom:"1rem",lineHeight:"1.6"},children:["Set custom Express Buy fees for specific coins. Leave blank to use the global fee (",Ve.express_buy_fee_percent||3,"%)."]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"1rem"},children:br.map(e=>{var r;return(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"11px",display:"block",marginBottom:"0.3rem"},children:e}),(0,x.jsx)("input",{type:"number",step:"0.1",placeholder:"".concat(Ve.express_buy_fee_percent||3,"%"),value:(null===(r=Ve.express_buy_fees_by_coin)||void 0===r?void 0:r[e])||"",onChange:r=>{const t=(0,i.A)({},Ve.express_buy_fees_by_coin||{});""===r.target.value?delete t[e]:t[e]=parseFloat(r.target.value),Ze((0,i.A)((0,i.A)({},Ve),{},{express_buy_fees_by_coin:t}))},style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"13px",outline:"none"}})]},e)})})]}),(0,x.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.05)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("label",{style:{color:"#22C55E",fontSize:"14px",display:"block",marginBottom:"1rem",fontWeight:"700"},children:"\u26a1 Manage Express Buy Supported Coins"}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#888",marginBottom:"1rem",lineHeight:"1.6"},children:"Add or remove coins available for Express Buy. Changes apply immediately to the Express Buy page."}),(0,x.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",marginBottom:"1rem"},children:br.map(e=>(0,x.jsxs)("button",{onClick:()=>{const r=Ve.express_buy_supported_coins||[];r.includes(e)?Ze((0,i.A)((0,i.A)({},Ve),{},{express_buy_supported_coins:r.filter(r=>r!==e)})):Ze((0,i.A)((0,i.A)({},Ve),{},{express_buy_supported_coins:[...r,e]}))},style:{padding:"0.5rem 1rem",background:(Ve.express_buy_supported_coins||[]).includes(e)?"linear-gradient(135deg, #22C55E, #16A34A)":"rgba(0, 0, 0, 0.4)",border:(Ve.express_buy_supported_coins||[]).includes(e)?"2px solid rgba(34, 197, 94, 0.6)":"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"#fff",fontSize:"13px",fontWeight:"700",cursor:"pointer",transition:"all 0.3s ease"},children:[e," ",(Ve.express_buy_supported_coins||[]).includes(e)?"\u2713":"+"]},e))}),(0,x.jsxs)("div",{style:{padding:"0.75rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"8px",fontSize:"12px",color:"#22C55E"},children:[(0,x.jsxs)("strong",{children:["Selected (",(Ve.express_buy_supported_coins||[]).length," coins):"]})," ",(Ve.express_buy_supported_coins||[]).join(", ")||"None"]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Referral Commission (%)"}),(0,x.jsx)("input",{type:"number",step:"0.1",value:Ve.referral_commission_percent||20,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{referral_commission_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"13px",display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Payment Timer (minutes)"}),(0,x.jsx)("input",{type:"number",step:"1",value:Ve.payment_timer_minutes||120,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{payment_timer_minutes:parseInt(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"15px",outline:"none"}}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Time buyers have to complete payment (current: ",Math.floor((Ve.payment_timer_minutes||120)/60),"h ",(Ve.payment_timer_minutes||120)%60,"m)"]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"2rem"},children:[(0,x.jsx)(a.$,{onClick:()=>(async e=>{try{(await c.A.post("".concat(b,"/api/admin/platform-settings"),e)).data.success&&(p.oR.success("Fee settings updated successfully!"),Lr(),$e(!1))}catch(r){p.oR.error("Failed to update settings"),console.error("Error updating settings:",r)}})(Ve),style:{flex:1,background:"linear-gradient(135deg, #A855F7, #8B5CF6)",color:"#fff",fontWeight:"700",padding:"0.875rem",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"15px"},children:"\ud83d\udcbe Save Changes"}),(0,x.jsx)(a.$,{onClick:()=>{$e(!1),Lr()},style:{flex:1,background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontWeight:"600",padding:"0.875rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer",fontSize:"15px"},children:"Cancel"})]})]})}),"referrals"===ge&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(s.Zp,{style:{marginBottom:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"Referral Configuration"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Referrer Commission (%)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===le||void 0===le?void 0:le.referrer_commission_percent)||20,onBlur:e=>{e.target.value!==(null===le||void 0===le?void 0:le.referrer_commission_percent.toString())&&qr({referrer_commission_percent:parseFloat(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"Referrers earn this % of platform fees from referred users"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Commission Duration (Months)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===le||void 0===le?void 0:le.commission_duration_months)||12,onBlur:e=>{e.target.value!==(null===le||void 0===le?void 0:le.commission_duration_months.toString())&&qr({commission_duration_months:parseInt(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"How long referrers earn commissions per user"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Referred User Discount (%)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===le||void 0===le?void 0:le.referred_user_fee_discount_percent)||100,onBlur:e=>{e.target.value!==(null===le||void 0===le?void 0:le.referred_user_fee_discount_percent.toString())&&qr({referred_user_fee_discount_percent:parseFloat(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"Fee discount for new referred users (100% = 0% fees)"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{color:"#888",fontSize:"14px",display:"block",marginBottom:"0.5rem"},children:"Discount Duration (Days)"}),(0,x.jsx)("input",{type:"number",defaultValue:(null===le||void 0===le?void 0:le.fee_discount_duration_days)||30,onBlur:e=>{e.target.value!==(null===le||void 0===le?void 0:le.fee_discount_duration_days.toString())&&qr({fee_discount_duration_days:parseInt(e.target.value)})},style:{width:"100%",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px",fontWeight:"600"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"How long referred users get discounted fees"})]})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"Referral Earnings & Payouts"}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"User"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Email"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Total Earned"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Paid"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Unpaid"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Action"})]})}),(0,x.jsx)("tbody",{children:ce&&ce.length>0?ce.map(e=>(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(0, 240, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"14px"},children:e.full_name}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"14px"},children:e.email}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"16px",fontWeight:"700"},children:["$",e.total_earned.toFixed(2)]}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#22C55E",fontSize:"14px"},children:["$",e.paid_amount.toFixed(2)]}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#F59E0B",fontSize:"14px",fontWeight:"600"},children:["$",e.unpaid_amount.toFixed(2)]}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"700",background:"paid"===e.payout_status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)",color:"paid"===e.payout_status?"#22C55E":"#F59E0B",border:"paid"===e.payout_status?"1px solid #22C55E":"1px solid #F59E0B"},children:"paid"===e.payout_status?"PAID":"PENDING"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:e.unpaid_amount>0&&(0,x.jsx)("button",{onClick:()=>{const r=prompt("Enter amount to mark as paid for ".concat(e.full_name,":"),e.unpaid_amount.toFixed(2));r&&parseFloat(r)>0&&(async(e,r)=>{try{const t=await c.A.post("".concat(b,"/api/admin/mark-referral-paid"),{user_id:e,amount_paid:parseFloat(r)});if(t.data.success){p.oR.success(t.data.message);const e=await c.A.get("".concat(b,"/api/admin/referral-earnings"));e.data.success&&pe(e.data.earnings)}}catch(o){var t,i;console.error("Error marking paid:",o),p.oR.error((null===(t=o.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to mark as paid")}})(e.user_id,r)},style:{padding:"6px 16px",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"6px",color:"#000",fontSize:"12px",fontWeight:"700",cursor:"pointer"},children:"Mark Paid"})})]},e.user_id)):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"7",style:{padding:"2rem",textAlign:"center",color:"#666"},children:"No referral earnings yet"})})})]})})]})]}),"disputes"===ge&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"0.5rem"},children:"Dispute Management"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Review and resolve all P2P trade disputes"})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,x.jsx)("button",{onClick:()=>fe("all"),style:{padding:"0.5rem 1rem",background:"all"===he?"rgba(0, 240, 255, 0.2)":"rgba(0, 240, 255, 0.05)",border:"1px solid ".concat("all"===he?"#00F0FF":"rgba(0, 240, 255, 0.2)"),borderRadius:"8px",color:"all"===he?"#00F0FF":"#888",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"All"}),(0,x.jsx)("button",{onClick:()=>fe("open"),style:{padding:"0.5rem 1rem",background:"open"===he?"rgba(245, 158, 11, 0.2)":"rgba(245, 158, 11, 0.05)",border:"1px solid ".concat("open"===he?"#F59E0B":"rgba(245, 158, 11, 0.2)"),borderRadius:"8px",color:"open"===he?"#F59E0B":"#888",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Open"}),(0,x.jsx)("button",{onClick:()=>fe("resolved"),style:{padding:"0.5rem 1rem",background:"resolved"===he?"rgba(34, 197, 94, 0.2)":"rgba(34, 197, 94, 0.05)",border:"1px solid ".concat("resolved"===he?"#22C55E":"rgba(34, 197, 94, 0.2)"),borderRadius:"8px",color:"resolved"===he?"#22C55E":"#888",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Resolved"})]})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Dispute ID"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Trade ID"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Buyer"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Seller"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Amount"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Opened By"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:me&&me.filter(e=>"all"===he||e.status===he).length>0?me.filter(e=>"all"===he||e.status===he).map(e=>{var r,t,i,o,n,s,a;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(0, 240, 255, 0.1)"},children:[(0,x.jsxs)("td",{style:{padding:"1rem",color:"#888",fontSize:"13px",fontFamily:"monospace"},children:[null===(r=e.dispute_id)||void 0===r?void 0:r.substring(0,8),"..."]}),(0,x.jsxs)("td",{style:{padding:"1rem",color:"#888",fontSize:"13px",fontFamily:"monospace"},children:[null===(t=e.trade_id)||void 0===t?void 0:t.substring(0,8),"..."]}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"14px"},children:(null===(i=e.buyer)||void 0===i?void 0:i.email)||"N/A"}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"14px"},children:(null===(o=e.seller)||void 0===o?void 0:o.email)||"N/A"}),(0,x.jsxs)("td",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:[null===(n=e.trade)||void 0===n?void 0:n.crypto_amount," ",null===(s=e.trade)||void 0===s?void 0:s.crypto_currency]}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"700",background:"resolved"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)",color:"resolved"===e.status?"#22C55E":"#F59E0B",border:"resolved"===e.status?"1px solid #22C55E":"1px solid #F59E0B"},children:null===(a=e.status)||void 0===a?void 0:a.toUpperCase()})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center",color:"#888",fontSize:"13px"},children:e.opened_by}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:"open"===e.status?(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,x.jsx)("button",{onClick:()=>Mr(e.dispute_id,"release_to_buyer"),style:{padding:"6px 12px",background:"linear-gradient(135deg, #22C55E, #16A34A)",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:"700",cursor:"pointer",whiteSpace:"nowrap"},children:"\u2192 Buyer"}),(0,x.jsx)("button",{onClick:()=>Mr(e.dispute_id,"return_to_seller"),style:{padding:"6px 12px",background:"linear-gradient(135deg, #EF4444, #DC2626)",border:"none",borderRadius:"6px",color:"#fff",fontSize:"12px",fontWeight:"700",cursor:"pointer",whiteSpace:"nowrap"},children:"\u2192 Seller"})]}):(0,x.jsx)("span",{style:{color:"#666",fontSize:"12px"},children:"release_to_buyer"===e.resolution?"\u2713 Released to Buyer":"\u2713 Returned to Seller"})})]},e.dispute_id)}):(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{colSpan:"8",style:{padding:"3rem",textAlign:"center",color:"#666"},children:["No ","all"!==he?he:""," disputes found"]})})})]})})]})}),"golden-referrals"===ge&&(0,x.jsx)("div",{children:(0,x.jsxs)(s.Zp,{style:{marginBottom:"2rem",background:"rgba(255, 215, 0, 0.05)",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsx)("span",{style:{fontSize:"32px"},children:"\ud83c\udf1f"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#FFD700",fontSize:"24px",fontWeight:"900",marginBottom:"0.5rem"},children:"Golden Referral VIP Tier"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px",margin:0},children:"Premium tier: 50% commission on all fees (P2P, Swap, Withdrawal, Express Buy)"})]})]}),(0,x.jsx)("div",{style:{background:"rgba(255, 215, 0, 0.1)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:(0,x.jsxs)("p",{style:{color:"#FFD700",fontSize:"14px",margin:0,lineHeight:"1.6"},children:["\u26a0\ufe0f ",(0,x.jsx)("strong",{children:"Admin Only:"})," This VIP tier is hidden from public view and manually assigned. Users see earnings but not the tier name."]})}),(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Add User to Golden Tier"}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,x.jsx)("input",{type:"text",placeholder:"Search by email or user ID",id:"golden-search-input",style:{flex:1,minWidth:"300px",padding:"12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(255, 215, 0, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("button",{onClick:async()=>{const e=document.getElementById("golden-search-input").value;if(e)try{const r=e.includes("@"),t=new URLSearchParams(r?{email:e}:{user_id:e}),i=await c.A.get("".concat(b,"/api/admin/golden-referral/search?").concat(t));if(i.data.success&&i.data.users.length>0){window.goldenSearchResults=i.data.users;const e=document.getElementById("golden-search-results");e.style.display="block",e.innerHTML=i.data.users.map(e=>'\n                            <div style="padding: 1rem; background: rgba(0, 0, 0, 0.3); border-radius: 8px; margin-bottom: 0.5rem;">\n                              <div style="display: flex; justify-content: space-between; align-items: center;">\n                                <div>\n                                  <p style="color: #fff; font-weight: 600; margin: 0;">'.concat(e.email,'</p>\n                                  <p style="color: #888; fontSize: 12px; margin: 0.25rem 0 0 0;">\n                                    ID: ').concat(e.user_id," | Referrals: ").concat(e.referral_count," | Earned: \xa3").concat(e.total_earned.toFixed(2),"\n                                  </p>\n                                  ").concat(e.has_golden_tier?'<span style="color: #FFD700; fontSize: 12px;">\u2713 Already has Golden Tier</span>':"","\n                                </div>\n                                <button\n                                  onclick=\"activateGoldenReferral('").concat(e.user_id,'\')"\n                                  disabled="').concat(e.has_golden_tier,'"\n                                  style="\n                                    padding: 0.5rem 1rem;\n                                    background: ').concat(e.has_golden_tier?"#666":"linear-gradient(135deg, #FFD700, #FFA500)",";\n                                    color: #000;\n                                    border: none;\n                                    borderRadius: 6px;\n                                    fontWeight: 700;\n                                    cursor: ").concat(e.has_golden_tier?"not-allowed":"pointer",";\n                                    opacity: ").concat(e.has_golden_tier?"0.5":"1",';\n                                  "\n                                >\n                                  ').concat(e.has_golden_tier?"Active":"Activate","\n                                </button>\n                              </div>\n                            </div>\n                          ")).join("")}else p.oR.error("No users found")}catch(r){console.error("Search error:",r),p.oR.error("Failed to search users")}else p.oR.error("Please enter email or user ID")},style:{padding:"12px 24px",background:"linear-gradient(135deg, #00F0FF, #0891b2)",color:"#000",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:"\ud83d\udd0d Search"})]}),(0,x.jsx)("div",{id:"golden-search-results",style:{marginTop:"1rem",display:"none"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Current Golden VIP Users"}),(0,x.jsx)("button",{onClick:async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/golden-referral/users"));if(e.data.success){const r=e.data.golden_users,t=document.getElementById("golden-users-list");0===r.length?t.innerHTML='<p style="color: #888; textAlign: center; padding: 2rem;">No Golden VIP users yet</p>':t.innerHTML=r.map(e=>'\n                            <div style="\n                              padding: 1.5rem;\n                              background: rgba(255, 215, 0, 0.05);\n                              border: 2px solid rgba(255, 215, 0, 0.2);\n                              borderRadius: 12px;\n                              marginBottom: 1rem;\n                            ">\n                              <div style="display: flex; justifyContent: space-between; alignItems: start; marginBottom: 1rem;">\n                                <div>\n                                  <div style="display: flex; alignItems: center; gap: 0.5rem; marginBottom: 0.5rem;">\n                                    <span style="fontSize: 20px;">\ud83c\udf1f</span>\n                                    <h4 style="color: #FFD700; fontSize: 18px; fontWeight: 700; margin: 0;">'.concat(e.email,'</h4>\n                                  </div>\n                                  <p style="color: #888; fontSize: 12px; margin: 0;">\n                                    User ID: ').concat(e.user_id,"\n                                  </p>\n                                </div>\n                                <button\n                                  onclick=\"deactivateGoldenReferral('").concat(e.user_id,'\')"\n                                  style="\n                                    padding: 0.5rem 1rem;\n                                    background: rgba(239, 68, 68, 0.2);\n                                    color: #ef4444;\n                                    border: 2px solid #ef4444;\n                                    borderRadius: 8px;\n                                    fontSize: 13px;\n                                    fontWeight: 700;\n                                    cursor: pointer;\n                                  "\n                                >\n                                  \u274c Deactivate\n                                </button>\n                              </div>\n                              \n                              <div style="display: grid; gridTemplateColumns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; marginTop: 1rem;">\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Total Earned</p>\n                                  <p style="color: #FFD700; fontSize: 18px; fontWeight: 700; margin: 0;">\xa3').concat(e.total_earned.toFixed(2),'</p>\n                                </div>\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Transactions</p>\n                                  <p style="color: #00F0FF; fontSize: 18px; fontWeight: 700; margin: 0;">').concat(e.total_transactions,'</p>\n                                </div>\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Referrals</p>\n                                  <p style="color: #A855F7; fontSize: 18px; fontWeight: 700; margin: 0;">').concat(e.referral_count,'</p>\n                                </div>\n                                <div style="background: rgba(0, 0, 0, 0.3); padding: 0.75rem; borderRadius: 8px;">\n                                  <p style="color: #888; fontSize: 11px; margin: 0;">Commission Rate</p>\n                                  <p style="color: #10b981; fontSize: 18px; fontWeight: 700; margin: 0;">').concat(e.commission_rate,'</p>\n                                </div>\n                              </div>\n                              \n                              <div style="marginTop: 1rem; padding: 0.75rem; background: rgba(0, 0, 0, 0.2); borderRadius: 6px;">\n                                <p style="color: #888; fontSize: 11px; margin: 0;">\n                                  Activated: ').concat(new Date(e.activated_at).toLocaleDateString()," by ").concat(e.activated_by,"\n                                </p>\n                              </div>\n                            </div>\n                          ")).join("")}}catch(e){console.error("Failed to load golden users:",e),p.oR.error("Failed to load Golden VIP users")}},style:{padding:"12px 24px",background:"linear-gradient(135deg, #FFD700, #FFA500)",color:"#000",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"700",cursor:"pointer",marginBottom:"1rem"},children:"\ud83d\udcca Load Golden VIP Users"}),(0,x.jsx)("div",{id:"golden-users-list",style:{minHeight:"100px"},children:(0,x.jsx)("p",{style:{color:"#888",textAlign:"center",padding:"2rem"},children:'Click "Load Golden VIP Users" to view'})})]})]})}),"customers"===ge&&(0,x.jsxs)(s.Zp,{className:"customers-table-card",children:[(0,x.jsxs)("div",{className:"table-header",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{className:"table-title",children:"All Customers"}),(0,x.jsx)("p",{className:"table-subtitle",children:"Buyers and Lenders on the Platform"})]}),(0,x.jsxs)("div",{className:"table-actions",children:[(0,x.jsxs)("div",{className:"search-input-wrapper-admin",children:[(0,x.jsx)(d.zfp,{className:"search-icon-admin",size:20}),(0,x.jsx)(l.p,{placeholder:"Search customers...",value:te,onChange:e=>ie(e.target.value),className:"search-input-admin","data-testid":"search-customers"})]}),(0,x.jsxs)(a.$,{onClick:()=>{const e=[["Email","Name","Wallet","Balance","Deposited","Borrowed","Earned","Transactions","Created"].join(","),...Ur.map(e=>[e.email,e.full_name,e.wallet_address||"N/A",e.wallet_balance,e.total_deposited,e.total_borrowed,e.total_earned,e.transaction_count,new Date(e.created_at).toLocaleDateString()].join(","))].join("\n"),r=new Blob([e],{type:"text/csv"}),t=window.URL.createObjectURL(r),i=document.createElement("a");i.href=t,i.download="customers_".concat((new Date).toISOString().split("T")[0],".csv"),i.click(),p.oR.success("Customers exported successfully")},className:"export-btn",children:[(0,x.jsx)(d.y10,{size:20}),(0,x.jsx)("span",{children:"Export CSV"})]})]})]}),(0,x.jsx)("div",{className:"table-container",children:(0,x.jsxs)("table",{className:"customers-table",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Customer"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Wallet Address"}),(0,x.jsx)("th",{children:"Balance"}),(0,x.jsx)("th",{children:"Total Deposited"}),(0,x.jsx)("th",{children:"Total Borrowed"}),(0,x.jsx)("th",{children:"Total Earned"}),(0,x.jsx)("th",{children:"Transactions"}),(0,x.jsx)("th",{children:"Active Orders"}),(0,x.jsx)("th",{children:"Joined"})]})}),(0,x.jsx)("tbody",{children:Ur.length>0?Ur.map(e=>{var r,t,i,o,n;return(0,x.jsxs)("tr",{"data-testid":"customer-row",children:[(0,x.jsx)("td",{children:(0,x.jsxs)("div",{className:"customer-cell",children:[(0,x.jsx)("div",{className:"customer-avatar",children:(null===(r=e.full_name)||void 0===r?void 0:r.charAt(0))||"U"}),(0,x.jsx)("span",{className:"customer-name",children:e.full_name})]})}),(0,x.jsx)("td",{children:e.email}),(0,x.jsx)("td",{children:e.wallet_address?(0,x.jsxs)("span",{className:"wallet-address-cell",children:[e.wallet_address.slice(0,6),"...",e.wallet_address.slice(-4)]}):(0,x.jsx)("span",{className:"no-wallet",children:"No wallet"})}),(0,x.jsxs)("td",{children:[(null===(t=e.wallet_balance)||void 0===t?void 0:t.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsxs)("td",{children:[(null===(i=e.total_deposited)||void 0===i?void 0:i.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsxs)("td",{children:[(null===(o=e.total_borrowed)||void 0===o?void 0:o.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsxs)("td",{className:"earned-cell",children:[(null===(n=e.total_earned)||void 0===n?void 0:n.toFixed(4))||"0.0000"," ETH"]}),(0,x.jsx)("td",{children:e.transaction_count||0}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"orders-cell",children:(e.active_buy_orders||0)+(e.active_sell_orders||0)})}),(0,x.jsx)("td",{children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]},e.user_id)}):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"10",className:"empty-row",children:"No customers found"})})})]})}),(0,x.jsx)("div",{className:"table-footer",children:(0,x.jsxs)("p",{className:"showing-text",children:["Showing ",Ur.length," of ",K.length," customers"]})})]}),"overview"===ge&&oe&&(0,x.jsxs)(s.Zp,{style:{marginTop:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"900",marginBottom:"1.5rem"},children:"Platform Configuration"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px",marginBottom:"2rem"},children:"View current platform settings. Contact developer to modify core configurations."}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:oe.config&&Object.entries(oe.config).map(e=>{let[r,t]=e;return(0,x.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.3)",padding:"1rem",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{color:"#888",fontSize:"12px",marginBottom:"0.5rem",textTransform:"uppercase"},children:r.replace(/_/g," ")}),(0,x.jsx)("div",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700"},children:"number"===typeof t&&(r.includes("percent")||r.includes("rate"))?"".concat(t,"%"):t})]},r)})})]}),"liquidity"===ge&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(15, 15, 24, 0.95)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"700",marginBottom:"0.5rem"},children:"Admin Liquidity Wallet"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Manage platform liquidity for Express Buy. Add crypto to enable instant purchases."})]}),(0,x.jsx)(a.$,{onClick:()=>Se(!0),style:{marginBottom:"2rem",background:"linear-gradient(135deg, #00F0FF, #00B8E6)",color:"#0a1628",fontWeight:"700"},children:"+ Add Liquidity"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem"},children:je.map(e=>{var r,t,i;const o=e.available<.1;return(0,x.jsxs)("div",{style:{background:o?"rgba(239, 68, 68, 0.05)":"rgba(0, 240, 255, 0.05)",border:"2px solid ".concat(o?"rgba(239, 68, 68, 0.4)":"rgba(0, 240, 255, 0.3)"),borderRadius:"12px",padding:"1.5rem",position:"relative"},children:[o&&(0,x.jsx)("div",{style:{position:"absolute",top:"0.5rem",right:"0.5rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid #EF4444",borderRadius:"6px",padding:"0.25rem 0.5rem",fontSize:"10px",color:"#EF4444",fontWeight:"700"},children:"\u26a0\ufe0f LOW"}),(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{fontSize:"24px"},children:{BTC:"\u20bf",ETH:"\u039e",USDT:"\u20ae",BNB:"\ud83d\udd36",SOL:"\u25ce",LTC:"\u0141"}[e.currency]||"\ud83e\ude99"}),(0,x.jsx)("span",{style:{fontSize:"16px",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase"},children:e.currency})]}),(0,x.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#00F0FF",marginBottom:"1rem"},children:(null===(r=e.balance)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",fontSize:"12px"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Available:"}),(0,x.jsx)("span",{style:{color:"#22C55E",fontWeight:"600"},children:(null===(t=e.available)||void 0===t?void 0:t.toFixed(8))||"0.00000000"})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Reserved:"}),(0,x.jsx)("span",{style:{color:"#F59E0B",fontWeight:"600"},children:(null===(i=e.reserved)||void 0===i?void 0:i.toFixed(8))||"0.00000000"})]})]}),(0,x.jsxs)(a.$,{onClick:()=>{ze({currency:e.currency,amount:""}),Se(!0)},style:{width:"100%",marginTop:"1rem",background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",color:"#00F0FF",fontSize:"12px",fontWeight:"600"},children:["+ Add ",e.currency]})]},e.currency)})}),0===je.length&&(0,x.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"#888"},children:'No liquidity added yet. Click "Add Liquidity" to start.'}),Fe&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,x.jsxs)("div",{style:{background:"#0a1628",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"Add Liquidity for Express Buy"}),(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",fontSize:"13px",color:"#888",lineHeight:"1.6"},children:["\ud83d\udca1 ",(0,x.jsx)("strong",{style:{color:"#00F0FF"},children:"What is Liquidity?"}),(0,x.jsx)("br",{}),"Adding liquidity enables ",(0,x.jsx)("strong",{style:{color:"#fff"},children:"Instant Buy (ExpressBuy)"})," for users. When users buy crypto instantly, they pay a ",(0,x.jsx)("strong",{style:{color:"#22C55E"},children:"3% fee"})," which goes to your Fee Wallet. Liquidity is deducted automatically when users make instant purchases."]}),(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"14px",marginBottom:"0.5rem"},children:"Currency"}),(0,x.jsxs)("select",{value:_e.currency,onChange:e=>ze((0,i.A)((0,i.A)({},_e),{},{currency:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"},children:[(0,x.jsx)("option",{value:"BTC",children:"BTC"}),(0,x.jsx)("option",{value:"ETH",children:"ETH"}),(0,x.jsx)("option",{value:"USDT",children:"USDT"}),(0,x.jsx)("option",{value:"BNB",children:"BNB"}),(0,x.jsx)("option",{value:"SOL",children:"SOL"}),(0,x.jsx)("option",{value:"LTC",children:"LTC"})]})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"14px",marginBottom:"0.5rem"},children:"Amount"}),(0,x.jsx)(l.p,{type:"number",value:_e.amount,onChange:e=>ze((0,i.A)((0,i.A)({},_e),{},{amount:e.target.value})),placeholder:"0.00",style:{background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",color:"#fff"}})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(a.$,{onClick:async()=>{try{(await c.A.post("".concat(b,"/api/admin/liquidity/add"),{currency:_e.currency,amount:parseFloat(_e.amount),admin_id:(null===G||void 0===G?void 0:G.user_id)||"admin"})).data.success&&(p.oR.success("Added ".concat(_e.amount," ").concat(_e.currency," to liquidity")),Se(!1),ze({currency:"BTC",amount:""}),Tr())}catch(e){p.oR.error("Failed to add liquidity")}},style:{flex:1,background:"linear-gradient(135deg, #00F0FF, #00B8E6)",color:"#0a1628",fontWeight:"700"},children:"Add Liquidity"}),(0,x.jsx)(a.$,{onClick:()=>{Se(!1),ze({currency:"BTC",amount:""})},style:{flex:1,background:"rgba(239, 68, 68, 0.2)",border:"2px solid #EF4444",color:"#EF4444"},children:"Cancel"})]})]})}),(0,x.jsxs)("div",{style:{marginTop:"3rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udcca Liquidity History"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px",marginBottom:"1.5rem"},children:"Track all liquidity additions, withdrawals, and ExpressBuy usage."}),Ee.length>0?(0,x.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",overflow:"hidden"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)",borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Type"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Currency"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Amount"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Fee Generated"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"14px",fontWeight:"700"},children:"Date"})]})}),(0,x.jsx)("tbody",{children:Ee.slice(0,20).map((e,r)=>{var t,i;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[(0,x.jsx)("td",{style:{padding:"1rem"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"12px",fontWeight:"600",background:"addition"===e.type?"rgba(34, 197, 94, 0.2)":"withdrawal"===e.type?"rgba(239, 68, 68, 0.2)":"rgba(245, 158, 11, 0.2)",color:"addition"===e.type?"#22C55E":"withdrawal"===e.type?"#EF4444":"#F59E0B"},children:"addition"===e.type?"\u2795 Added":"withdrawal"===e.type?"\u2796 Withdrawn":"\ud83d\udcb0 Used (ExpressBuy)"})}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontWeight:"600"},children:e.currency}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#00F0FF",fontWeight:"600"},children:(null===(t=e.amount)||void 0===t?void 0:t.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#22C55E",fontWeight:"600"},children:e.fee_collected?"+".concat(e.fee_collected.toFixed(8)):"-"}),(0,x.jsx)("td",{style:{padding:"1rem"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"11px",fontWeight:"700",background:"completed"===e.status?"rgba(34, 197, 94, 0.2)":"rgba(245, 158, 11, 0.2)",color:"completed"===e.status?"#22C55E":"#F59E0B"},children:null===(i=e.status)||void 0===i?void 0:i.toUpperCase()})}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"13px"},children:e.timestamp?new Date(e.timestamp).toLocaleString():"N/A"})]},r)})})]})}):(0,x.jsx)("div",{style:{textAlign:"center",padding:"3rem",color:"#888",background:"rgba(0, 0, 0, 0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"12px"},children:"No liquidity history yet. Start adding liquidity to see transactions here."})]})]}),"withdrawals"===ge&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(15, 15, 24, 0.95)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"24px",fontWeight:"700",marginBottom:"0.5rem"},children:"Admin Withdrawals"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Withdraw collected fees and liquidity to your personal wallets."})]}),(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Your Withdrawal Addresses"}),br.map(e=>(0,x.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,x.jsxs)("label",{style:{display:"block",color:"#888",fontSize:"14px",marginBottom:"0.5rem",fontWeight:"600"},children:[e," Address"]}),(0,x.jsx)(l.p,{type:"text",value:ke[e],onChange:r=>we((0,i.A)((0,i.A)({},ke),{},{[e]:r.target.value})),placeholder:"Paste your ".concat(e," wallet address"),style:{background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",color:"#fff",fontSize:"14px"}})]},e))]}),(0,x.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{color:"#22C55E",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Fee Wallet"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:Ae.filter(e=>e.total_fees>0).map(e=>{var r;return(0,x.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.05)",border:"2px solid rgba(34, 197, 94, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:[e.currency," Fees"]}),(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#22C55E",marginBottom:"1rem"},children:(null===(r=e.total_fees)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsx)(a.$,{onClick:()=>We({currency:e.currency,amount:e.total_fees,wallet_type:"fee_wallet",address:ke[e.currency]}),disabled:!ke[e.currency],style:{width:"100%",background:ke[e.currency]?"linear-gradient(135deg, #22C55E, #16A34A)":"rgba(34, 197, 94, 0.3)",color:"#fff",fontWeight:"700"},children:"Withdraw Fees"})]},e.currency)})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#00F0FF",fontSize:"18px",fontWeight:"700",marginBottom:"1rem"},children:"Liquidity Wallet"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1rem"},children:je.filter(e=>e.available>0).map(e=>{var r,t;return(0,x.jsxs)("div",{style:{background:"rgba(0, 240, 255, 0.05)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsxs)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:[e.currency," Liquidity"]}),(0,x.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:(null===(r=e.available)||void 0===r?void 0:r.toFixed(8))||"0.00000000"}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"1rem"},children:["Total: ",null===(t=e.balance)||void 0===t?void 0:t.toFixed(8)]}),(0,x.jsx)(a.$,{onClick:()=>We({currency:e.currency,amount:e.available,wallet_type:"liquidity_wallet",address:ke[e.currency]}),disabled:!ke[e.currency],style:{width:"100%",background:ke[e.currency]?"linear-gradient(135deg, #00F0FF, #00B8E6)":"rgba(0, 240, 255, 0.3)",color:ke[e.currency]?"#0a1628":"rgba(255,255,255,0.5)",fontWeight:"700"},children:"Withdraw Liquidity"})]},e.currency)})})]}),Ce&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,x.jsxs)("div",{style:{background:"#0a1628",border:"2px solid rgba(245, 158, 11, 0.5)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},children:[(0,x.jsx)("h3",{style:{color:"#F59E0B",fontSize:"20px",fontWeight:"700",marginBottom:"1.5rem"},children:"\u26a0\ufe0f Confirm Withdrawal"}),(0,x.jsxs)("div",{style:{background:"rgba(245, 158, 11, 0.1)",padding:"1rem",borderRadius:"8px",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Currency:"}),(0,x.jsx)("span",{style:{color:"#fff",fontWeight:"700"},children:Ce.currency})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"Amount:"}),(0,x.jsx)("span",{style:{color:"#00F0FF",fontWeight:"700"},children:null===(B=Ce.amount)||void 0===B?void 0:B.toFixed(8)})]}),(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,x.jsx)("span",{style:{color:"#888"},children:"From:"}),(0,x.jsx)("span",{style:{color:"#fff",fontWeight:"700"},children:"fee_wallet"===Ce.wallet_type?"Fee Wallet":"Liquidity Wallet"})]}),(0,x.jsxs)("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[(0,x.jsx)("div",{style:{color:"#888",fontSize:"12px",marginBottom:"0.25rem"},children:"To Address:"}),(0,x.jsx)("div",{style:{color:"#fff",fontSize:"12px",wordBreak:"break-all"},children:Ce.address})]})]}),(0,x.jsx)("div",{style:{color:"#F59E0B",fontSize:"14px",marginBottom:"1.5rem",lineHeight:"1.6"},children:"This withdrawal cannot be reversed. Please verify the address is correct before confirming."}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(a.$,{onClick:async()=>{Te(!0);try{(await c.A.post("".concat(b,"/api/admin/withdraw"),{admin_id:(null===G||void 0===G?void 0:G.user_id)||"admin",currency:Ce.currency,amount:Ce.amount,wallet_type:Ce.wallet_type,withdrawal_address:Ce.address})).data.success&&(p.oR.success("Withdrawal of ".concat(Ce.amount," ").concat(Ce.currency," initiated!")),We(null),Tr(),Er())}catch(t){var e,r;p.oR.error((null===(e=t.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Withdrawal failed")}finally{Te(!1)}},disabled:Re,style:{flex:1,background:Re?"rgba(245, 158, 11, 0.3)":"linear-gradient(135deg, #F59E0B, #D97706)",color:"#fff",fontWeight:"700"},children:Re?"Processing...":"Confirm Withdrawal"}),(0,x.jsx)(a.$,{onClick:()=>We(null),disabled:Re,style:{flex:1,background:"rgba(239, 68, 68, 0.2)",border:"2px solid #EF4444",color:"#EF4444"},children:"Cancel"})]})]})})]}),"trading"===ge&&(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF",marginBottom:"2rem",textTransform:"uppercase"},children:"\u26a1 Trading Liquidity Management"}),(0,x.jsx)("p",{style:{color:"#888",marginBottom:"2rem",lineHeight:"1.6"},children:"Manage platform liquidity for the Spot Trading page. Trading pairs are automatically disabled when liquidity reaches zero. Markup/markdown percentages are hidden from users and protect the platform from market movements."}),(0,x.jsxs)("div",{style:{marginBottom:"3rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#fff"},children:"Trading Pair Liquidity"}),(0,x.jsx)(a.$,{onClick:()=>Je({show:!0,type:"add",currency:"BTC",amount:""}),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"+ Add Liquidity"})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)",borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Currency"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Total Balance"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Available"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Reserved"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontWeight:"700",textTransform:"uppercase",fontSize:"12px"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:Ge.map((e,r)=>{var t,i,o;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontWeight:"700",fontSize:"16px"},children:e.currency}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:"#fff",fontSize:"14px"},children:(null===(t=e.balance)||void 0===t?void 0:t.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:e.available>0?"#22C55E":"#EF4444",fontSize:"14px",fontWeight:"700"},children:(null===(i=e.available)||void 0===i?void 0:i.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:"#888",fontSize:"14px"},children:(null===(o=e.reserved)||void 0===o?void 0:o.toFixed(8))||"0.00000000"}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.5rem 1rem",borderRadius:"20px",fontSize:"12px",fontWeight:"700",background:e.is_tradable?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.is_tradable?"#22C55E":"#EF4444",border:"1px solid ".concat(e.is_tradable?"#22C55E":"#EF4444")},children:"active"===e.status?"\u2713 Active":"\u23f8 Paused"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[(0,x.jsx)("button",{onClick:()=>Je({show:!0,type:"add",currency:e.currency,amount:""}),style:{padding:"0.5rem 1rem",background:"rgba(0, 240, 255, 0.2)",color:"#00F0FF",border:"1px solid #00F0FF",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"700"},children:"Add"}),(0,x.jsx)("button",{onClick:()=>Je({show:!0,type:"remove",currency:e.currency,amount:""}),style:{padding:"0.5rem 1rem",background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",border:"1px solid #EF4444",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"700",opacity:e.available>0?1:.5},disabled:e.available<=0,children:"Remove"})]})})]},e.currency)})})]})})]}),(0,x.jsxs)("div",{style:{marginTop:"3rem",padding:"2rem",background:"rgba(168, 85, 247, 0.1)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#A855F7",marginBottom:"1.5rem"},children:"Fee & Spread Protection Settings"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Trading Fee %"}),(0,x.jsx)(l.p,{type:"number",step:"0.01",value:(null===Ve||void 0===Ve?void 0:Ve.trading_fee_percent)||.1,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{trading_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"Charged to users (separate from P2P and Express Buy fees)"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Buy Markup % (Hidden)"}),(0,x.jsx)(l.p,{type:"number",step:"0.01",value:(null===Ve||void 0===Ve?void 0:Ve.buy_markup_percent)||.5,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{buy_markup_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"User buys at market + this % (protects platform)"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Sell Markdown % (Hidden)"}),(0,x.jsx)(l.p,{type:"number",step:"0.01",value:(null===Ve||void 0===Ve?void 0:Ve.sell_markdown_percent)||.5,onChange:e=>Ze((0,i.A)((0,i.A)({},Ve),{},{sell_markdown_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}}),(0,x.jsx)("p",{style:{color:"#666",fontSize:"12px",marginTop:"0.5rem"},children:"User sells at market - this % (protects platform)"})]})]}),(0,x.jsx)(a.$,{onClick:async()=>{try{await c.A.post("".concat(b,"/api/admin/platform-settings"),{trading_fee_percent:Ve.trading_fee_percent,buy_markup_percent:Ve.buy_markup_percent,sell_markdown_percent:Ve.sell_markdown_percent}),p.oR.success("Trading settings updated successfully!")}catch(e){console.error("Error updating settings:",e),p.oR.error("Failed to update settings")}},style:{background:"linear-gradient(135deg, #A855F7, #EC4899)",color:"#fff",fontWeight:"700",padding:"0.75rem 2rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Save Settings"})]}),Xe.show&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:(0,x.jsxs)("div",{style:{background:"#0a1628",border:"2px solid ".concat("add"===Xe.type?"rgba(0, 240, 255, 0.5)":"rgba(239, 68, 68, 0.5)"),borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},children:[(0,x.jsxs)("h3",{style:{color:"add"===Xe.type?"#00F0FF":"#EF4444",fontSize:"20px",fontWeight:"700",marginBottom:"1.5rem"},children:["add"===Xe.type?"\u2795 Add":"\u2796 Remove"," Trading Liquidity"]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Currency"}),(0,x.jsxs)("select",{value:Xe.currency,onChange:e=>Je((0,i.A)((0,i.A)({},Xe),{},{currency:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"},children:[(0,x.jsx)("option",{value:"BTC",children:"BTC"}),(0,x.jsx)("option",{value:"ETH",children:"ETH"}),(0,x.jsx)("option",{value:"USDT",children:"USDT"}),(0,x.jsx)("option",{value:"BNB",children:"BNB"}),(0,x.jsx)("option",{value:"SOL",children:"SOL"}),(0,x.jsx)("option",{value:"LTC",children:"LTC"})]})]}),(0,x.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",marginBottom:"0.5rem",fontSize:"14px",fontWeight:"700"},children:"Amount"}),(0,x.jsx)(l.p,{type:"number",step:"0.00000001",value:Xe.amount,onChange:e=>Je((0,i.A)((0,i.A)({},Xe),{},{amount:e.target.value})),placeholder:"0.00000000",style:{width:"100%",padding:"0.75rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)(a.$,{onClick:async()=>{try{const e="add"===Xe.type?"/api/admin/trading-liquidity/add":"/api/admin/trading-liquidity/remove",r=await c.A.post("".concat(b).concat(e),{currency:Xe.currency,amount:parseFloat(Xe.amount)});r.data.success&&(p.oR.success(r.data.message),Je({show:!1,type:"add",currency:"BTC",amount:""}),Ir())}catch(t){var e,r;console.error("Error managing liquidity:",t),p.oR.error((null===(e=t.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Failed to manage liquidity")}},style:{flex:1,padding:"0.75rem",background:"add"===Xe.type?"linear-gradient(135deg, #00F0FF, #A855F7)":"linear-gradient(135deg, #EF4444, #DC2626)",color:"#fff",fontWeight:"700",borderRadius:"8px",border:"none",cursor:"pointer"},children:"Confirm"}),(0,x.jsx)(a.$,{onClick:()=>Je({show:!1,type:"add",currency:"BTC",amount:""}),style:{flex:1,padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",color:"#888",fontWeight:"700",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer"},children:"Cancel"})]})]})})]}),"revenue"===ge&&(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF",marginBottom:"2rem",textTransform:"uppercase"},children:"\ud83d\udcb0 Revenue Tracking"}),(0,x.jsx)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:["day","week","month","all"].map(e=>(0,x.jsx)("button",{onClick:()=>{pr(e),Nr(e),Pr(e,gr)},style:{padding:"0.75rem 1.5rem",background:cr===e?"linear-gradient(135deg, #00F0FF, #A855F7)":"rgba(255, 255, 255, 0.1)",color:cr===e?"#000":"#fff",border:"none",borderRadius:"8px",fontWeight:"700",cursor:"pointer",textTransform:"capitalize"},children:"all"===e?"All Time":"Last ".concat(e.charAt(0).toUpperCase()+e.slice(1))},e))}),Ke&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(14, 165, 233, 0.2), rgba(6, 182, 212, 0.1))",border:"2px solid rgba(14, 165, 233, 0.5)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:"Total Revenue (All Fees)"}),(0,x.jsxs)("div",{style:{fontSize:"42px",fontWeight:"900",color:"#0EA5E9",marginBottom:"0.5rem"},children:["\xa3",(null===(C=Ke.revenue_breakdown)||void 0===C||null===(W=C.total_revenue)||void 0===W?void 0:W.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Before referral commissions"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(147, 51, 234, 0.1))",border:"2px solid rgba(168, 85, 247, 0.5)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:"Referral Commissions Paid"}),(0,x.jsxs)("div",{style:{fontSize:"42px",fontWeight:"900",color:"#A855F7",marginBottom:"0.5rem"},children:["\xa3",(null===(R=Ke.revenue_breakdown)||void 0===R||null===(T=R.referral_commissions)||void 0===T?void 0:T.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"Paid to referrers"})]}),(0,x.jsxs)(s.Zp,{style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(16, 185, 129, 0.1))",border:"2px solid rgba(34, 197, 94, 0.5)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase",fontWeight:"700"},children:"Net Platform Profit"}),(0,x.jsxs)("div",{style:{fontSize:"42px",fontWeight:"900",color:"#22C55E",marginBottom:"0.5rem"},children:["\xa3",(null===(E=Ke.total_profit)||void 0===E?void 0:E.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888"},children:"After all commissions"})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)(s.Zp,{style:{background:"rgba(0, 240, 255, 0.1)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Trading Fees"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",(null===(I=Ke.revenue_breakdown)||void 0===I||null===(N=I.trading_fees)||void 0===N?void 0:N.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From Spot Trading"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(168, 85, 247, 0.1)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Markup/Markdown Profit"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#A855F7"},children:["\xa3",(null===(P=Ke.revenue_breakdown)||void 0===P||null===(L=P.markup_markdown_profit)||void 0===L?void 0:L.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"Hidden Spread Revenue"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(251, 146, 60, 0.1)",border:"2px solid rgba(251, 146, 60, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Express Buy Fees"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#FB923C"},children:["\xa3",(null===(D=Ke.revenue_breakdown)||void 0===D||null===(q=D.express_buy_fees)||void 0===q?void 0:q.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From Express Buy"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(236, 72, 153, 0.1)",border:"2px solid rgba(236, 72, 153, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"P2P Marketplace Fees"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#EC4899"},children:["\xa3",(null===(M=Ke.revenue_breakdown)||void 0===M||null===(U=M.p2p_fees)||void 0===U?void 0:U.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From P2P Trades"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(14, 165, 233, 0.1)",border:"2px solid rgba(14, 165, 233, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"MoonPay Revenue"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#0EA5E9"},children:["\xa3",(null===(O=Ke.revenue_breakdown)||void 0===O||null===(V=O.moonpay_revenue)||void 0===V?void 0:V.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"From MoonPay Integration"})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(245, 158, 11, 0.1)",border:"2px solid rgba(245, 158, 11, 0.3)",borderRadius:"12px",padding:"1.5rem"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Total Fee Wallet"}),(0,x.jsxs)("div",{style:{fontSize:"28px",fontWeight:"900",color:"#F59E0B"},children:["\xa3",(null===(Z=Ke.total_fee_wallet_gbp)||void 0===Z?void 0:Z.toLocaleString())||"0"]}),(0,x.jsx)("div",{style:{fontSize:"11px",color:"#666",marginTop:"0.5rem"},children:"Collected Fees (All Time)"})]})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.4)",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#fff",marginBottom:"1rem"},children:"Fee Wallet Breakdown by Currency"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:Ke.fee_wallet_breakdown&&Object.entries(Ke.fee_wallet_breakdown).map(e=>{var r,t,i,o,n;let[s,a]=e;return(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:s}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Total: ",null===(r=a.total_fees)||void 0===r?void 0:r.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Trading: ",null===(t=a.trading_fees)||void 0===t?void 0:t.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["P2P: ",null===(i=a.p2p_fees)||void 0===i?void 0:i.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:["Express: ",null===(o=a.express_buy_fees)||void 0===o?void 0:o.toFixed(8)]}),(0,x.jsxs)("div",{style:{fontSize:"11px",color:"#22C55E",marginTop:"0.5rem",fontWeight:"700"},children:["\u2248 \xa3",null===(n=a.gbp_value)||void 0===n?void 0:n.toLocaleString()]})]},s)})})]}),(0,x.jsxs)(s.Zp,{style:{background:"rgba(15, 23, 42, 0.4)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"900",color:"#A855F7"},children:"\ud83c\udfaf 13-Feature Monetization Breakdown"}),(0,x.jsx)("button",{onClick:async()=>{try{const e=await c.A.get("".concat(b,"/api/admin/revenue/monetization-breakdown?period=").concat(cr));e.data.success&&(ur(e.data),fr(!0))}catch(e){console.error("Failed to fetch monetization breakdown:",e),p.oR.error("Failed to load monetization breakdown")}},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:"\ud83d\udcca View Detailed Breakdown"})]}),(0,x.jsx)("p",{style:{fontSize:"13px",color:"#888",lineHeight:"1.6"},children:"View comprehensive revenue analysis for all 13 monetization features: Express Buy/Sell Fees, Admin Spreads, P2P Seller Fees, Payment Method Fees, Boosted Listings, Seller Verification/Levels, Referral Upgrades, Arbitrage Alerts, Internal Transfers, Dispute Penalties, and OTC Desk."})]})]}),(0,x.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[(0,x.jsx)("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#fff"},children:"Fee Transaction Log"}),(0,x.jsxs)("select",{value:gr,onChange:e=>{xr(e.target.value),Pr(cr,e.target.value)},style:{padding:"0.5rem 1rem",background:"rgba(15, 23, 42, 0.6)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"14px"},children:[(0,x.jsx)("option",{value:"all",children:"All Transactions"}),(0,x.jsx)("option",{value:"trading",children:"Trading Fees"}),(0,x.jsx)("option",{value:"p2p",children:"P2P Fees"}),(0,x.jsx)("option",{value:"express_buy",children:"Express Buy"})]})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{background:"rgba(0, 240, 255, 0.1)",borderBottom:"2px solid rgba(0, 240, 255, 0.3)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Timestamp"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Type"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Subtype"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"right",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Amount"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Currency"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Pair/Details"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontWeight:"700",fontSize:"12px"},children:"Transaction ID"})]})}),(0,x.jsx)("tbody",{children:er.length>0?er.map((e,r)=>{var t,i;return(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"12px"},children:new Date(e.timestamp).toLocaleString()}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontSize:"13px",fontWeight:"600"},children:e.type}),(0,x.jsx)("td",{style:{padding:"1rem",fontSize:"12px"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"11px",fontWeight:"700",background:"BUY"===e.subtype?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:"BUY"===e.subtype?"#22C55E":"#EF4444"},children:e.subtype})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"right",color:"#22C55E",fontSize:"14px",fontWeight:"700"},children:null===(t=e.amount)||void 0===t?void 0:t.toFixed(4)}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#00F0FF",fontSize:"13px",fontWeight:"600"},children:e.currency}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"12px"},children:e.pair||"N/A"}),(0,x.jsxs)("td",{style:{padding:"1rem",color:"#666",fontSize:"11px",fontFamily:"monospace"},children:[null===(i=e.transaction_id)||void 0===i?void 0:i.substring(0,8),"..."]})]},e.transaction_id||r)}):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"7",style:{padding:"2rem",textAlign:"center",color:"#888"},children:"No transactions found for the selected period"})})})]})})]})]}),"coins"===ge&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:"Coin Management (CMS)"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Enable/disable coins, configure NowPay wallets, and control which services support each coin"})]}),(0,x.jsx)("button",{onClick:()=>{ar(!0),fetchSupportedCoins()},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"+ Add New Coin"})]}),(0,x.jsx)("div",{style:{overflowX:"auto"},children:(0,x.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{style:{borderBottom:"2px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Symbol"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Name"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Status"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"P2P"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Trading"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Instant Buy"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Express Buy"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"left",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"NowPay Wallet"}),(0,x.jsx)("th",{style:{padding:"1rem",textAlign:"center",color:"#00F0FF",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},children:"Actions"})]})}),(0,x.jsx)("tbody",{children:tr.map(e=>(0,x.jsxs)("tr",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,x.jsx)("td",{style:{padding:"1rem",color:"#fff",fontWeight:"700",fontSize:"16px"},children:e.symbol}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"14px"},children:e.name}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:r=>toggleCoinStatus(e.symbol,r.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,x.jsx)("span",{style:{marginLeft:"0.5rem",color:e.enabled?"#22C55E":"#EF4444",fontSize:"13px",fontWeight:"600"},children:e.enabled?"Enabled":"Disabled"})]})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_p2p?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_p2p?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_p2p?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_trading?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_trading?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_trading?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_instant_buy?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_instant_buy?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_instant_buy?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("span",{style:{padding:"0.25rem 0.5rem",background:e.supports_express_buy?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.supports_express_buy?"#22C55E":"#EF4444",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:e.supports_express_buy?"\u2713":"\u2717"})}),(0,x.jsx)("td",{style:{padding:"1rem",color:"#888",fontSize:"12px"},children:e.nowpay_wallet_id||(0,x.jsx)("span",{style:{color:"#666",fontStyle:"italic"},children:"Not configured"})}),(0,x.jsx)("td",{style:{padding:"1rem",textAlign:"center"},children:(0,x.jsx)("button",{onClick:()=>nr(e),style:{padding:"0.4rem 0.75rem",background:"rgba(0, 240, 255, 0.2)",border:"1px solid rgba(0, 240, 255, 0.4)",borderRadius:"4px",color:"#00F0FF",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Edit"})})]},e.symbol))})]})}),or&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>nr(null),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))",border:"2px solid rgba(0, 240, 255, 0.4)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,x.jsxs)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#00F0FF",marginBottom:"1.5rem"},children:["Edit ",or.symbol," Configuration"]}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"NowPay Wallet ID"}),(0,x.jsx)("input",{type:"text",value:or.nowpay_wallet_id||"",onChange:e=>nr((0,i.A)((0,i.A)({},or),{},{nowpay_wallet_id:e.target.value})),placeholder:"Enter NowPay wallet ID",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:or.supports_p2p,onChange:e=>nr((0,i.A)((0,i.A)({},or),{},{supports_p2p:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support P2P"})]}),(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:or.supports_trading,onChange:e=>nr((0,i.A)((0,i.A)({},or),{},{supports_trading:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support Trading"})]}),(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:or.supports_instant_buy,onChange:e=>nr((0,i.A)((0,i.A)({},or),{},{supports_instant_buy:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support Instant Buy"})]}),(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:or.supports_express_buy,onChange:e=>nr((0,i.A)((0,i.A)({},or),{},{supports_express_buy:e.target.checked})),style:{width:"18px",height:"18px"}}),(0,x.jsx)("span",{style:{color:"#fff",fontSize:"14px"},children:"Support Express Buy"})]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)("button",{onClick:()=>nr(null),style:{flex:1,padding:"0.75rem",background:"rgba(239, 68, 68, 0.2)",border:"2px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",color:"#EF4444",fontWeight:"700",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:()=>updateCoinConfig(or.symbol,{nowpay_wallet_id:or.nowpay_wallet_id,supports_p2p:or.supports_p2p,supports_trading:or.supports_trading,supports_instant_buy:or.supports_instant_buy,supports_express_buy:or.supports_express_buy}),style:{flex:2,padding:"0.75rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"Save Changes"})]})]})}),sr&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>ar(!1),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))",border:"2px solid rgba(0, 240, 255, 0.4)",borderRadius:"16px",padding:"2rem",maxWidth:"500px",width:"90%"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#00F0FF",marginBottom:"1.5rem"},children:"Add New Coin"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Symbol *"}),(0,x.jsx)("input",{type:"text",value:lr.symbol,onChange:e=>dr((0,i.A)((0,i.A)({},lr),{},{symbol:e.target.value.toUpperCase()})),placeholder:"e.g., XRP",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Name *"}),(0,x.jsx)("input",{type:"text",value:lr.name,onChange:e=>dr((0,i.A)((0,i.A)({},lr),{},{name:e.target.value})),placeholder:"e.g., Ripple",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"NowPay Wallet ID (Optional)"}),(0,x.jsx)("input",{type:"text",value:lr.nowpay_wallet_id,onChange:e=>dr((0,i.A)((0,i.A)({},lr),{},{nowpay_wallet_id:e.target.value})),placeholder:"Configure later",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,x.jsx)("button",{onClick:()=>{ar(!1),dr({symbol:"",name:"",nowpay_wallet_id:""})},style:{flex:1,padding:"0.75rem",background:"rgba(239, 68, 68, 0.2)",border:"2px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",color:"#EF4444",fontWeight:"700",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:addNewCoin,style:{flex:2,padding:"0.75rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"Add Coin"})]})]})}),(0,x.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px"},children:[(0,x.jsx)("p",{style:{color:"#00F0FF",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"\ud83d\udca1 How This Works:"}),(0,x.jsxs)("ul",{style:{color:"#888",fontSize:"12px",lineHeight:"1.6",paddingLeft:"1.25rem"},children:[(0,x.jsx)("li",{children:"Enable/disable coins to control visibility across all services (P2P, Trading, Instant Buy, Express Buy)"}),(0,x.jsx)("li",{children:"Configure NowPay Wallet IDs to link each coin to its corresponding payment wallet for deposits/withdrawals"}),(0,x.jsx)("li",{children:"Toggle individual service support to control where each coin can be used"}),(0,x.jsx)("li",{children:"The crypto dropdown in P2P Marketplace automatically shows only enabled coins with P2P support"}),(0,x.jsx)("li",{children:"New coins can be added instantly and will appear throughout the platform when enabled"})]})]})]}),"banners"===ge&&(0,x.jsxs)(s.Zp,{style:{padding:"2rem",background:"rgba(26, 31, 58, 0.8)",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#00F0FF",marginBottom:"0.5rem"},children:"Promo Banner Management"}),(0,x.jsx)("p",{style:{color:"#888",fontSize:"14px"},children:"Create and schedule promotional banners that appear at the top of the platform"})]}),(0,x.jsx)("button",{onClick:()=>{wr(null),Wr({title:"",message:"",type:"info",link:"",link_text:"",start_date:(new Date).toISOString().slice(0,16),end_date:"",is_active:!0}),Br(!0)},style:{padding:"0.75rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:"+ Create New Banner"})]}),(0,x.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:0===_r.length?(0,x.jsx)("div",{style:{padding:"3rem",textAlign:"center",color:"#888"},children:(0,x.jsx)("p",{children:'No banners created yet. Click "Create New Banner" to get started.'})}):_r.map(e=>(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1.5rem"},children:[(0,x.jsxs)("div",{style:{flex:1},children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem"},children:[(0,x.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#00F0FF"},children:e.title}),(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",background:"info"===e.type?"rgba(0, 240, 255, 0.2)":"warning"===e.type?"rgba(251, 146, 60, 0.2)":"success"===e.type?"rgba(34, 197, 94, 0.2)":"rgba(168, 85, 247, 0.2)",color:"info"===e.type?"#00F0FF":"warning"===e.type?"#FB923C":"success"===e.type?"#22C55E":"#A855F7",borderRadius:"6px",fontSize:"11px",fontWeight:"700",textTransform:"uppercase"},children:e.type}),(0,x.jsx)("span",{style:{padding:"0.25rem 0.75rem",background:e.is_active?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)",color:e.is_active?"#22C55E":"#EF4444",borderRadius:"6px",fontSize:"11px",fontWeight:"700"},children:e.is_active?"ACTIVE":"INACTIVE"})]}),(0,x.jsx)("p",{style:{margin:"0 0 1rem",color:"#E2E8F0",fontSize:"14px"},children:e.message}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1.5rem",fontSize:"13px",color:"#888"},children:[(0,x.jsxs)("span",{children:["\ud83d\udcc5 Start: ",new Date(e.start_date).toLocaleString()]}),e.end_date&&(0,x.jsxs)("span",{children:["\u23f0 End: ",new Date(e.end_date).toLocaleString()]}),e.link&&(0,x.jsxs)("span",{children:["\ud83d\udd17 Link: ",e.link_text||"View"]})]})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,x.jsx)("button",{onClick:()=>editBanner(e),style:{padding:"0.5rem 1rem",background:"rgba(0, 240, 255, 0.2)",border:"1px solid rgba(0, 240, 255, 0.4)",borderRadius:"6px",color:"#00F0FF",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Edit"}),(0,x.jsx)("button",{onClick:()=>deleteBanner(e.banner_id),style:{padding:"0.5rem 1rem",background:"rgba(239, 68, 68, 0.2)",border:"1px solid rgba(239, 68, 68, 0.4)",borderRadius:"6px",color:"#EF4444",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Delete"})]})]},e.banner_id))}),Ar&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>Br(!1),children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(26, 31, 58, 0.95), rgba(15, 20, 40, 0.95))",border:"2px solid rgba(0, 240, 255, 0.4)",borderRadius:"16px",padding:"2rem",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,x.jsx)("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#00F0FF",marginBottom:"1.5rem"},children:kr?"Edit Banner":"Create New Banner"}),(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Title *"}),(0,x.jsx)("input",{type:"text",value:Cr.title,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{title:e.target.value})),placeholder:"Banner title",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Message *"}),(0,x.jsx)("textarea",{value:Cr.message,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{message:e.target.value})),placeholder:"Banner message",rows:3,style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px",resize:"vertical"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Type"}),(0,x.jsxs)("select",{value:Cr.type,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{type:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"},children:[(0,x.jsx)("option",{value:"info",children:"Info (Cyan)"}),(0,x.jsx)("option",{value:"warning",children:"Warning (Orange)"}),(0,x.jsx)("option",{value:"success",children:"Success (Green)"}),(0,x.jsx)("option",{value:"promo",children:"Promo (Purple)"})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Link URL"}),(0,x.jsx)("input",{type:"text",value:Cr.link,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{link:e.target.value})),placeholder:"/page or https://...",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Link Text"}),(0,x.jsx)("input",{type:"text",value:Cr.link_text,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{link_text:e.target.value})),placeholder:"Learn More",style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]})]}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"Start Date *"}),(0,x.jsx)("input",{type:"datetime-local",value:Cr.start_date,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{start_date:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{style:{display:"block",color:"#888",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"End Date (Optional)"}),(0,x.jsx)("input",{type:"datetime-local",value:Cr.end_date,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{end_date:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.5)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"6px",color:"#fff",fontSize:"14px"}})]})]}),(0,x.jsx)("div",{children:(0,x.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,x.jsx)("input",{type:"checkbox",checked:Cr.is_active,onChange:e=>Wr((0,i.A)((0,i.A)({},Cr),{},{is_active:e.target.checked})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,x.jsx)("span",{style:{color:"#888",fontSize:"14px",fontWeight:"600"},children:"Active (visible to users)"})]})})]}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[(0,x.jsx)("button",{onClick:()=>Br(!1),style:{flex:1,padding:"0.75rem",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"8px",color:"#fff",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)("button",{onClick:saveBanner,style:{flex:1,padding:"0.75rem",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"8px",color:"#000",fontWeight:"700",cursor:"pointer"},children:kr?"Update Banner":"Create Banner"})]})]})}),(0,x.jsxs)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(0, 240, 255, 0.1)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px"},children:[(0,x.jsx)("p",{style:{color:"#00F0FF",fontSize:"13px",marginBottom:"0.5rem",fontWeight:"600"},children:"\ud83d\udca1 How Promo Banners Work:"}),(0,x.jsxs)("ul",{style:{color:"#888",fontSize:"12px",lineHeight:"1.6",paddingLeft:"1.25rem"},children:[(0,x.jsx)("li",{children:"Banners appear at the top of the platform for all users (below the price ticker)"}),(0,x.jsx)("li",{children:"Schedule banners with start/end dates for time-limited promotions"}),(0,x.jsx)("li",{children:"Users can dismiss banners - they won't see them again on that device"}),(0,x.jsx)("li",{children:"Only one banner shows at a time (most recent active banner)"}),(0,x.jsx)("li",{children:"Choose from 4 types: Info (cyan), Warning (orange), Success (green), or Promo (purple)"}),(0,x.jsx)("li",{children:"Add optional action buttons with custom links"})]})]})]}),"monetization"===ge&&(0,x.jsxs)(s.Zp,{style:{background:"rgba(26, 31, 58, 0.8)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h2",{style:{color:"#00F0FF",fontSize:"28px",fontWeight:"900",margin:0,marginBottom:"0.5rem"},children:"\ud83d\udcb0 Monetization Settings"}),(0,x.jsx)("p",{style:{fontSize:"14px",color:"#888",margin:0},children:"Configure all platform fees and pricing - All fees are automatically deducted"})]}),!Fr&&(0,x.jsx)(a.$,{onClick:()=>Sr(!0),style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"\u270f\ufe0f Edit Settings"})]}),jr&&(0,x.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udcca Trading Fees"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Buyer Express Fee"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.buyer_express_fee_percent,id:"buyer_express_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:[jr.buyer_express_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Auto-added to Express Buy orders"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Instant Sell Fee"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.instant_sell_fee_percent,id:"instant_sell_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:[jr.instant_sell_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Deducted from seller payout"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Admin Sell Spread"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.admin_sell_spread_percent,id:"admin_sell_spread_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#22C55E"},children:["+",jr.admin_sell_spread_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Markup on Express Buy price"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Admin Buy Spread"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.admin_buy_spread_percent,id:"admin_buy_spread_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#EF4444"},children:[jr.admin_buy_spread_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Markdown on Instant Sell price"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"P2P Seller Fee"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.p2p_seller_fee_percent,id:"p2p_seller_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:[jr.p2p_seller_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Deducted from seller on P2P trade"})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udc54 Seller Features (One-Time Payments)"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Seller Verification"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.seller_verification_price,id:"seller_verification_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:["\xa3",jr.seller_verification_price]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Get verified badge"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(192, 192, 192, 0.1)",borderRadius:"12px",border:"1px solid rgba(192, 192, 192, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Silver Level Upgrade"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.seller_silver_upgrade_price,id:"seller_silver_upgrade_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(192, 192, 192, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#C0C0C0"},children:["\xa3",jr.seller_silver_upgrade_price]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Priority + ",jr.silver_fee_reduction_percent,"% fee reduction"]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(255, 215, 0, 0.1)",borderRadius:"12px",border:"1px solid rgba(255, 215, 0, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Gold Level Upgrade"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.seller_gold_upgrade_price,id:"seller_gold_upgrade_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 215, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#FFD700"},children:["\xa3",jr.seller_gold_upgrade_price]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Top priority + ",jr.gold_fee_reduction_percent,"% fee reduction"]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\ude80 Boosted Listings"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"1 Hour Boost"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.boost_1h_price,id:"boost_1h_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",jr.boost_1h_price]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"6 Hours Boost"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.boost_6h_price,id:"boost_6h_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",jr.boost_6h_price]})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"12px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"24 Hours Boost"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.boost_24h_price,id:"boost_24h_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#00F0FF"},children:["\xa3",jr.boost_24h_price]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\u2699\ufe0f Other Fees & Features"}),(0,x.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Internal Transfer Fee"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.internal_transfer_fee_percent,id:"internal_transfer_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#A855F7"},children:[jr.internal_transfer_fee_percent,"%"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Wallet-to-wallet transfers"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(239, 68, 68, 0.05)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Dispute Penalty"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.dispute_penalty_gbp,id:"dispute_penalty_gbp",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#EF4444"},children:["\xa3",jr.dispute_penalty_gbp]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Applied to losing party"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(34, 197, 94, 0.05)",borderRadius:"12px",border:"1px solid rgba(34, 197, 94, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"Arbitrage Alerts"}),Fr?(0,x.jsx)("input",{type:"number",step:"1",defaultValue:jr.arbitrage_alerts_monthly_price,id:"arbitrage_alerts_monthly_price",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#22C55E"},children:["\xa3",jr.arbitrage_alerts_monthly_price,"/mo"]}),(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:"Monthly subscription fee"})]}),(0,x.jsxs)("div",{style:{padding:"1.5rem",background:"rgba(255, 165, 0, 0.1)",borderRadius:"12px",border:"1px solid rgba(255, 165, 0, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:"OTC Desk Fee"}),Fr?(0,x.jsx)("input",{type:"number",step:"0.1",defaultValue:jr.otc_fee_percent,id:"otc_fee_percent",style:{width:"100%",padding:"0.5rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(255, 165, 0, 0.3)",borderRadius:"6px",color:"#fff",fontSize:"16px"}}):(0,x.jsxs)("div",{style:{fontSize:"24px",fontWeight:"900",color:"#FFA500"},children:[jr.otc_fee_percent,"%"]}),(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#888",marginTop:"0.5rem"},children:["Min: \xa3",jr.otc_minimum_amount_gbp]})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("h3",{style:{color:"#A855F7",fontSize:"20px",fontWeight:"700",marginBottom:"1rem"},children:"\ud83d\udcb3 Payment Method Fees"}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:jr.payment_method_fees&&Object.entries(jr.payment_method_fees).map(e=>{let[r,t]=e;return(0,x.jsxs)("div",{style:{padding:"1rem",background:"rgba(0, 240, 255, 0.05)",borderRadius:"8px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,x.jsx)("div",{style:{fontSize:"12px",color:"#888",marginBottom:"0.5rem",textTransform:"capitalize"},children:r.replace("_"," ")}),(0,x.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:t>0?"#00F0FF":"#22C55E"},children:t>0?"+".concat(t,"%"):"Free"})]},r)})})]}),Fr&&(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1rem"},children:[(0,x.jsx)(a.$,{onClick:()=>Sr(!1),style:{background:"rgba(255, 255, 255, 0.1)",color:"#fff",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",cursor:"pointer"},children:"Cancel"}),(0,x.jsx)(a.$,{onClick:()=>{(async e=>{try{const r=await c.A.post("".concat(b,"/api/admin/monetization/settings"),e);r.data.success&&(p.oR.success("Monetization settings updated successfully!"),vr(r.data.settings),Sr(!1))}catch(r){console.error("Error updating monetization settings:",r),p.oR.error("Failed to update monetization settings")}})({buyer_express_fee_percent:parseFloat(document.getElementById("buyer_express_fee_percent").value),instant_sell_fee_percent:parseFloat(document.getElementById("instant_sell_fee_percent").value),admin_sell_spread_percent:parseFloat(document.getElementById("admin_sell_spread_percent").value),admin_buy_spread_percent:parseFloat(document.getElementById("admin_buy_spread_percent").value),p2p_seller_fee_percent:parseFloat(document.getElementById("p2p_seller_fee_percent").value),seller_verification_price:parseFloat(document.getElementById("seller_verification_price").value),seller_silver_upgrade_price:parseFloat(document.getElementById("seller_silver_upgrade_price").value),seller_gold_upgrade_price:parseFloat(document.getElementById("seller_gold_upgrade_price").value),boost_1h_price:parseFloat(document.getElementById("boost_1h_price").value),boost_6h_price:parseFloat(document.getElementById("boost_6h_price").value),boost_24h_price:parseFloat(document.getElementById("boost_24h_price").value),internal_transfer_fee_percent:parseFloat(document.getElementById("internal_transfer_fee_percent").value),dispute_penalty_gbp:parseFloat(document.getElementById("dispute_penalty_gbp").value),arbitrage_alerts_monthly_price:parseFloat(document.getElementById("arbitrage_alerts_monthly_price").value),otc_fee_percent:parseFloat(document.getElementById("otc_fee_percent").value)})},style:{background:"linear-gradient(135deg, #00F0FF, #A855F7)",color:"#000",fontWeight:"700",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",cursor:"pointer"},children:"\ud83d\udcbe Save Changes"})]})]}),!jr&&(0,x.jsxs)("div",{style:{textAlign:"center",padding:"3rem",color:"#888"},children:[(0,x.jsx)("div",{style:{fontSize:"48px",marginBottom:"1rem"},children:"\u23f3"}),(0,x.jsx)("div",{children:"Loading monetization settings..."})]})]}),"platform-wallet"===ge&&(0,x.jsx)(u,{}),"support-chat"===ge&&(0,x.jsx)(f,{})]}),hr&&mr&&(0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(10px)",padding:"2rem"},children:(0,x.jsxs)("div",{style:{background:"linear-gradient(135deg, #1a1f3a 0%, #13182a 100%)",borderRadius:"24px",padding:"2rem",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"auto",border:"2px solid #A855F7",boxShadow:"0 0 50px rgba(168, 85, 247, 0.5)"},children:[(0,x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,x.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:"#A855F7"},children:"\ud83c\udfaf 13-Feature Monetization Breakdown"}),(0,x.jsx)("button",{onClick:()=>fr(!1),style:{background:"rgba(239, 68, 68, 0.2)",color:"#EF4444",border:"2px solid #EF4444",borderRadius:"8px",padding:"0.5rem 1rem",fontSize:"14px",fontWeight:"700",cursor:"pointer"},children:"\u2715 Close"})]}),(0,x.jsxs)("div",{style:{marginBottom:"2rem",padding:"1.5rem",background:"rgba(168, 85, 247, 0.1)",borderRadius:"12px",border:"2px solid rgba(168, 85, 247, 0.3)"},children:[(0,x.jsx)("div",{style:{fontSize:"14px",color:"#888",marginBottom:"0.5rem"},children:"Total Revenue from All Features"}),(0,x.jsxs)("div",{style:{fontSize:"48px",fontWeight:"900",color:"#A855F7"},children:["\xa3",(null===(H=mr.total_revenue_gbp)||void 0===H?void 0:H.toLocaleString())||"0"]}),(0,x.jsxs)("div",{style:{fontSize:"13px",color:"#888"},children:["Period: ","all"===cr?"All Time":"Last ".concat(cr)]})]}),(0,x.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"1rem"},children:mr.breakdown&&Object.entries(mr.breakdown).map(e=>{var r;let[t,i]=e;return(0,x.jsxs)(s.Zp,{style:{background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"12px",padding:"1.5rem",transition:"all 0.3s ease"},children:[(0,x.jsx)("div",{style:{fontSize:"13px",color:"#888",marginBottom:"0.5rem",textTransform:"uppercase"},children:i.name}),(0,x.jsxs)("div",{style:{fontSize:"32px",fontWeight:"900",color:"#00F0FF",marginBottom:"0.5rem"},children:["\xa3",(null===(r=i.revenue_gbp)||void 0===r?void 0:r.toLocaleString())||"0"]}),void 0!==i.transaction_count&&(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[i.transaction_count," transaction",1!==i.transaction_count?"s":""]}),void 0!==i.active_subscriptions&&(0,x.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[i.active_subscriptions," active subscription",1!==i.active_subscriptions?"s":""]})]},t)})}),(0,x.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"rgba(34, 197, 94, 0.1)",borderRadius:"12px",border:"2px solid rgba(34, 197, 94, 0.3)"},children:(0,x.jsxs)("p",{style:{fontSize:"13px",color:"#888",margin:0},children:["\ud83d\udca1 ",(0,x.jsx)("strong",{style:{color:"#22C55E"},children:"Tip:"})," All fees are automatically collected and tracked. Adjust individual fee settings in the Monetization tab to optimize revenue."]})})]})})]})}}}]);
//# sourceMappingURL=8484.98a8ea95.chunk.js.map