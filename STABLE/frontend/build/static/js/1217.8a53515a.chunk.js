"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1217],{1217:(e,r,t)=>{t.r(r),t.d(r,{default:()=>g});var i=t(5043),o=t(8163),a=t(1817),n=t(221),l=t(9722),s=t(6328),d=t(579);const c="https://crypto-trust-guard.preview.emergentagent.com";function g(){var e;const r=(0,o.Zp)(),[t,g]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[u,b]=(0,i.useState)(!0),[h,x]=(0,i.useState)(!1),[F,f]=(0,i.useState)("BTC"),[y,j]=(0,i.useState)(""),[v,S]=(0,i.useState)("GBP"),[k,C]=(0,i.useState)(""),[z,R]=(0,i.useState)(""),[B,W]=(0,i.useState)(""),[w,T]=(0,i.useState)([]),[_,P]=(0,i.useState)([]),[A,E]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=localStorage.getItem("cryptobank_user");if(!e)return void r("/login");const t=JSON.parse(e);p(t),q()},[r]);const q=async()=>{try{const e=await l.A.get("".concat(c,"/p2p/config"));e.data.success&&g(e.data)}catch(e){console.error("Error fetching config:",e),s.oR.error("Failed to load configuration")}finally{b(!1)}},O=()=>{A.trim()&&(P([..._,{tag:A.toLowerCase().replace(/\s+/g,"_"),label:A}]),E(""))};if(u)return(0,d.jsx)(a.A,{children:(0,d.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:(0,d.jsx)("div",{style:{width:"48px",height:"48px",border:"4px solid rgba(0, 240, 255, 0.3)",borderTopColor:"#00F0FF",borderRadius:"50%",animation:"spin 1s linear infinite"}})})});const I=y&&k?(parseFloat(y)*parseFloat(k)).toLocaleString():"0",D=(null===t||void 0===t||null===(e=t.currencies[v])||void 0===e?void 0:e.symbol)||"";return(0,d.jsx)(a.A,{children:(0,d.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto",padding:"2rem 1rem"},children:[(0,d.jsxs)("div",{style:{marginBottom:"2rem",display:"flex",alignItems:"center",gap:"1rem"},children:[(0,d.jsx)("button",{onClick:()=>r("/p2p-marketplace"),style:{padding:"0.75rem",background:"rgba(0, 240, 255, 0.1)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"10px",color:"#00F0FF",cursor:"pointer",display:"flex",alignItems:"center"},children:(0,d.jsx)(n.NEn,{size:24})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"900",background:"linear-gradient(135deg, #00F0FF, #A855F7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Create Sell Offer"}),(0,d.jsx)("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"0.875rem",marginTop:"0.25rem"},children:"List your crypto for sale on the P2P marketplace"})]})]}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!y||parseFloat(y)<=0)s.oR.error("Please enter a valid crypto amount");else if(!k||parseFloat(k)<=0)s.oR.error("Please enter a valid price per unit");else if(!z||parseFloat(z)<=0)s.oR.error("Please enter a valid minimum purchase");else if(!B||parseFloat(B)<=0)s.oR.error("Please enter a valid maximum purchase");else if(parseFloat(z)>parseFloat(B))s.oR.error("Minimum purchase cannot be greater than maximum");else if(parseFloat(B)>parseFloat(y))s.oR.error("Maximum purchase cannot exceed total amount");else if(0!==w.length){x(!0);try{(await l.A.post("".concat(c,"/p2p/create-offer"),{seller_id:m.user_id,crypto_currency:F,crypto_amount:parseFloat(y),fiat_currency:v,price_per_unit:parseFloat(k),min_purchase:parseFloat(z),max_purchase:parseFloat(B),payment_methods:w,seller_requirements:_})).data.success&&(s.oR.success("Offer created successfully!"),r("/p2p-marketplace"))}catch(o){var t,i;console.error("Error creating offer:",o),s.oR.error((null===(t=o.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.detail)||"Failed to create offer")}finally{x(!1)}}else s.oR.error("Please select at least one payment method")},children:[(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:[(0,d.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:"700",color:"#FFFFFF",marginBottom:"1.5rem"},children:"Crypto Details"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth>768?"repeat(2, 1fr)":"1fr",gap:"1.5rem"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:"Cryptocurrency *"}),(0,d.jsxs)("select",{value:F,onChange:e=>f(e.target.value),required:!0,style:{width:"100%",padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"},children:[(0,d.jsx)("option",{value:"BTC",children:"Bitcoin (BTC)"}),(0,d.jsx)("option",{value:"ETH",children:"Ethereum (ETH)"}),(0,d.jsx)("option",{value:"USDT",children:"Tether (USDT)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:"Total Amount *"}),(0,d.jsx)("input",{type:"number",step:"0.00000001",placeholder:"0.00",value:y,onChange:e=>j(e.target.value),required:!0,style:{width:"100%",padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"}})]})]})]}),(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.05), rgba(0, 240, 255, 0.05))",border:"2px solid rgba(168, 85, 247, 0.2)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:[(0,d.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:"700",color:"#FFFFFF",marginBottom:"1.5rem"},children:"Price & Currency"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth>768?"repeat(2, 1fr)":"1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:"Fiat Currency *"}),(0,d.jsx)("select",{value:v,onChange:e=>S(e.target.value),required:!0,style:{width:"100%",padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"},children:t&&Object.entries(t.currencies).map(e=>{let[r,t]=e;return(0,d.jsxs)("option",{value:r,children:[t.symbol," ",t.name," (",r,")"]},r)})})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:["Price per ",F," *"]}),(0,d.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",value:k,onChange:e=>C(e.target.value),required:!0,style:{width:"100%",padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"}})]})]}),y&&k&&(0,d.jsxs)("div",{style:{padding:"1rem",background:"rgba(168, 85, 247, 0.1)",border:"2px solid rgba(168, 85, 247, 0.3)",borderRadius:"10px"},children:[(0,d.jsx)("div",{style:{fontSize:"0.875rem",color:"rgba(255,255,255,0.7)",marginBottom:"0.25rem"},children:"Total Value"}),(0,d.jsxs)("div",{style:{fontSize:"1.5rem",fontWeight:"900",color:"#A855F7"},children:[D,I]})]})]}),(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:[(0,d.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:"700",color:"#FFFFFF",marginBottom:"1.5rem"},children:"Trade Limits"}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth>768?"repeat(2, 1fr)":"1fr",gap:"1.5rem"},children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:["Minimum Purchase (",F,") *"]}),(0,d.jsx)("input",{type:"number",step:"0.00000001",placeholder:"0.00",value:z,onChange:e=>R(e.target.value),required:!0,style:{width:"100%",padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"}})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:["Maximum Purchase (",F,") *"]}),(0,d.jsx)("input",{type:"number",step:"0.00000001",placeholder:"0.00",value:B,onChange:e=>W(e.target.value),required:!0,style:{width:"100%",padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"}})]})]})]}),(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.05), rgba(0, 240, 255, 0.05))",border:"2px solid rgba(168, 85, 247, 0.2)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:[(0,d.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:"700",color:"#FFFFFF",marginBottom:"1.5rem"},children:"Payment Methods *"}),(0,d.jsx)("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth>768?"repeat(3, 1fr)":"repeat(2, 1fr)",gap:"1rem"},children:t&&Object.values(t.payment_methods).map(e=>(0,d.jsxs)("div",{onClick:()=>{return r=e.id,void(w.includes(r)?T(w.filter(e=>e!==r)):T([...w,r]));var r},style:{padding:"1rem",background:w.includes(e.id)?"rgba(168, 85, 247, 0.2)":"rgba(0, 0, 0, 0.2)",border:"2px solid ".concat(w.includes(e.id)?"#A855F7":"rgba(255, 255, 255, 0.1)"),borderRadius:"10px",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},children:[(0,d.jsx)("div",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:e.icon}),(0,d.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#FFFFFF"},children:e.name}),(0,d.jsxs)("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.6)",marginTop:"0.25rem"},children:["~",e.estimated_time_minutes,"m"]})]},e.id))})]}),(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(0, 240, 255, 0.05), rgba(168, 85, 247, 0.05))",border:"2px solid rgba(0, 240, 255, 0.2)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem"},children:[(0,d.jsx)("h3",{style:{fontSize:"1.375rem",fontWeight:"700",color:"#FFFFFF",marginBottom:"1.5rem"},children:"Advertiser Requirements (Optional)"}),(0,d.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,d.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"600",color:"rgba(255,255,255,0.8)",marginBottom:"0.5rem"},children:"Add Requirement"}),(0,d.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[(0,d.jsx)("input",{type:"text",placeholder:"e.g., KYC Required, UK Banks Only",value:A,onChange:e=>E(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),O()),style:{flex:1,padding:"0.875rem",background:"rgba(0, 0, 0, 0.3)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"10px",color:"#FFFFFF",fontSize:"1rem",outline:"none"}}),(0,d.jsxs)("button",{type:"button",onClick:O,style:{padding:"0.875rem 1.5rem",background:"linear-gradient(135deg, #00F0FF, #00B8E6)",border:"none",borderRadius:"10px",color:"#000000",fontSize:"1rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,d.jsx)(n.YHj,{size:20}),"Add"]})]})]}),_.length>0&&(0,d.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem"},children:_.map((e,r)=>(0,d.jsxs)("div",{style:{padding:"0.75rem 1rem",background:"rgba(245, 158, 11, 0.1)",border:"2px solid rgba(245, 158, 11, 0.3)",borderRadius:"8px",display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,d.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#F59E0B"},children:e.label}),(0,d.jsx)("button",{type:"button",onClick:()=>(e=>{P(_.filter((r,t)=>t!==e))})(r),style:{background:"none",border:"none",color:"#EF4444",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center"},children:(0,d.jsx)(n.$8F,{size:16})})]},r))})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"1rem"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>r("/p2p-marketplace"),style:{flex:1,padding:"1rem",background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.2)",borderRadius:"12px",color:"#FFFFFF",fontSize:"1.125rem",fontWeight:"700",cursor:"pointer"},children:"Cancel"}),(0,d.jsx)("button",{type:"submit",disabled:h,style:{flex:1,padding:"1rem",background:h?"rgba(0, 240, 255, 0.5)":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"12px",color:"#000000",fontSize:"1.125rem",fontWeight:"700",cursor:h?"not-allowed":"pointer"},children:h?"Creating Offer...":"Create Offer"})]})]})]})})}}}]);
//# sourceMappingURL=1217.8a53515a.chunk.js.map