"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[8937],{8937:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(5043),i=s(1817),l=s(6328),r=s(9722),n=s(221),c=s(579);const d="https://peer-listings.preview.emergentagent.com",x=e=>{let{children:t,className:s="",glow:a=!1}=e;return(0,c.jsx)("div",{className:"rounded-2xl border border-cyan-400/25 bg-[#030A14]/80 backdrop-blur-sm ".concat(s),style:{boxShadow:a?"0 0 30px rgba(0, 234, 255, 0.2), inset 0 0 30px rgba(0, 234, 255, 0.05)":"0 0 20px rgba(0, 234, 255, 0.1), inset 0 0 20px rgba(0, 234, 255, 0.03)"},children:t})},m=()=>{const[e,t]=(0,a.useState)([]),[s,m]=(0,a.useState)([]),[o,h]=(0,a.useState)(0),[g,y]=(0,a.useState)(!0),[j,u]=(0,a.useState)(!1),[b,p]=(0,a.useState)(0);(0,a.useEffect)(()=>{N()},[]);const N=async()=>{try{y(!0);const s=r.A.get("".concat(d,"/api/admin/nowpayments/balances")),a=r.A.get("".concat(d,"/api/admin/revenue/summary")),[i,n]=await Promise.all([s,a]);var e;if(i.data.success)t(i.data.balances),p((null===(e=i.data.summary)||void 0===e?void 0:e.total_platform_liquidity_gbp)||0);n.data.success&&(m(n.data.revenue),h(n.data.total_revenue_gbp||0)),l.oR.success("Data loaded successfully")}catch(s){console.error("Error fetching data:",s),l.oR.error("Failed to load dashboard data")}finally{y(!1)}};return g?(0,c.jsx)(i.A,{children:(0,c.jsx)("div",{className:"min-h-screen",style:{background:"linear-gradient(180deg, #05121F 0%, #071E2C 50%, #03121E 100%)"},children:(0,c.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-16 h-16 border-4 border-cyan-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,c.jsx)("p",{className:"text-gray-400 text-lg",children:"Loading NOWPayments Liquidity..."})]})})})}):(0,c.jsx)(i.A,{children:(0,c.jsx)("div",{className:"min-h-screen pb-20 px-4 py-8",style:{background:"linear-gradient(180deg, #05121F 0%, #071E2C 50%, #03121E 100%)"},children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h1",{className:"text-5xl font-bold text-white mb-3",style:{textShadow:"0 0 30px rgba(0, 234, 255, 0.5)"},children:"Admin Liquidity Management"}),(0,c.jsx)("p",{className:"text-gray-400 text-lg",children:"Real-time cryptocurrency balances from NOWPayments"})]}),(0,c.jsxs)("button",{onClick:async()=>{u(!0),await N(),u(!1)},disabled:j,className:"flex items-center space-x-2 px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold hover:from-cyan-400 hover:to-blue-400 transition-all disabled:opacity-50",style:{boxShadow:"0 0 20px rgba(0, 234, 255, 0.4)"},children:[(0,c.jsx)(n.a4n,{size:20,className:j?"animate-spin":""}),(0,c.jsx)("span",{children:j?"Refreshing...":"Refresh"})]})]}),(0,c.jsx)(x,{className:"p-8 mb-8",glow:!0,children:(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider mb-2 font-semibold",children:"Platform Liquidity"}),(0,c.jsxs)("div",{className:"text-5xl font-bold text-cyan-400 mb-2",children:["\xa3",b.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"Your Available Funds"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider mb-2 font-semibold",children:"Total Assets"}),(0,c.jsx)("div",{className:"text-5xl font-bold text-white mb-2",children:e.length}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"Cryptocurrencies"})]}),(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider mb-2 font-semibold",children:"Status"}),(0,c.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-3",children:[(0,c.jsx)(n.G3G,{size:32,className:"text-green-500"}),(0,c.jsx)("span",{className:"text-2xl font-bold text-green-500",children:"Connected"})]}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"Live Data"})]})]})}),(0,c.jsx)(x,{className:"p-6 mb-8 bg-blue-500/10 border-blue-400/30",children:(0,c.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:(0,c.jsx)(n.MNd,{size:24,className:"text-blue-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"How it works"}),(0,c.jsxs)("p",{className:"text-gray-300",children:["These are your ",(0,c.jsx)("strong",{children:"real cryptocurrency holdings"})," in your NOWPayments account. When you deposit crypto to your NOWPayments wallet addresses, the balances update here automatically. This liquidity is used to cover user withdrawals, Instant Buy orders, and platform operations."]})]})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,c.jsxs)(x,{className:"p-6 bg-green-500/10 border-green-400/30",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,c.jsx)(n.AaD,{size:24,className:"text-green-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider font-semibold",children:"Platform Revenue"}),(0,c.jsxs)("div",{className:"text-3xl font-bold text-green-400",children:["\xa3",o.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"Total Fees Earned"}),(0,c.jsx)("div",{className:"text-sm text-green-300 mt-1",children:"All Time"})]})]}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"From P2P trades, swaps, instant buy, and transaction fees"})]}),(0,c.jsxs)(x,{className:"p-6 bg-cyan-500/10 border-cyan-400/30",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-full bg-cyan-500/20 flex items-center justify-center",children:(0,c.jsx)(n.MNd,{size:24,className:"text-cyan-400"})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-gray-400 uppercase tracking-wider font-semibold",children:"Available Liquidity"}),(0,c.jsxs)("div",{className:"text-3xl font-bold text-cyan-400",children:["\xa3",b.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400",children:"NOWPayments Balance"}),(0,c.jsxs)("div",{className:"text-sm text-cyan-300 mt-1",children:[e.length," Assets"]})]})]}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"Real crypto holdings in your NOWPayments wallet"})]})]}),(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsxs)("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[(0,c.jsx)(n.AaD,{size:32,className:"mr-3 text-green-400"}),"Revenue Breakdown by Currency"]}),s&&0!==s.length?(0,c.jsx)(x,{className:"overflow-hidden",children:(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full",children:[(0,c.jsx)("thead",{className:"bg-white/5",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-400",children:"Currency"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Transaction Fees"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"P2P Commissions"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Swap Fees"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Total Fees"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Value (GBP)"})]})}),(0,c.jsx)("tbody",{children:s.map((e,t)=>(0,c.jsxs)("tr",{className:"border-t border-white/5 hover:bg-white/5 transition-colors",children:[(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsx)("div",{className:"text-lg font-bold text-white",children:e.currency})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("div",{className:"text-base text-gray-300",children:e.transaction_fees.toFixed(8)})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("div",{className:"text-base text-gray-300",children:e.p2p_fees.toFixed(8)})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("div",{className:"text-base text-gray-300",children:e.swap_fees.toFixed(8)})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("div",{className:"text-lg font-bold text-white",children:e.total_fees.toFixed(8)})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsxs)("div",{className:"text-xl font-bold text-green-400",children:["\xa3",e.value_gbp.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},t))}),(0,c.jsx)("tfoot",{className:"bg-green-500/10",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-right text-lg font-bold text-gray-300",children:"Total Revenue:"}),(0,c.jsxs)("td",{className:"px-6 py-4 text-right text-2xl font-bold text-green-400",children:["\xa3",o.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})})}):(0,c.jsx)(x,{className:"p-8",children:(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)("p",{className:"text-gray-400",children:"No revenue data yet. Fees will appear here as users make transactions."})})})]}),(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center",children:[(0,c.jsx)(n.MNd,{size:32,className:"mr-3 text-cyan-400"}),"NOWPayments Live Balances"]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,c.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),(0,c.jsx)("span",{className:"text-gray-400",children:"Live from NOWPayments API"})]})]}),0===e.length?(0,c.jsx)(x,{className:"p-12",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center mx-auto mb-6",children:(0,c.jsx)(n.MNd,{size:48,className:"text-white"})}),(0,c.jsx)("h3",{className:"text-2xl font-bold text-white mb-3",children:"No Liquidity Yet"}),(0,c.jsx)("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Your NOWPayments account is connected but has no crypto balances. Deposit crypto to your NOWPayments wallet addresses to add platform liquidity."}),(0,c.jsxs)("a",{href:"https://nowpayments.io",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-semibold hover:from-cyan-400 hover:to-blue-400 transition-all",children:[(0,c.jsx)("span",{children:"Go to NOWPayments"}),(0,c.jsx)(n.Lqc,{size:20})]})]})}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:e.map((e,t)=>{var s,a,i,l,r;return(0,c.jsxs)(x,{className:"p-6",children:[(0,c.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center text-white font-bold text-xl",children:e.currency.substring(0,1)}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-xl font-bold text-white",children:e.currency}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"Cryptocurrency"})]})]})}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Total in NOWPayments"}),(0,c.jsx)("div",{className:"text-xl font-bold text-white",children:(null===(s=e.nowpayments_balance)||void 0===s?void 0:s.toFixed(8))||(null===(a=e.balance)||void 0===a?void 0:a.toFixed(8))})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"User Funds (Owed)"}),(0,c.jsx)("div",{className:"text-xl font-semibold text-orange-400",children:(null===(i=e.user_balance)||void 0===i?void 0:i.toFixed(8))||"0.00000000"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Your Available Liquidity"}),(0,c.jsx)("div",{className:"text-2xl font-bold text-green-400",children:(null===(l=e.platform_liquidity)||void 0===l?void 0:l.toFixed(8))||(null===(r=e.balance)||void 0===r?void 0:r.toFixed(8))})]}),e.pending>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Pending"}),(0,c.jsx)("div",{className:"text-lg font-semibold text-yellow-400",children:e.pending.toFixed(8)})]}),(0,c.jsxs)("div",{className:"pt-3 border-t border-white/10",children:[(0,c.jsx)("div",{className:"text-xs text-gray-400 mb-1",children:"Platform Liquidity Value"}),(0,c.jsxs)("div",{className:"text-2xl font-bold text-cyan-400",children:["\xa3",(e.platform_liquidity_gbp||e.value_gbp).toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,c.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["@ \xa3",e.price_gbp.toLocaleString("en-GB",{minimumFractionDigits:2})," per ",e.currency]})]})]})]},t)})}),(0,c.jsxs)("details",{className:"group",children:[(0,c.jsx)("summary",{className:"cursor-pointer text-cyan-400 hover:text-cyan-300 mb-4 text-sm font-semibold",children:"Show detailed table view"}),(0,c.jsx)(x,{className:"overflow-hidden",children:(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"w-full",children:[(0,c.jsx)("thead",{className:"bg-white/5",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-400",children:"Cryptocurrency"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Available Balance"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Pending"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Price (GBP)"}),(0,c.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-400",children:"Total Value (GBP)"})]})}),(0,c.jsx)("tbody",{children:e.map((e,t)=>(0,c.jsxs)("tr",{className:"border-t border-white/5 hover:bg-white/5 transition-colors",children:[(0,c.jsx)("td",{className:"px-6 py-4",children:(0,c.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,c.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center text-white font-bold",children:e.currency.substring(0,1)}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-lg font-bold text-white",children:e.currency}),(0,c.jsx)("div",{className:"text-sm text-gray-400",children:"Cryptocurrency"})]})]})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("div",{className:"text-xl font-bold text-white",children:e.balance.toFixed(8)})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsx)("div",{className:"text-lg font-semibold text-yellow-400",children:e.pending>0?e.pending.toFixed(8):"-"})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsxs)("div",{className:"text-lg font-semibold text-gray-300",children:["\xa3",e.price_gbp.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),(0,c.jsx)("td",{className:"px-6 py-4 text-right",children:(0,c.jsxs)("div",{className:"text-xl font-bold text-cyan-400",children:["\xa3",e.value_gbp.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},t))}),(0,c.jsx)("tfoot",{className:"bg-white/5",children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{colSpan:"4",className:"px-6 py-4 text-right text-lg font-bold text-gray-300",children:"Total Liquidity:"}),(0,c.jsxs)("td",{className:"px-6 py-4 text-right text-2xl font-bold text-cyan-400",children:["\xa3",b.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})})})]})]})]}),(0,c.jsxs)(x,{className:"p-6",children:[(0,c.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"How to Add Liquidity"}),(0,c.jsxs)("ol",{className:"space-y-3 text-gray-300",children:[(0,c.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,c.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-500 text-white flex items-center justify-center text-sm font-bold",children:"1"}),(0,c.jsxs)("span",{children:["Log in to your NOWPayments account at ",(0,c.jsx)("a",{href:"https://nowpayments.io",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:"nowpayments.io"})]})]}),(0,c.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,c.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-500 text-white flex items-center justify-center text-sm font-bold",children:"2"}),(0,c.jsx)("span",{children:"Navigate to your wallet section and find the deposit addresses for each cryptocurrency"})]}),(0,c.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,c.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-500 text-white flex items-center justify-center text-sm font-bold",children:"3"}),(0,c.jsx)("span",{children:"Send crypto from your personal wallet or exchange to the NOWPayments deposit address"})]}),(0,c.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,c.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-500 text-white flex items-center justify-center text-sm font-bold",children:"4"}),(0,c.jsx)("span",{children:"Wait for blockchain confirmations (usually 10-30 minutes)"})]}),(0,c.jsxs)("li",{className:"flex items-start space-x-3",children:[(0,c.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-cyan-500 text-white flex items-center justify-center text-sm font-bold",children:"5"}),(0,c.jsxs)("span",{children:["Click the ",(0,c.jsx)("strong",{children:'"Refresh"'})," button above to see your updated balances"]})]})]})]})]})})})}}}]);
//# sourceMappingURL=8937.63f0f660.chunk.js.map