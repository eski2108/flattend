/*! For license information please see 6806.82617ca1.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6806],{6806:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(5043),r=a(7784);const i=(0,r.A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var l=a(7819);const d=(0,r.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),n=(0,r.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),o=(0,r.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var c=a(9722),m=a(579);const x=()=>{const[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(""),[x,p]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!1),[y,g]=(0,s.useState)({type:"",text:""}),b="https://atomic-pay-fix.preview.emergentagent.com";(0,s.useEffect)(()=>{f()},[]);const f=async()=>{try{p(!0);const e=await c.A.get("".concat(b,"/api/admin/support/emails"));e.data.success&&t(e.data.emails||[])}catch(e){console.error("Failed to fetch emails:",e),g({type:"error",text:"Failed to load email configuration"})}finally{p(!1)}},v=()=>{if(!a.trim())return;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?e.includes(a)?g({type:"error",text:"This email is already added"}):(t([...e,a]),r(""),g({type:"",text:""})):g({type:"error",text:"Please enter a valid email address"})};return(0,m.jsx)("div",{className:"min-h-screen p-8",style:{background:"linear-gradient(135deg, #0a0f1e 0%, #1a1f3a 100%)"},children:(0,m.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,m.jsx)(i,{className:"text-cyan-400",size:32}),"Support Email Configuration"]}),(0,m.jsx)("p",{className:"text-gray-400",children:"Configure which email addresses receive support notifications when customers contact support"})]}),y.text&&(0,m.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-center gap-2 ".concat("success"===y.type?"bg-green-900/30 border border-green-500/50 text-green-400":"bg-red-900/30 border border-red-500/50 text-red-400"),children:[(0,m.jsx)(l.A,{size:18}),y.text]}),(0,m.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl mb-6",children:[(0,m.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Add Support Email"}),(0,m.jsxs)("div",{className:"flex gap-3",children:[(0,m.jsx)("input",{type:"email",placeholder:"support@coinhubx.com",value:a,onChange:e=>r(e.target.value),onKeyPress:e=>"Enter"===e.key&&v(),className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 transition-colors"}),(0,m.jsxs)("button",{onClick:v,className:"px-6 py-3 bg-cyan-500 text-white rounded-lg font-medium hover:bg-cyan-600 transition-colors flex items-center gap-2",children:[(0,m.jsx)(d,{size:18}),"Add"]})]}),(0,m.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Add multiple email addresses to receive support notifications"})]}),(0,m.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl mb-6",children:[(0,m.jsxs)("h2",{className:"text-xl font-bold text-white mb-4",children:["Configured Emails (",e.length,")"]}),x?(0,m.jsxs)("div",{className:"text-center py-8",children:[(0,m.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-500 mx-auto"}),(0,m.jsx)("p",{className:"text-gray-400 mt-4",children:"Loading..."})]}):0===e.length?(0,m.jsxs)("div",{className:"text-center py-8",children:[(0,m.jsx)(i,{className:"text-gray-600 mx-auto mb-4",size:48}),(0,m.jsx)("p",{className:"text-gray-400",children:"No support emails configured yet"}),(0,m.jsx)("p",{className:"text-gray-500 text-sm mt-2",children:"Add at least one email address to receive support notifications"})]}):(0,m.jsx)("div",{className:"space-y-3",children:e.map((a,s)=>(0,m.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-800/50 rounded-lg border border-gray-700 hover:border-cyan-500/50 transition-all",children:[(0,m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,m.jsx)(i,{className:"text-cyan-400",size:20}),(0,m.jsx)("span",{className:"text-white font-medium",children:a})]}),(0,m.jsx)("button",{onClick:()=>{return s=a,void t(e.filter(e=>e!==s));var s},className:"p-2 text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:(0,m.jsx)(n,{size:18})})]},s))})]}),(0,m.jsx)("div",{className:"flex justify-end gap-3",children:(0,m.jsxs)("button",{onClick:async()=>{try{h(!0);(await c.A.post("".concat(b,"/api/admin/support/emails"),{emails:e})).data.success&&(g({type:"success",text:"Support emails updated successfully!"}),setTimeout(()=>g({type:"",text:""}),3e3))}catch(s){var t,a;console.error("Failed to save emails:",s),g({type:"error",text:(null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.detail)||"Failed to save configuration"})}finally{h(!1)}},disabled:u||0===e.length,className:"px-8 py-4 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-lg font-bold hover:from-cyan-600 hover:to-blue-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg",children:[(0,m.jsx)(o,{size:20}),u?"Saving...":"Save Configuration"]})}),(0,m.jsxs)("div",{className:"mt-6 bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[(0,m.jsxs)("h3",{className:"text-blue-400 font-bold mb-2 flex items-center gap-2",children:[(0,m.jsx)(l.A,{size:18}),"How It Works"]}),(0,m.jsxs)("ul",{className:"text-blue-300 text-sm space-y-1 list-disc list-inside",children:[(0,m.jsx)("li",{children:"When a customer sends a support message, all configured emails will receive a notification"}),(0,m.jsx)("li",{children:"The email includes the customer's message and a link to the admin panel"}),(0,m.jsx)("li",{children:"You can add multiple email addresses (e.g., support@, admin@, yourname@)"}),(0,m.jsx)("li",{children:"Emails are sent instantly via SendGrid"}),(0,m.jsx)("li",{children:"Make sure your SendGrid API key is configured in environment variables"})]})]})]})})}},7819:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(7784).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}}]);
//# sourceMappingURL=6806.82617ca1.chunk.js.map