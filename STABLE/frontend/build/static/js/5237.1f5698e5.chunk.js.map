{"version":3,"file":"static/js/5237.1f5698e5.chunk.js","mappings":"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","sources":["pages/TwoFactorSetup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport Layout from '@/components/Layout';\nimport CHXButton from '@/components/CHXButton';\nimport { IoAlertCircle, IoCheckmark as Check, IoCheckmarkCircle, IoCloudDownload, IoCopy, IoKey, IoMail as Mail, IoPhonePortrait, IoShield } from 'react-icons/io5';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function TwoFactorSetup() {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [is2FAEnabled, setIs2FAEnabled] = useState(false);\n  const [setupData, setSetupData] = useState(null);\n  const [verificationCode, setVerificationCode] = useState('');\n  const [backupCodes, setBackupCodes] = useState([]);\n  const [showBackupCodes, setShowBackupCodes] = useState(false);\n\n  useEffect(() => {\n    const userData = localStorage.getItem('cryptobank_user');\n    if (!userData) {\n      toast.error('Please login first');\n      navigate('/login');\n      return;\n    }\n    const parsedUser = JSON.parse(userData);\n    setUser(parsedUser);\n    setIs2FAEnabled(parsedUser.is_two_factor_enabled || false);\n  }, [navigate]);\n\n  const handleSetup2FA = async () => {\n    if (!user) return;\n    \n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/2fa/setup`, {\n        user_id: user.user_id,\n        email: user.email\n      });\n      \n      if (response.data.success) {\n        setSetupData(response.data);\n        setBackupCodes(response.data.backup_codes || []);\n        toast.success('2FA setup initiated. Please scan the QR code.');\n      } else {\n        toast.error(response.data.message || 'Failed to setup 2FA');\n      }\n    } catch (error) {\n      console.error('2FA setup error:', error);\n      toast.error(error.response?.data?.message || 'Failed to setup 2FA');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerifyAndEnable = async () => {\n    if (!verificationCode || verificationCode.length !== 6) {\n      toast.error('Please enter a valid 6-digit code');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/2fa/verify`, {\n        user_id: user.user_id,\n        code: verificationCode\n      });\n      \n      if (response.data.success) {\n        setIs2FAEnabled(true);\n        setShowBackupCodes(true);\n        \n        // Update local user data\n        const updatedUser = { ...user, is_two_factor_enabled: true };\n        localStorage.setItem('cryptobank_user', JSON.stringify(updatedUser));\n        setUser(updatedUser);\n        \n        toast.success('ðŸŽ‰ 2FA enabled successfully!');\n      } else {\n        toast.error(response.data.message || 'Verification failed');\n      }\n    } catch (error) {\n      console.error('2FA verification error:', error);\n      toast.error(error.response?.data?.message || 'Verification failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDisable2FA = async () => {\n    if (!window.confirm('Are you sure you want to disable 2FA? This will make your account less secure.')) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await axios.post(`${API}/api/auth/2fa/disable`, {\n        user_id: user.user_id\n      });\n      \n      if (response.data.success) {\n        setIs2FAEnabled(false);\n        setSetupData(null);\n        setBackupCodes([]);\n        setShowBackupCodes(false);\n        \n        // Update local user data\n        const updatedUser = { ...user, is_two_factor_enabled: false };\n        localStorage.setItem('cryptobank_user', JSON.stringify(updatedUser));\n        setUser(updatedUser);\n        \n        toast.success('2FA disabled');\n      } else {\n        toast.error(response.data.message || 'Failed to disable 2FA');\n      }\n    } catch (error) {\n      console.error('2FA disable error:', error);\n      toast.error(error.response?.data?.message || 'Failed to disable 2FA');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const copyBackupCodes = () => {\n    const codesText = backupCodes.join('\\n');\n    navigator.clipboard.writeText(codesText);\n    toast.success('Backup codes copied to clipboard');\n  };\n\n  const downloadBackupCodes = () => {\n    const codesText = backupCodes.join('\\n');\n    const blob = new Blob([codesText], { type: 'text/plain' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `coinhubx-backup-codes-${user.user_id}.txt`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n    toast.success('Backup codes downloaded');\n  };\n\n  return (\n    <Layout>\n      <div style={{\n        minHeight: '100vh',\n        background: 'linear-gradient(135deg, #05121F 0%, #0A1F2E 50%, #051018 100%)',\n        padding: '24px'\n      }}>\n        <div style={{ maxWidth: '800px', margin: '0 auto' }}>\n          \n          {/* Header */}\n          <div style={{ marginBottom: '32px' }}>\n            <div style={{ display: 'flex', alignItems: 'center', gap: '16px', marginBottom: '12px' }}>\n              <IoShield size={40} color=\"#00F0FF\" style={{ filter: 'drop-shadow(0 0 8px rgba(0, 240, 255, 0.8))' }} />\n              <h1 style={{ fontSize: '36px', fontWeight: '700', color: '#FFFFFF', margin: 0 }}>\n                Two-Factor Authentication\n              </h1>\n            </div>\n            <p style={{ fontSize: '16px', color: '#8F9BB3', margin: 0 }}>\n              Add an extra layer of security to your account\n            </p>\n          </div>\n\n          {/* Status Card */}\n          <div style={{\n            background: 'linear-gradient(135deg, rgba(0, 240, 255, 0.1) 0%, rgba(123, 44, 255, 0.05) 100%)',\n            border: is2FAEnabled ? '1px solid rgba(0, 229, 69, 0.3)' : '1px solid rgba(255, 165, 0, 0.3)',\n            borderRadius: '16px',\n            padding: '24px',\n            marginBottom: '24px',\n            boxShadow: is2FAEnabled ? '0 0 20px rgba(0, 229, 69, 0.2)' : '0 0 20px rgba(255, 165, 0, 0.2)'\n          }}>\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '16px' }}>\n                {is2FAEnabled ? (\n                  <IoCheckmarkCircle size={32} color=\"#00E545\" />\n                ) : (\n                  <IoAlertCircle size={32} color=\"#FFA500\" />\n                )}\n                <div>\n                  <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#FFFFFF', margin: 0, marginBottom: '4px' }}>\n                    {is2FAEnabled ? '2FA Enabled' : '2FA Disabled'}\n                  </h3>\n                  <p style={{ fontSize: '14px', color: '#8F9BB3', margin: 0 }}>\n                    {is2FAEnabled \n                      ? 'Your account is protected with two-factor authentication'\n                      : 'Enable 2FA to secure your account'}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* 2FA Not Enabled - Setup Section */}\n          {!is2FAEnabled && !setupData && (\n            <div style={{\n              background: 'rgba(10, 20, 40, 0.6)',\n              border: '1px solid rgba(0, 240, 255, 0.2)',\n              borderRadius: '16px',\n              padding: '32px',\n              backdropFilter: 'blur(10px)'\n            }}>\n              <div style={{ textAlign: 'center', marginBottom: '32px' }}>\n                <IoPhonePortrait size={64} color=\"#00F0FF\" style={{ margin: '0 auto 16px', filter: 'drop-shadow(0 0 12px rgba(0, 240, 255, 0.6))' }} />\n                <h2 style={{ fontSize: '24px', fontWeight: '600', color: '#FFFFFF', marginBottom: '12px' }}>\n                  Secure Your Account\n                </h2>\n                <p style={{ fontSize: '16px', color: '#8F9BB3', marginBottom: '8px' }}>\n                  Two-factor authentication adds an extra layer of security by requiring a code from your phone in addition to your password.\n                </p>\n                <p style={{ fontSize: '14px', color: '#00F0FF', margin: 0 }}>\n                  Supports: Google Authenticator, Microsoft Authenticator, Authy\n                </p>\n              </div>\n\n              <CHXButton\n                onClick={handleSetup2FA}\n                disabled={loading}\n                style={{ width: '100%', padding: '16px', fontSize: '16px' }}\n              >\n                {loading ? 'Setting up...' : 'Enable 2FA'}\n              </CHXButton>\n            </div>\n          )}\n\n          {/* Setup in Progress - QR Code */}\n          {!is2FAEnabled && setupData && (\n            <div style={{\n              background: 'rgba(10, 20, 40, 0.6)',\n              border: '1px solid rgba(0, 240, 255, 0.2)',\n              borderRadius: '16px',\n              padding: '32px',\n              backdropFilter: 'blur(10px)'\n            }}>\n              <h2 style={{ fontSize: '24px', fontWeight: '600', color: '#FFFFFF', marginBottom: '24px', textAlign: 'center' }}>\n                Scan QR Code\n              </h2>\n\n              {/* QR Code */}\n              {setupData.qr_code && (\n                <div style={{ textAlign: 'center', marginBottom: '24px' }}>\n                  <div style={{\n                    background: '#FFFFFF',\n                    padding: '16px',\n                    borderRadius: '12px',\n                    display: 'inline-block',\n                    boxShadow: '0 4px 20px rgba(0, 240, 255, 0.3)'\n                  }}>\n                    <img \n                      src={setupData.qr_code} \n                      alt=\"2FA QR Code\" \n                      style={{ width: '250px', height: '250px', display: 'block' }}\n                    />\n                  </div>\n                  <p style={{ fontSize: '14px', color: '#8F9BB3', marginTop: '16px' }}>\n                    Scan this QR code with your authenticator app\n                  </p>\n                </div>\n              )}\n\n              {/* Manual Entry */}\n              {setupData.secret && (\n                <div style={{\n                  background: 'rgba(0, 240, 255, 0.05)',\n                  border: '1px solid rgba(0, 240, 255, 0.2)',\n                  borderRadius: '8px',\n                  padding: '16px',\n                  marginBottom: '24px'\n                }}>\n                  <p style={{ fontSize: '14px', color: '#8F9BB3', marginBottom: '8px' }}>Or enter this code manually:</p>\n                  <code style={{ \n                    fontSize: '18px', \n                    fontWeight: '600', \n                    color: '#00F0FF',\n                    letterSpacing: '2px',\n                    display: 'block',\n                    textAlign: 'center'\n                  }}>\n                    {setupData.secret}\n                  </code>\n                </div>\n              )}\n\n              {/* Verification Code Input */}\n              <div style={{ marginBottom: '24px' }}>\n                <label style={{ display: 'block', fontSize: '14px', fontWeight: '500', color: '#FFFFFF', marginBottom: '8px' }}>\n                  Enter 6-digit code from your app\n                </label>\n                <input\n                  type=\"text\"\n                  value={verificationCode}\n                  onChange={(e) => setVerificationCode(e.target.value.replace(/\\D/g, '').slice(0, 6))}\n                  placeholder=\"000000\"\n                  maxLength=\"6\"\n                  style={{\n                    width: '100%',\n                    padding: '14px',\n                    background: 'rgba(10, 20, 40, 0.8)',\n                    border: '1px solid rgba(0, 240, 255, 0.3)',\n                    borderRadius: '8px',\n                    color: '#FFFFFF',\n                    fontSize: '20px',\n                    textAlign: 'center',\n                    letterSpacing: '8px',\n                    fontWeight: '600'\n                  }}\n                />\n              </div>\n\n              <CHXButton\n                onClick={handleVerifyAndEnable}\n                disabled={loading || verificationCode.length !== 6}\n                style={{ width: '100%', padding: '16px', fontSize: '16px' }}\n              >\n                {loading ? 'Verifying...' : 'Verify and Enable 2FA'}\n              </CHXButton>\n            </div>\n          )}\n\n          {/* Backup Codes Display */}\n          {(showBackupCodes || (is2FAEnabled && backupCodes.length > 0)) && (\n            <div style={{\n              background: 'rgba(255, 165, 0, 0.1)',\n              border: '1px solid rgba(255, 165, 0, 0.3)',\n              borderRadius: '16px',\n              padding: '24px',\n              marginTop: '24px'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px' }}>\n                <IoKey size={24} color=\"#FFA500\" />\n                <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#FFFFFF', margin: 0 }}>\n                  Backup Codes\n                </h3>\n              </div>\n              <p style={{ fontSize: '14px', color: '#8F9BB3', marginBottom: '16px' }}>\n                Save these codes in a secure location. Each code can be used once if you lose access to your authenticator app.\n              </p>\n\n              <div style={{\n                background: 'rgba(10, 20, 40, 0.8)',\n                border: '1px solid rgba(0, 240, 255, 0.2)',\n                borderRadius: '8px',\n                padding: '16px',\n                marginBottom: '16px',\n                fontFamily: 'monospace'\n              }}>\n                {backupCodes.map((code, index) => (\n                  <div key={index} style={{\n                    fontSize: '16px',\n                    color: '#00F0FF',\n                    padding: '8px',\n                    borderBottom: index < backupCodes.length - 1 ? '1px solid rgba(0, 240, 255, 0.1)' : 'none'\n                  }}>\n                    {code}\n                  </div>\n                ))}\n              </div>\n\n              <div style={{ display: 'flex', gap: '12px' }}>\n                <CHXButton\n                  onClick={copyBackupCodes}\n                  style={{ flex: 1, padding: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}\n                >\n                  <IoCopy size={18} /> Copy\n                </CHXButton>\n                <CHXButton\n                  onClick={downloadBackupCodes}\n                  style={{ flex: 1, padding: '12px', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '8px' }}\n                >\n                  <IoCloudDownload size={18} /> Download\n                </CHXButton>\n              </div>\n            </div>\n          )}\n\n          {/* 2FA Enabled - Management */}\n          {is2FAEnabled && (\n            <div style={{\n              background: 'rgba(10, 20, 40, 0.6)',\n              border: '1px solid rgba(0, 240, 255, 0.2)',\n              borderRadius: '16px',\n              padding: '24px',\n              marginTop: '24px'\n            }}>\n              <h3 style={{ fontSize: '20px', fontWeight: '600', color: '#FFFFFF', marginBottom: '16px' }}>\n                Manage 2FA\n              </h3>\n              <p style={{ fontSize: '14px', color: '#8F9BB3', marginBottom: '24px' }}>\n                Your account is currently protected with two-factor authentication. You can disable it at any time.\n              </p>\n\n              <button\n                onClick={handleDisable2FA}\n                disabled={loading}\n                style={{\n                  width: '100%',\n                  padding: '14px',\n                  background: 'rgba(255, 0, 0, 0.2)',\n                  border: '1px solid rgba(255, 0, 0, 0.4)',\n                  borderRadius: '8px',\n                  color: '#FF4444',\n                  fontSize: '16px',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  transition: 'all 0.3s ease'\n                }}\n                onMouseEnter={(e) => {\n                  e.target.style.background = 'rgba(255, 0, 0, 0.3)';\n                  e.target.style.borderColor = 'rgba(255, 0, 0, 0.6)';\n                }}\n                onMouseLeave={(e) => {\n                  e.target.style.background = 'rgba(255, 0, 0, 0.2)';\n                  e.target.style.borderColor = 'rgba(255, 0, 0, 0.4)';\n                }}\n              >\n                {loading ? 'Disabling...' : 'Disable 2FA'}\n              </button>\n            </div>\n          )}\n\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"names":["API","process","TwoFactorSetup","navigate","useNavigate","user","setUser","useState","loading","setLoading","is2FAEnabled","setIs2FAEnabled","setupData","setSetupData","verificationCode","setVerificationCode","backupCodes","setBackupCodes","showBackupCodes","setShowBackupCodes","useEffect","userData","localStorage","getItem","toast","error","parsedUser","JSON","parse","is_two_factor_enabled","_jsx","Layout","children","style","minHeight","background","padding","_jsxs","maxWidth","margin","marginBottom","display","alignItems","gap","IoShield","size","color","filter","fontSize","fontWeight","border","borderRadius","boxShadow","justifyContent","IoCheckmarkCircle","IoAlertCircle","backdropFilter","textAlign","IoPhonePortrait","CHXButton","onClick","async","response","axios","post","concat","user_id","email","data","success","backup_codes","message","_error$response","_error$response$data","console","disabled","width","qr_code","src","alt","height","marginTop","secret","letterSpacing","type","value","onChange","e","target","replace","slice","placeholder","maxLength","length","code","updatedUser","_objectSpread","setItem","stringify","_error$response2","_error$response2$data","IoKey","fontFamily","map","index","borderBottom","copyBackupCodes","codesText","join","navigator","clipboard","writeText","flex","IoCopy","downloadBackupCodes","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","IoCloudDownload","window","confirm","_error$response3","_error$response3$data","cursor","transition","onMouseEnter","borderColor","onMouseLeave"],"sourceRoot":""}