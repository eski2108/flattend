{"version":3,"file":"static/js/8783.eb0d356c.chunk.js","mappings":"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","sources":["pages/AdminDisputeDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { toast } from 'sonner';\nimport Layout from '@/components/Layout';\nimport { IoArrowBack, IoCopy, IoCheckmarkCircle, IoWarning, IoTime, IoDocument, IoChatbubbles, IoShield } from 'react-icons/io5';\n\nconst API = process.env.REACT_APP_BACKEND_URL;\n\nexport default function AdminDisputeDetail() {\n  const { disputeId } = useParams();\n  const navigate = useNavigate();\n  const [dispute, setDispute] = useState(null);\n  const [trade, setTrade] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [adminMessage, setAdminMessage] = useState('');\n  const [resolution, setResolution] = useState('');\n  const [showResolveModal, setShowResolveModal] = useState(false);\n  const [selectedWinner, setSelectedWinner] = useState('');\n\n  useEffect(() => {\n    loadDisputeDetails();\n    const interval = setInterval(loadDisputeDetails, 10000); // Refresh every 10 seconds\n    return () => clearInterval(interval);\n  }, [disputeId]);\n\n  const loadDisputeDetails = async () => {\n    try {\n      const response = await axios.get(`${API}/api/p2p/disputes/${disputeId}`);\n      if (response.data.success) {\n        setDispute(response.data.dispute);\n        setMessages(response.data.dispute.messages || []);\n        \n        // Load trade details\n        if (response.data.dispute.trade_id) {\n          const tradeResponse = await axios.get(`${API}/api/p2p/trade/${response.data.dispute.trade_id}`);\n          if (tradeResponse.data.success) {\n            setTrade(tradeResponse.data.trade);\n          }\n        }\n      }\n    } catch (error) {\n      console.error('Error loading dispute:', error);\n      toast.error('Failed to load dispute details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const copyDisputeLink = () => {\n    const link = `${window.location.origin}/admin/disputes/${disputeId}`;\n    navigator.clipboard.writeText(link);\n    toast.success('Dispute link copied to clipboard');\n  };\n\n  const sendAdminMessage = async (recipient = 'all') => {\n    if (!adminMessage.trim()) return;\n\n    try {\n      const response = await axios.post(`${API}/api/p2p/disputes/${disputeId}/message`, {\n        sender_id: 'admin',\n        sender_type: 'admin',\n        message: adminMessage,\n        recipient: recipient\n      });\n\n      if (response.data.success) {\n        setAdminMessage('');\n        loadDisputeDetails();\n        const recipientText = recipient === 'all' ? 'both parties' : recipient;\n        toast.success(`Message sent to ${recipientText}`);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      toast.error('Failed to send message');\n    }\n  };\n\n  const handleResolve = async (winner) => {\n    if (!resolution.trim()) {\n      toast.error('Please provide resolution details');\n      return;\n    }\n\n    try {\n      // Convert winner to backend format\n      const resolutionValue = winner === 'buyer' ? 'release_to_buyer' : 'return_to_seller';\n      \n      const response = await axios.post(`${API}/api/admin/disputes/${disputeId}/resolve`, {\n        resolution: resolutionValue,\n        admin_id: 'admin',\n        admin_note: `${resolution} | Winner: ${winner}`\n      });\n\n      if (response.data.success) {\n        toast.success(`Crypto ${winner === 'buyer' ? 'released to buyer' : 'returned to seller'}`);\n        setShowResolveModal(false);\n        setResolution('');\n        setSelectedWinner('');\n        loadDisputeDetails();\n      } else {\n        toast.error(response.data.message || 'Failed to resolve dispute');\n      }\n    } catch (error) {\n      console.error('Error resolving dispute:', error);\n      toast.error(error.response?.data?.detail || 'Failed to resolve dispute');\n    }\n  };\n\n  if (loading) {\n    return (\n      <Layout>\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 flex items-center justify-center\">\n          <div className=\"text-center text-white\">\n            <div className=\"animate-spin w-12 h-12 border-4 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4\"></div>\n            <p>Loading dispute...</p>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  if (!dispute) {\n    return (\n      <Layout>\n        <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 flex items-center justify-center\">\n          <div className=\"text-center text-white\">\n            <IoWarning className=\"w-16 h-16 text-red-400 mx-auto mb-4\" />\n            <p className=\"text-xl\">Dispute not found</p>\n            <button\n              onClick={() => navigate('/admin/disputes')}\n              className=\"mt-4 bg-cyan-600 hover:bg-cyan-700 px-6 py-3 rounded-lg transition-colors\"\n            >\n              Back to Disputes\n            </button>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-900 p-4 md:p-6\">\n        <div className=\"max-w-7xl mx-auto\">\n          {/* Header */}\n          <div className=\"mb-6\">\n            <button\n              onClick={() => navigate('/admin/disputes')}\n              className=\"flex items-center gap-2 text-cyan-400 hover:text-cyan-300 mb-4 transition-colors\"\n            >\n              <IoArrowBack /> Back to All Disputes\n            </button>\n            \n            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\n              <div>\n                <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-2\">\n                  ðŸš¨ Dispute Detail\n                </h1>\n                <p className=\"text-gray-400 text-sm\">ID: {dispute.dispute_id}</p>\n              </div>\n              <button\n                onClick={copyDisputeLink}\n                className=\"flex items-center gap-2 bg-slate-700 hover:bg-slate-600 text-white px-4 py-2 rounded-lg transition-colors\"\n              >\n                <IoCopy className=\"w-4 h-4\" />\n                Copy Shareable Link\n              </button>\n            </div>\n          </div>\n\n          {/* Status Banner */}\n          <div className={`mb-6 p-4 rounded-xl border-2 ${\n            dispute.status === 'resolved' \n              ? 'bg-green-500/10 border-green-500' \n              : 'bg-red-500/10 border-red-500'\n          }`}>\n            <div className=\"flex items-center gap-3\">\n              {dispute.status === 'resolved' ? (\n                <IoCheckmarkCircle className=\"w-8 h-8 text-green-400\" />\n              ) : (\n                <IoWarning className=\"w-8 h-8 text-red-400\" />\n              )}\n              <div>\n                <p className=\"text-white font-bold text-lg\">Status: {dispute.status?.toUpperCase()}</p>\n                <p className=\"text-gray-300 text-sm\">Created: {new Date(dispute.created_at).toLocaleString()}</p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6\">\n            {/* Main Content */}\n            <div className=\"lg:col-span-2 space-y-4 md:space-y-6\">\n              {/* Trade Info */}\n              <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6\">\n                <h2 className=\"text-lg md:text-xl font-bold text-white mb-3 md:mb-4 flex items-center gap-2\">\n                  <IoDocument className=\"w-5 h-5 md:w-6 md:h-6 text-cyan-400\" />\n                  Trade Information\n                </h2>\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4\">\n                  <div className=\"bg-slate-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 text-xs mb-1\">Order ID</p>\n                    <p className=\"text-white font-mono text-xs break-all\">{dispute.trade_id || 'N/A'}</p>\n                  </div>\n                  <div className=\"bg-slate-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 text-xs mb-1\">Fiat Amount</p>\n                    <p className=\"text-white font-semibold text-sm\">{dispute.fiat_amount || dispute.amount || '0'} {dispute.fiat_currency || dispute.currency || 'GBP'}</p>\n                  </div>\n                  <div className=\"bg-orange-500/10 border border-orange-500/30 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 text-xs mb-1\">Crypto in Escrow</p>\n                    <p className=\"text-orange-400 font-semibold text-sm\">{dispute.amount || trade?.crypto_amount || '0'} {dispute.currency || trade?.crypto_currency || 'BTC'}</p>\n                  </div>\n                  <div className=\"bg-slate-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 text-xs mb-1\">Trade Status</p>\n                    <p className=\"text-white capitalize text-sm\">{(trade?.status || dispute.trade_status || 'pending')?.replace(/_/g, ' ')}</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* Dispute Details */}\n              <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6\">\n                <h2 className=\"text-lg md:text-xl font-bold text-white mb-3 md:mb-4\">Dispute Reason</h2>\n                <div className=\"space-y-3\">\n                  <div className=\"bg-slate-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 text-xs mb-1\">Reason</p>\n                    <p className=\"text-orange-400 font-semibold capitalize text-sm\">{dispute.reason?.replace(/_/g, ' ') || 'Not specified'}</p>\n                  </div>\n                  <div className=\"bg-slate-900/50 p-3 rounded-lg\">\n                    <p className=\"text-gray-400 text-xs mb-1\">Initiated By</p>\n                    <p className=\"text-white capitalize text-sm\">{dispute.initiated_by || 'Unknown'}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-gray-400 text-xs mb-2\">Description</p>\n                    <div className=\"bg-slate-900/50 border border-slate-700 rounded-lg p-3\">\n                      <p className=\"text-white text-sm\">{dispute.description || 'No description provided'}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Parties Details */}\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4\">\n                <div className=\"bg-cyan-500/10 border-2 border-cyan-500/30 rounded-xl p-3 md:p-4\">\n                  <h3 className=\"text-cyan-400 font-bold mb-2 flex items-center gap-2 text-sm\">\n                    <IoShield className=\"w-4 h-4 md:w-5 md:h-5\" />\n                    Buyer\n                  </h3>\n                  <p className=\"text-white font-mono text-xs break-all\">{dispute.buyer_id || 'N/A'}</p>\n                </div>\n                <div className=\"bg-purple-500/10 border-2 border-purple-500/30 rounded-xl p-3 md:p-4\">\n                  <h3 className=\"text-purple-400 font-bold mb-2 flex items-center gap-2 text-sm\">\n                    <IoShield className=\"w-4 h-4 md:w-5 md:h-5\" />\n                    Seller\n                  </h3>\n                  <p className=\"text-white font-mono text-xs break-all\">{dispute.seller_id || 'N/A'}</p>\n                </div>\n              </div>\n\n              {/* Messages/Evidence */}\n              <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-4 md:p-6\">\n                <h2 className=\"text-lg md:text-xl font-bold text-white mb-3 md:mb-4 flex items-center gap-2\">\n                  <IoChatbubbles className=\"w-5 h-5 md:w-6 md:h-6 text-cyan-400\" />\n                  Messages & Evidence\n                </h2>\n                <div className=\"space-y-3 mb-4 max-h-96 overflow-y-auto\">\n                  {messages.length === 0 ? (\n                    <p className=\"text-gray-500 text-center py-8 text-sm\">No messages yet</p>\n                  ) : (\n                    messages.map((msg, idx) => (\n                      <div\n                        key={idx}\n                        className={`p-3 rounded-lg ${\n                          msg.sender_type === 'admin'\n                            ? 'bg-purple-600/20 border border-purple-500/30 ml-4 md:ml-8'\n                            : 'bg-slate-900/50 border border-slate-700 mr-4 md:mr-8'\n                        }`}\n                      >\n                        <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                          {msg.sender_type === 'admin' && <IoShield className=\"w-4 h-4 text-purple-400\" />}\n                          <span className=\"text-xs md:text-sm font-semibold text-white capitalize\">\n                            {msg.sender_type}\n                          </span>\n                          {msg.recipient && msg.recipient !== 'all' && (\n                            <span className=\"text-xs bg-orange-500/20 text-orange-300 px-2 py-0.5 rounded\">\n                              To: {msg.recipient}\n                            </span>\n                          )}\n                          <span className=\"text-xs text-gray-400\">\n                            {new Date(msg.timestamp).toLocaleString()}\n                          </span>\n                        </div>\n                        <p className=\"text-white text-xs md:text-sm break-words\">{msg.message}</p>\n                      </div>\n                    ))\n                  )}\n                </div>\n\n                {/* Admin Message Input */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      value={adminMessage}\n                      onChange={(e) => setAdminMessage(e.target.value)}\n                      onKeyPress={(e) => e.key === 'Enter' && sendAdminMessage('all')}\n                      placeholder=\"Message both parties...\"\n                      className=\"flex-1 min-w-0 bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 md:px-4 md:py-3 text-white text-sm focus:border-purple-500 focus:outline-none\"\n                    />\n                    <button\n                      onClick={() => sendAdminMessage('all')}\n                      disabled={!adminMessage.trim()}\n                      className=\"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-3 py-2 md:px-6 md:py-3 rounded-lg transition-colors font-semibold text-sm md:text-base whitespace-nowrap flex-shrink-0\"\n                    >\n                      Send to All\n                    </button>\n                  </div>\n                  \n                  {/* Individual messaging buttons */}\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={() => sendAdminMessage('buyer')}\n                      disabled={!adminMessage.trim()}\n                      className=\"flex-1 bg-cyan-600 hover:bg-cyan-700 disabled:opacity-50 text-white px-3 py-2 rounded-lg transition-colors text-xs md:text-sm font-semibold\"\n                    >\n                      Send to Buyer Only\n                    </button>\n                    <button\n                      onClick={() => sendAdminMessage('seller')}\n                      disabled={!adminMessage.trim()}\n                      className=\"flex-1 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white px-3 py-2 rounded-lg transition-colors text-xs md:text-sm font-semibold\"\n                    >\n                      Send to Seller Only\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Actions Sidebar */}\n            <div className=\"space-y-4\">\n              {dispute.status !== 'resolved' && (\n                <div className=\"bg-slate-800/50 border-2 border-orange-500/30 rounded-xl p-4 md:p-6\">\n                  <h3 className=\"text-lg md:text-xl font-bold text-white mb-3 md:mb-4 flex items-center gap-2\">\n                    <IoWarning className=\"w-5 h-5 md:w-6 md:h-6 text-orange-400\" />\n                    Resolve Dispute\n                  </h3>\n                  \n                  <p className=\"text-gray-400 text-xs md:text-sm mb-3 md:mb-4\">\n                    Choose the winning party. The losing party will be charged a Â£5 dispute fee.\n                  </p>\n\n                  <div className=\"space-y-3\">\n                    <button\n                      onClick={() => {\n                        setSelectedWinner('buyer');\n                        setShowResolveModal(true);\n                      }}\n                      className=\"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white px-4 py-3 md:px-6 md:py-4 rounded-xl transition-all font-semibold flex items-center justify-center gap-2 text-sm md:text-base\"\n                    >\n                      <IoCheckmarkCircle className=\"w-4 h-4 md:w-5 md:h-5\" />\n                      Release Crypto to Buyer\n                    </button>\n                    \n                    <button\n                      onClick={() => {\n                        setSelectedWinner('seller');\n                        setShowResolveModal(true);\n                      }}\n                      className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 py-3 md:px-6 md:py-4 rounded-xl transition-all font-semibold flex items-center justify-center gap-2 text-sm md:text-base\"\n                    >\n                      <IoCheckmarkCircle className=\"w-4 h-4 md:w-5 md:h-5\" />\n                      Return Crypto to Seller\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Timeline */}\n              <div className=\"bg-slate-800/50 border border-slate-700 rounded-xl p-6\">\n                <h3 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\n                  <IoTime className=\"w-6 h-6 text-cyan-400\" />\n                  Timeline\n                </h3>\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-start gap-3\">\n                    <div className=\"w-2 h-2 bg-cyan-400 rounded-full mt-2\"></div>\n                    <div>\n                      <p className=\"text-white font-semibold text-sm\">Dispute Opened</p>\n                      <p className=\"text-gray-400 text-xs\">{new Date(dispute.created_at).toLocaleString()}</p>\n                    </div>\n                  </div>\n                  {dispute.status === 'resolved' && dispute.resolved_at && (\n                    <div className=\"flex items-start gap-3\">\n                      <div className=\"w-2 h-2 bg-green-400 rounded-full mt-2\"></div>\n                      <div>\n                        <p className=\"text-white font-semibold text-sm\">Dispute Resolved</p>\n                        <p className=\"text-gray-400 text-xs\">{new Date(dispute.resolved_at).toLocaleString()}</p>\n                        {dispute.winner && (\n                          <p className=\"text-green-400 text-xs mt-1\">Winner: {dispute.winner}</p>\n                        )}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Resolve Modal */}\n        {showResolveModal && (\n          <div className=\"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n            <div className=\"bg-slate-900 border-2 border-green-500 rounded-2xl max-w-lg w-full shadow-2xl\">\n              <div className=\"bg-gradient-to-r from-green-600 to-emerald-600 p-6 rounded-t-2xl\">\n                <h2 className=\"text-2xl font-bold text-white\">\n                  Confirm Resolution\n                </h2>\n                <p className=\"text-green-100 text-sm mt-1\">\n                  {selectedWinner === 'buyer' ? 'Release crypto to buyer' : 'Return crypto to seller'}\n                </p>\n              </div>\n              \n              <div className=\"p-6 space-y-4\">\n                <div className=\"bg-orange-500/10 border-l-4 border-orange-500 p-4\">\n                  <p className=\"text-orange-300 text-sm\">\n                    <strong>Warning:</strong> This action cannot be undone. The losing party will be charged a Â£5 dispute fee.\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-gray-300 font-semibold mb-2\">Resolution Details *</label>\n                  <textarea\n                    value={resolution}\n                    onChange={(e) => setResolution(e.target.value)}\n                    placeholder=\"Explain your decision...\"\n                    rows={4}\n                    className=\"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-white focus:border-green-500 focus:outline-none resize-none\"\n                  />\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => {\n                      setShowResolveModal(false);\n                      setSelectedWinner('');\n                      setResolution('');\n                    }}\n                    className=\"flex-1 bg-slate-700 hover:bg-slate-600 text-white px-6 py-3 rounded-lg transition-colors font-semibold\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={() => handleResolve(selectedWinner)}\n                    disabled={!resolution.trim()}\n                    className=\"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg transition-all font-semibold\"\n                  >\n                    Confirm\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}\n"],"names":["API","process","AdminDisputeDetail","_dispute$status","_ref","_dispute$reason","disputeId","useParams","navigate","useNavigate","dispute","setDispute","useState","trade","setTrade","messages","setMessages","loading","setLoading","adminMessage","setAdminMessage","resolution","setResolution","showResolveModal","setShowResolveModal","selectedWinner","setSelectedWinner","useEffect","loadDisputeDetails","interval","setInterval","clearInterval","async","response","axios","get","concat","data","success","trade_id","tradeResponse","error","console","toast","sendAdminMessage","recipient","arguments","length","undefined","trim","post","sender_id","sender_type","message","recipientText","_jsx","Layout","children","className","_jsxs","onClick","IoArrowBack","dispute_id","copyDisputeLink","link","window","location","origin","navigator","clipboard","writeText","IoCopy","status","IoCheckmarkCircle","IoWarning","toUpperCase","Date","created_at","toLocaleString","IoDocument","fiat_amount","amount","fiat_currency","currency","crypto_amount","crypto_currency","trade_status","replace","reason","initiated_by","description","IoShield","buyer_id","seller_id","IoChatbubbles","map","msg","idx","timestamp","type","value","onChange","e","target","onKeyPress","key","placeholder","disabled","IoTime","resolved_at","winner","rows","resolutionValue","admin_id","admin_note","_error$response","_error$response$data","detail","handleResolve"],"sourceRoot":""}