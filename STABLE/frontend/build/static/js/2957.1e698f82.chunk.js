/*! For license information please see 2957.1e698f82.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2957],{2957:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var a=t(5043),r=t(7784);const l=(0,r.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),n=(0,r.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),c=(0,r.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),d=(0,r.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),i=(0,r.A)("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var o=t(9722),x=t(579);const m=()=>{var e,s,t,r,m;const[h,b]=(0,a.useState)(!0),[g,p]=(0,a.useState)(null),[y,u]=(0,a.useState)("all"),[f,j]=(0,a.useState)("");(0,a.useEffect)(()=>{v()},[y]);const v=async()=>{b(!0),j("");try{const e=await o.A.get("".concat("https://crypto-2fa-update.preview.emergentagent.com","/api/admin/revenue/dashboard?timeframe=").concat(y));e.data.success?p(e.data):j(e.data.error||"Failed to load revenue data")}catch(t){var e,s;j((null===(e=t.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.detail)||t.message||"Failed to load revenue data"),console.error("Error fetching revenue:",t)}finally{b(!1)}},N=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return e||0===e?"GBP"===s?"\xa3".concat(Number(e).toFixed(2)):"".concat(Number(e).toFixed(8)," ").concat(s):"GBP"===s?"\xa30.00":"0.00000000 "+s};return h?(0,x.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #0a0f1e 0%, #1a1f3a 100%)"},children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)(l,{className:"animate-spin text-cyan-400 mx-auto mb-4",size:48}),(0,x.jsx)("p",{className:"text-white text-xl",children:"Loading Revenue Data..."})]})}):f?(0,x.jsx)("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #0a0f1e 0%, #1a1f3a 100%)"},children:(0,x.jsxs)("div",{className:"bg-red-900/30 border border-red-500/50 rounded-xl p-8 max-w-md",children:[(0,x.jsx)("p",{className:"text-red-400 text-center",children:f}),(0,x.jsx)("button",{onClick:v,className:"mt-4 w-full px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]})}):(0,x.jsx)("div",{className:"min-h-screen p-8",style:{background:"linear-gradient(135deg, #0a0f1e 0%, #1a1f3a 100%)"},children:(0,x.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,x.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,x.jsx)(n,{className:"text-cyan-400",size:40}),"Admin Revenue Dashboard"]}),(0,x.jsx)("p",{className:"text-gray-400",children:"Real-time platform fee revenue and analytics"})]}),(0,x.jsxs)("button",{onClick:v,className:"px-6 py-3 bg-cyan-500 text-white rounded-lg font-medium hover:bg-cyan-600 transition-all flex items-center gap-2 shadow-lg",children:[(0,x.jsx)(l,{size:18}),"Refresh"]})]}),(0,x.jsx)("div",{className:"mb-6 flex gap-3",children:["all","today","week","month"].map(e=>(0,x.jsx)("button",{onClick:()=>u(e),className:"px-6 py-2 rounded-lg font-medium transition-all ".concat(y===e?"bg-cyan-500 text-white shadow-lg":"bg-gray-800 text-gray-300 hover:bg-gray-700"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,x.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/20 to-blue-500/20 backdrop-blur-xl rounded-2xl p-6 border border-cyan-500/30 shadow-2xl",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)(c,{className:"text-cyan-400",size:32}),(0,x.jsx)("div",{className:"text-cyan-400 text-sm font-bold",children:"TOTAL"})]}),(0,x.jsx)("h3",{className:"text-3xl font-bold text-white mb-1",children:N((null===g||void 0===g||null===(e=g.summary)||void 0===e?void 0:e.total_revenue_gbp)||0)}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Platform Revenue"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 backdrop-blur-xl rounded-2xl p-6 border border-green-500/30 shadow-2xl",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)(n,{className:"text-green-400",size:32}),(0,x.jsx)("div",{className:"text-green-400 text-sm font-bold",children:"NET"})]}),(0,x.jsx)("h3",{className:"text-3xl font-bold text-white mb-1",children:N((null===g||void 0===g||null===(s=g.summary)||void 0===s?void 0:s.net_revenue_gbp)||0)}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:"After Referral Commissions"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 backdrop-blur-xl rounded-2xl p-6 border border-purple-500/30 shadow-2xl",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)(d,{className:"text-purple-400",size:32}),(0,x.jsx)("div",{className:"text-purple-400 text-sm font-bold",children:"PAID OUT"})]}),(0,x.jsx)("h3",{className:"text-3xl font-bold text-white mb-1",children:N((null===g||void 0===g||null===(t=g.summary)||void 0===t?void 0:t.referral_commissions_paid_gbp)||0)}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:"Referral Commissions"})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 backdrop-blur-xl rounded-2xl p-6 border border-orange-500/30 shadow-2xl",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,x.jsx)(i,{className:"text-orange-400",size:32}),(0,x.jsx)("div",{className:"text-orange-400 text-sm font-bold",children:"VOLUME"})]}),(0,x.jsx)("h3",{className:"text-3xl font-bold text-white mb-1",children:(null===g||void 0===g||null===(r=g.summary)||void 0===r||null===(m=r.total_transactions)||void 0===m?void 0:m.toLocaleString())||0}),(0,x.jsx)("p",{className:"text-gray-400 text-sm",children:"Total Fee Transactions"})]})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl mb-8",children:[(0,x.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,x.jsx)(d,{className:"text-cyan-400",size:28}),"Revenue Breakdown by Fee Type"]}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null!==g&&void 0!==g&&g.by_fee_type&&g.by_fee_type.length>0?g.by_fee_type.map((e,s)=>(0,x.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700 hover:border-cyan-500/50 transition-all",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,x.jsx)("h3",{className:"text-white font-bold",children:e.fee_type}),(0,x.jsxs)("span",{className:"text-cyan-400 text-sm font-bold",children:[e.percentage.toFixed(1),"%"]})]}),(0,x.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:N(e.total_revenue)}),(0,x.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.transaction_count," transactions"]})]},s)):(0,x.jsx)("div",{className:"col-span-full text-center py-8",children:(0,x.jsx)("p",{className:"text-gray-400",children:"No fee type data available"})})})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl mb-8",children:[(0,x.jsxs)("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[(0,x.jsx)(c,{className:"text-cyan-400",size:28}),"Revenue by Currency"]}),(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:null!==g&&void 0!==g&&g.by_currency&&g.by_currency.length>0?g.by_currency.map((e,s)=>(0,x.jsxs)("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700 hover:border-cyan-500/50 transition-all",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,x.jsx)("h3",{className:"text-white font-bold text-lg",children:e.currency}),(0,x.jsxs)("span",{className:"text-cyan-400 text-sm font-bold",children:[e.percentage.toFixed(1),"%"]})]}),(0,x.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:N(e.total_revenue,e.currency)}),(0,x.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,x.jsxs)("span",{className:"text-gray-400",children:["Net: ",N(e.net_revenue,e.currency)]}),(0,x.jsxs)("span",{className:"text-purple-400",children:["Ref: ",N(e.referral_paid,e.currency)]})]})]},s)):(0,x.jsx)("div",{className:"col-span-full text-center py-8",children:(0,x.jsx)("p",{className:"text-gray-400",children:"No currency data available"})})})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl",children:[(0,x.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,x.jsx)(n,{className:"text-green-400",size:24}),"Top 5 Revenue Streams"]}),(0,x.jsx)("div",{className:"space-y-3",children:null!==g&&void 0!==g&&g.by_fee_type&&g.by_fee_type.length>0?g.by_fee_type.slice(0,5).map((e,s)=>(0,x.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-800/30 rounded-lg",children:[(0,x.jsxs)("div",{className:"flex items-center gap-3",children:[(0,x.jsxs)("div",{className:"text-2xl font-bold text-cyan-400",children:["#",s+1]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-white font-medium",children:e.fee_type}),(0,x.jsxs)("p",{className:"text-gray-400 text-sm",children:[e.transaction_count," txns"]})]})]}),(0,x.jsxs)("div",{className:"text-right",children:[(0,x.jsx)("p",{className:"text-white font-bold",children:N(e.total_revenue)}),(0,x.jsxs)("p",{className:"text-cyan-400 text-sm",children:[e.percentage.toFixed(1),"%"]})]})]},s)):(0,x.jsx)("div",{className:"text-center py-8",children:(0,x.jsx)("p",{className:"text-gray-400",children:"No revenue stream data available"})})})]}),(0,x.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/80 to-gray-800/50 backdrop-blur-xl rounded-2xl p-6 border border-gray-700/50 shadow-2xl",children:[(0,x.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[(0,x.jsx)(d,{className:"text-orange-400",size:24}),"Recent Fee Transactions"]}),(0,x.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:null!==g&&void 0!==g&&g.recent_transactions&&g.recent_transactions.length>0?g.recent_transactions.slice(0,10).map((e,s)=>(0,x.jsxs)("div",{className:"p-3 bg-gray-800/30 rounded-lg border border-gray-700/50",children:[(0,x.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,x.jsx)("span",{className:"text-cyan-400 font-medium text-sm",children:e.fee_type}),(0,x.jsx)("span",{className:"text-white font-bold",children:N(e.admin_fee,e.currency)})]}),(0,x.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,x.jsx)("span",{className:"text-gray-400",children:new Date(e.timestamp).toLocaleString()}),e.referrer_commission>0&&(0,x.jsxs)("span",{className:"text-purple-400",children:["Ref: ",N(e.referrer_commission,e.currency)]})]})]},s)):(0,x.jsx)("div",{className:"text-center py-8",children:(0,x.jsx)("p",{className:"text-gray-400",children:"No recent transactions available"})})})]})]}),(0,x.jsxs)("div",{className:"mt-8 text-center text-gray-500 text-sm",children:[(0,x.jsxs)("p",{children:["Last updated: ",new Date((null===g||void 0===g?void 0:g.last_updated)||Date.now()).toLocaleString()]}),(0,x.jsx)("p",{className:"mt-2",children:"All revenue data is pulled from live database transactions"})]})]})})}}}]);
//# sourceMappingURL=2957.1e698f82.chunk.js.map