"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[691],{691:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var n=t(5043),o=t(8163),s=t(1817),a=t(9722),i=t(3768),l=t(221),d=t(579);const c="https://crypto-integrify.preview.emergentagent.com";function p(){const[e,r]=(0,n.useState)([]),[t,p]=(0,n.useState)(!0),[g,x]=(0,n.useState)(!1),u=(0,o.Zp)();(0,n.useEffect)(()=>{localStorage.getItem("cryptobank_user")||localStorage.getItem("user")?h():u("/login")},[u]);const b=()=>{const e=localStorage.getItem("cryptobank_user")||localStorage.getItem("user");if(e)try{return JSON.parse(e).user_id}catch(r){console.error("Error parsing user data:",r)}return null},h=async()=>{p(!0);try{const e=b();if(!e)return void u("/login");const t=await a.A.get("".concat(c,"/api/p2p/blocked/").concat(e));if(t.data.success){const e=t.data.blocked||[],n=await Promise.all(e.map(async e=>{try{const r=await a.A.get("".concat(c,"/api/user/").concat(e));return{user_id:e,email:r.data.email||e,full_name:r.data.full_name||"Unknown User"}}catch(r){return{user_id:e,email:e,full_name:"Unknown User"}}}));r(n)}}catch(e){console.error("Error fetching blocked users:",e),i.oR.error("Failed to load blocked users")}finally{p(!1)}};return(0,d.jsxs)(s.A,{children:[(0,d.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0A0E27 0%, #1a1f3a 100%)",padding:"40px 20px"},children:(0,d.jsxs)("div",{style:{maxWidth:"900px",margin:"0 auto"},children:[(0,d.jsxs)("div",{style:{marginBottom:"32px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,d.jsx)(l.Xyd,{size:32,color:"#EF4444"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#FFFFFF",margin:0},children:"Blocked Users"}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"#8F9BB3",margin:"4px 0 0 0"},children:"Manage users you've blocked from P2P trading"})]})]}),t?(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, #0A1929 0%, #051018 100%)",border:"1px solid rgba(0, 198, 255, 0.2)",borderRadius:"16px",padding:"60px",textAlign:"center"},children:[(0,d.jsx)("div",{style:{width:"50px",height:"50px",border:"4px solid rgba(0, 198, 255, 0.2)",borderTop:"4px solid #00C6FF",borderRadius:"50%",margin:"0 auto 20px",animation:"spin 1s linear infinite"}}),(0,d.jsx)("p",{style:{color:"#8F9BB3"},children:"Loading blocked users..."})]}):0===e.length?(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, #0A1929 0%, #051018 100%)",border:"1px solid rgba(0, 198, 255, 0.2)",borderRadius:"16px",padding:"60px",textAlign:"center"},children:[(0,d.jsx)(l.G3G,{size:64,color:"#00C6FF",style:{marginBottom:"20px"}}),(0,d.jsx)("h3",{style:{color:"#FFFFFF",marginBottom:"8px"},children:"No Blocked Users"}),(0,d.jsx)("p",{style:{color:"#8F9BB3",marginBottom:"24px"},children:"You haven't blocked anyone yet. Users you block will appear here."}),(0,d.jsx)("button",{onClick:()=>u("/p2p"),style:{padding:"12px 24px",background:"linear-gradient(135deg, #00C6FF, #0096CC)",border:"none",borderRadius:"8px",color:"#FFFFFF",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Go to P2P Marketplace"})]}):(0,d.jsxs)("div",{style:{background:"linear-gradient(135deg, #0A1929 0%, #051018 100%)",border:"1px solid rgba(0, 198, 255, 0.2)",borderRadius:"16px",padding:"24px"},children:[(0,d.jsx)("div",{style:{padding:"16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",marginBottom:"24px"},children:(0,d.jsxs)("p",{style:{color:"#EF4444",fontSize:"14px",fontWeight:"600",margin:0},children:["You have blocked ",e.length," user",1!==e.length?"s":"",". They cannot see your offers or trade with you."]})}),(0,d.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.map(t=>(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(143, 155, 179, 0.2)",borderRadius:"12px",transition:"all 0.2s"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",flex:1},children:[(0,d.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"linear-gradient(135deg, #EF4444, #DC2626)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",color:"#FFFFFF",fontSize:"18px"},children:t.full_name.charAt(0).toUpperCase()}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{style:{color:"#FFFFFF",fontSize:"16px",fontWeight:"600",margin:"0 0 4px 0"},children:t.full_name}),(0,d.jsx)("p",{style:{color:"#8F9BB3",fontSize:"13px",margin:0},children:t.email})]})]}),(0,d.jsxs)("button",{onClick:()=>(async t=>{x(!0);try{const n=b();(await a.A.post("".concat(c,"/api/p2p/block/remove"),{user_id:n,blocked_user_id:t})).data.success&&(i.oR.success("User unblocked successfully"),r(e.filter(e=>e.user_id!==t)))}catch(n){i.oR.error("Failed to unblock user")}finally{x(!1)}})(t.user_id),disabled:g,style:{padding:"10px 20px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",color:"#EF4444",fontSize:"13px",fontWeight:"600",cursor:g?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",opacity:g?.5:1,transition:"all 0.2s"},onMouseEnter:e=>{g||(e.target.style.background="rgba(239, 68, 68, 0.2)")},onMouseLeave:e=>{e.target.style.background="rgba(239, 68, 68, 0.1)"},children:[(0,d.jsx)(l.tW_,{size:16}),"Unblock"]})]},t.user_id))})]})]})}),(0,d.jsx)("style",{children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]})}}}]);
//# sourceMappingURL=691.181b4100.chunk.js.map