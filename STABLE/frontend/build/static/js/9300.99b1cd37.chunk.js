"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[9300],{9300:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(9379),r=o(5043),a=o(8163),i=o(9722),l=o(3768),s=o(579);const d="https://trade-form-polish.preview.emergentagent.com";const c=function(){const e=(0,a.Zp)(),t=(0,a.zy)(),[o,c]=(0,r.useState)("signin"),[p,g]=(0,r.useState)(!1),[x,u]=(0,r.useState)(""),[h,f]=(0,r.useState)("+44"),[b,y]=(0,r.useState)(["","","","","",""]),[m,v]=(0,r.useState)(null),[j,S]=(0,r.useState)({fullName:"",username:""});(0,r.useEffect)(()=>{const o=new URLSearchParams(t.search),n=o.get("google_data"),r=o.get("token");if(r)localStorage.setItem("user_token",r),e("/dashboard");else if(n)try{const e=JSON.parse(atob(n));v(e),c("phone")}catch(a){console.error("Failed to decode Google data")}},[t,e]);const k=async()=>{if(x){g(!0);try{const e="".concat(h).concat(x),t=await i.A.post("".concat(d,"/auth/phone/send-otp"),{phone_number:e});t.data.success?(l.Ay.success("Verification code sent to ".concat(e,"! Check your messages. (Status: ").concat(t.data.status,")")),c("otp")):l.Ay.error("Failed to send code")}catch(o){var e,t;console.error("OTP send error:",o);const n=(null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||o.message;l.Ay.error("Failed to send verification code: ".concat(n))}finally{g(!1)}}else l.Ay.error("Please enter your phone number")};return(0,s.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #000D1A 0%, #0a0f1e 50%, #1a1f3a 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",position:"relative",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{position:"absolute",width:"500px",height:"500px",background:"radial-gradient(circle, rgba(0, 240, 255, 0.1) 0%, transparent 70%)",borderRadius:"50%",top:"-200px",left:"-200px",animation:"pulse 4s ease-in-out infinite"}}),(0,s.jsx)("div",{style:{position:"absolute",width:"400px",height:"400px",background:"radial-gradient(circle, rgba(168, 85, 247, 0.1) 0%, transparent 70%)",borderRadius:"50%",bottom:"-150px",right:"-150px",animation:"pulse 4s ease-in-out infinite 2s"}}),(0,s.jsxs)("div",{style:{width:"100%",maxWidth:"440px",background:"rgba(26, 31, 58, 0.8)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(0, 240, 255, 0.2)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), 0 0 40px rgba(0, 240, 255, 0.1)",padding:"48px 40px",position:"relative",zIndex:1,boxSizing:"border-box"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,s.jsx)("h1",{style:{fontSize:"32px",fontWeight:"900",background:"linear-gradient(135deg, #00F0FF, #A855F7)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"8px"},children:"Coin Hub X"}),(0,s.jsxs)("p",{style:{color:"#888",fontSize:"14px"},children:["signin"===o&&"Create your account or sign in","phone"===o&&"Verify your phone","otp"===o&&"Enter verification code","profile"===o&&"Complete your profile"]})]}),"signin"===o&&(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,s.jsxs)("button",{onClick:async()=>{try{g(!0);const e=await i.A.get("".concat(d,"/auth/google"));e.data.auth_url?window.location.href=e.data.auth_url:l.Ay.error("No auth URL received")}catch(o){var e,t;console.error("Google sign-in error:",o),l.Ay.error("Failed to initiate Google sign-in: "+((null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||o.message))}finally{g(!1)}},disabled:p,style:{width:"100%",padding:"18px",background:"#fff",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",color:"#000",fontSize:"16px",fontWeight:"700",cursor:p?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",transition:"all 0.3s ease",opacity:p?.5:1,marginBottom:"16px"},onMouseEnter:e=>{p||(e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 24px rgba(0, 240, 255, 0.2)")},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none"},children:[(0,s.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),(0,s.jsx)("button",{onClick:()=>{c("phone")},style:{width:"100%",padding:"18px",background:"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"16px",color:"#000",fontSize:"16px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",transition:"all 0.3s ease",boxShadow:"0 4px 16px rgba(0, 240, 255, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 24px rgba(0, 240, 255, 0.5)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 16px rgba(0, 240, 255, 0.3)"},children:"\ud83d\udcf1 Continue with Phone Number"}),(0,s.jsx)("button",{onClick:()=>{e("/register")},style:{width:"100%",padding:"18px",background:"rgba(255, 255, 255, 0.05)",border:"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"16px",color:"#fff",fontSize:"16px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.background="rgba(255, 255, 255, 0.1)",e.target.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.target.style.background="rgba(255, 255, 255, 0.05)",e.target.style.transform="translateY(0)"},children:"\u2709\ufe0f Continue with Email"}),(0,s.jsxs)("p",{style:{textAlign:"center",color:"#888",fontSize:"14px",marginTop:"24px"},children:["Already have an account? ",(0,s.jsx)("a",{href:"/login",style:{color:"#00F0FF",textDecoration:"none",fontWeight:"600"},children:"Sign in"})]})]}),"phone"===o&&(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",color:"#fff",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Phone Number"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px",width:"100%",alignItems:"stretch"},children:[(0,s.jsxs)("select",{value:h,onChange:e=>f(e.target.value),style:{width:"100px",minWidth:"100px",maxWidth:"100px",padding:"16px 12px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",color:"#fff",fontSize:"15px",outline:"none",boxSizing:"border-box",flexShrink:0},children:[(0,s.jsx)("option",{value:"+44",children:"\ud83c\uddec\ud83c\udde7 +44"}),(0,s.jsx)("option",{value:"+1",children:"\ud83c\uddfa\ud83c\uddf8 +1"}),(0,s.jsx)("option",{value:"+234",children:"\ud83c\uddf3\ud83c\uddec +234"}),(0,s.jsx)("option",{value:"+91",children:"\ud83c\uddee\ud83c\uddf3 +91"}),(0,s.jsx)("option",{value:"+33",children:"\ud83c\uddeb\ud83c\uddf7 +33"}),(0,s.jsx)("option",{value:"+49",children:"\ud83c\udde9\ud83c\uddea +49"})]}),(0,s.jsx)("input",{type:"tel",value:x,onChange:e=>u(e.target.value.replace(/\D/g,"")),placeholder:"7XXX XXX XXX",style:{flex:1,minWidth:0,padding:"16px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",color:"#fff",fontSize:"16px",outline:"none",boxSizing:"border-box"}})]})]}),(0,s.jsx)("button",{onClick:k,disabled:p,style:{width:"100%",padding:"18px",background:p?"rgba(0, 240, 255, 0.3)":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"16px",color:p?"#888":"#000",fontSize:"16px",fontWeight:"700",cursor:p?"not-allowed":"pointer",transition:"all 0.3s ease"},children:p?"Sending...":"Send Verification Code"}),(0,s.jsx)("button",{onClick:()=>c("signin"),style:{width:"100%",padding:"16px",background:"transparent",border:"none",color:"#888",fontSize:"14px",cursor:"pointer"},children:"\u2190 Back"})]}),"otp"===o&&(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{style:{color:"#888",fontSize:"14px",marginBottom:"24px",textAlign:"center"},children:["We sent a code to ",h," ",x]}),(0,s.jsx)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",maxWidth:"360px",margin:"0 auto"},children:b.map((e,t)=>(0,s.jsx)("input",{id:"otp-".concat(t),type:"text",maxLength:"1",value:e,onChange:e=>((e,t)=>{if(t.length>1&&(t=t[0]),!/^\d*$/.test(t))return;const o=[...b];o[e]=t,y(o),t&&e<5&&document.getElementById("otp-".concat(e+1)).focus()})(t,e.target.value),style:{width:"52px",height:"60px",padding:"0",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",color:"#fff",fontSize:"24px",fontWeight:"700",textAlign:"center",outline:"none",boxSizing:"border-box",transition:"all 0.2s ease"},onFocus:e=>{e.target.style.borderColor="#00F0FF",e.target.style.transform="scale(1.05)"},onBlur:e=>{e.target.style.borderColor="rgba(0, 240, 255, 0.3)",e.target.style.transform="scale(1)"}},t))})]}),(0,s.jsx)("button",{onClick:async()=>{const e=b.join("");if(6===e.length){g(!0);try{const t="".concat(h).concat(x);(await i.A.post("".concat(d,"/auth/phone/verify-otp"),{phone_number:t,code:e})).data.verified?(l.Ay.success("Phone verified!"),c("profile")):(l.Ay.error("Invalid or expired code"),y(["","","","","",""]))}catch(t){l.Ay.error("Verification failed")}finally{g(!1)}}else l.Ay.error("Please enter the 6-digit code")},disabled:p,style:{width:"100%",padding:"18px",background:p?"rgba(0, 240, 255, 0.3)":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"16px",color:p?"#888":"#000",fontSize:"16px",fontWeight:"700",cursor:p?"not-allowed":"pointer"},children:p?"Verifying...":"Verify"}),(0,s.jsx)("button",{onClick:k,style:{width:"100%",padding:"16px",background:"transparent",border:"none",color:"#00F0FF",fontSize:"14px",cursor:"pointer",fontWeight:"600"},children:"Resend Code"})]}),"profile"===o&&(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",color:"#fff",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:"Full Name"}),(0,s.jsx)("input",{type:"text",value:j.fullName,onChange:e=>S((0,n.A)((0,n.A)({},j),{},{fullName:e.target.value})),placeholder:"John Doe",style:{width:"100%",padding:"16px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",color:"#fff",fontSize:"16px",outline:"none"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{style:{display:"block",color:"#fff",fontSize:"14px",fontWeight:"600",marginBottom:"8px"},children:["Username ",(0,s.jsx)("span",{style:{color:"#888",fontSize:"12px"},children:"(Optional)"})]}),(0,s.jsx)("input",{type:"text",value:j.username,onChange:e=>S((0,n.A)((0,n.A)({},j),{},{username:e.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")})),placeholder:"johndoe (optional)",style:{width:"100%",padding:"16px",background:"rgba(0, 0, 0, 0.4)",border:"2px solid rgba(0, 240, 255, 0.3)",borderRadius:"12px",color:"#fff",fontSize:"16px",outline:"none"}})]}),(0,s.jsx)("button",{onClick:async()=>{if(j.fullName){g(!0);try{const t="".concat(h).concat(x),o=m?"/auth/complete-google-signup":"/auth/complete-phone-signup",n=m?{google_data:m,phone_number:t,full_name:j.fullName,username:j.username}:{phone_number:t,full_name:j.fullName,username:j.username},r=await i.A.post("".concat(d).concat(o),n);r.data.success&&r.data.token?(localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user)),localStorage.setItem("cryptobank_user",JSON.stringify(r.data.user)),l.Ay.success("Welcome to Coin Hub X!"),e("/dashboard")):l.Ay.error("Failed to create account")}catch(n){var t,o;console.error("Profile completion error:",n),l.Ay.error((null===(t=n.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.detail)||"Failed to complete signup")}finally{g(!1)}}else l.Ay.error("Please enter your full name")},disabled:p,style:{width:"100%",padding:"18px",background:p?"rgba(0, 240, 255, 0.3)":"linear-gradient(135deg, #00F0FF, #A855F7)",border:"none",borderRadius:"16px",color:p?"#888":"#000",fontSize:"16px",fontWeight:"700",cursor:p?"not-allowed":"pointer"},children:p?"Creating Account...":"Create Account"})]})]}),(0,s.jsx)("style",{children:"\n        @keyframes pulse {\n          0%, 100% { opacity: 0.3; transform: scale(1); }\n          50% { opacity: 0.5; transform: scale(1.1); }\n        }\n      "})]})}}}]);
//# sourceMappingURL=9300.99b1cd37.chunk.js.map