"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[6357],{6357:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var i=r(9379),s=r(5043),a=r(8163),o=r(1817),l=r(1140),n=r(807),d=r(221),c=r(9722),p=r(6328),g=r(579);const f="https://atomic-pay-fix.preview.emergentagent.com";function m(){const e=(0,a.Zp)(),[t,r]=(0,s.useState)("fees"),[m,x]=(0,s.useState)(!0),[h,b]=(0,s.useState)(!1),[y,_]=(0,s.useState)({deposit_fee_percent:.5,withdraw_fee_percent:1,p2p_trade_fee_percent:1}),[j,v]=(0,s.useState)({max_offers_per_seller:10,min_trade_amount_usd:50,max_trade_amount_usd:5e4,min_seller_rating:4,require_kyc_above_amount:1e3}),[S,k]=(0,s.useState)({show_ratings:!0,show_trade_count:!0,show_completion_rate:!0,show_payment_methods:!0,allow_user_offers:!0,require_kyc_to_trade:!1}),[w,z]=(0,s.useState)({sort_by:"best_price",default_crypto:"BTC",default_fiat:"GBP",offers_per_page:20,show_offline_sellers:!1});(0,s.useEffect)(()=>{A(),C()},[]);const A=()=>{localStorage.getItem("cryptobank_admin")||e("/admin/login")},C=async()=>{try{const[e,t,r,i]=await Promise.all([c.A.get("".concat(f,"/api/cms/settings/fees")),c.A.get("".concat(f,"/api/cms/settings/seller-limits")),c.A.get("".concat(f,"/api/cms/settings/marketplace-visibility")),c.A.get("".concat(f,"/api/cms/settings/display"))]);e.data.success&&_(e.data.fees),t.data.success&&v(t.data.limits),r.data.success&&k(r.data.visibility),i.data.success&&z(i.data.display),x(!1)}catch(e){console.error("Error fetching settings:",e),p.oR.error("Failed to load CMS settings"),x(!1)}};return m?(0,g.jsx)(o.A,{children:(0,g.jsx)("div",{style:{padding:"3rem",textAlign:"center",color:"#fff"},children:"Loading CMS..."})}):(0,g.jsx)(o.A,{children:(0,g.jsxs)("div",{style:{padding:"2rem",maxWidth:"1400px",margin:"0 auto"},children:[(0,g.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,g.jsx)("h1",{style:{fontSize:"32px",fontWeight:"800",color:"#fff",marginBottom:"0.5rem"},children:"CMS - Platform Configuration"}),(0,g.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)"},children:"Manage marketplace settings, fees, and seller limits without code changes"})]}),(0,g.jsx)("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem",flexWrap:"wrap"},children:[{id:"fees",label:"Wallet Fees",icon:d.AaD},{id:"limits",label:"Seller Limits",icon:d.GvN},{id:"visibility",label:"Marketplace Visibility",icon:d.GNz},{id:"display",label:"Display & Sorting",icon:Sliders}].map(e=>(0,g.jsxs)(n.$,{onClick:()=>r(e.id),style:{background:t===e.id?"linear-gradient(135deg, #00F0FF, #A855F7)":"rgba(255, 255, 255, 0.1)",border:"none",padding:"0.75rem 1.5rem",fontSize:"16px",fontWeight:"700",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,g.jsx)(e.icon,{size:18}),e.label]},e.id))}),"fees"===t&&(0,g.jsxs)(l.Zp,{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,g.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1.5rem"},children:"Wallet Fee Settings"}),(0,g.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Deposit Fee (%)"}),(0,g.jsx)("input",{type:"number",step:"0.1",value:y.deposit_fee_percent,onChange:e=>_((0,i.A)((0,i.A)({},y),{},{deposit_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}}),(0,g.jsx)("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Fee charged when users deposit crypto to the platform"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Withdrawal Fee (%)"}),(0,g.jsx)("input",{type:"number",step:"0.1",value:y.withdraw_fee_percent,onChange:e=>_((0,i.A)((0,i.A)({},y),{},{withdraw_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}}),(0,g.jsx)("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Fee charged when users withdraw crypto from the platform (Applied automatically)"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"P2P Trade Fee (%)"}),(0,g.jsx)("input",{type:"number",step:"0.1",value:y.p2p_trade_fee_percent,onChange:e=>_((0,i.A)((0,i.A)({},y),{},{p2p_trade_fee_percent:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}}),(0,g.jsx)("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Fee charged on P2P trades (Paid by seller, applied automatically)"})]}),(0,g.jsxs)(n.$,{onClick:async()=>{b(!0);try{(await c.A.put("".concat(f,"/api/cms/settings/fees"),y)).data.success&&p.oR.success("Fee settings saved successfully!")}catch(e){console.error("Error saving fee settings:",e),p.oR.error("Failed to save fee settings")}finally{b(!1)}},disabled:h,style:{background:"linear-gradient(135deg, #10B981, #059669)",border:"none",padding:"1rem",fontSize:"16px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[(0,g.jsx)(d.Q7l,{size:18}),h?"Saving...":"Save Fee Settings"]})]})]}),"limits"===t&&(0,g.jsxs)(l.Zp,{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,g.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1.5rem"},children:"Seller Limit Settings"}),(0,g.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Max Offers Per Seller"}),(0,g.jsx)("input",{type:"number",value:j.max_offers_per_seller,onChange:e=>v((0,i.A)((0,i.A)({},j),{},{max_offers_per_seller:parseInt(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Minimum Trade Amount (USD)"}),(0,g.jsx)("input",{type:"number",value:j.min_trade_amount_usd,onChange:e=>v((0,i.A)((0,i.A)({},j),{},{min_trade_amount_usd:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Maximum Trade Amount (USD)"}),(0,g.jsx)("input",{type:"number",value:j.max_trade_amount_usd,onChange:e=>v((0,i.A)((0,i.A)({},j),{},{max_trade_amount_usd:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Minimum Seller Rating"}),(0,g.jsx)("input",{type:"number",step:"0.1",min:"0",max:"5",value:j.min_seller_rating,onChange:e=>v((0,i.A)((0,i.A)({},j),{},{min_seller_rating:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Require KYC Above Amount (USD)"}),(0,g.jsx)("input",{type:"number",value:j.require_kyc_above_amount,onChange:e=>v((0,i.A)((0,i.A)({},j),{},{require_kyc_above_amount:parseFloat(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}}),(0,g.jsx)("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.25rem"},children:"Users must complete KYC to trade above this amount"})]}),(0,g.jsxs)(n.$,{onClick:async()=>{b(!0);try{(await c.A.put("".concat(f,"/api/cms/settings/seller-limits"),j)).data.success&&p.oR.success("Seller limits saved successfully!")}catch(e){console.error("Error saving seller limits:",e),p.oR.error("Failed to save seller limits")}finally{b(!1)}},disabled:h,style:{background:"linear-gradient(135deg, #10B981, #059669)",border:"none",padding:"1rem",fontSize:"16px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[(0,g.jsx)(d.Q7l,{size:18}),h?"Saving...":"Save Seller Limits"]})]})]}),"visibility"===t&&(0,g.jsxs)(l.Zp,{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,g.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1.5rem"},children:"Marketplace Visibility Controls"}),(0,g.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[Object.entries(S).map(e=>{let[t,r]=e;return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}),(0,g.jsx)("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:u(t)})]}),(0,g.jsxs)("label",{style:{position:"relative",display:"inline-block",width:"60px",height:"34px"},children:[(0,g.jsx)("input",{type:"checkbox",checked:r,onChange:e=>k((0,i.A)((0,i.A)({},S),{},{[t]:e.target.checked})),style:{opacity:0,width:0,height:0}}),(0,g.jsx)("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:r?"#10B981":"#374151",transition:"0.4s",borderRadius:"34px"},children:(0,g.jsx)("span",{style:{position:"absolute",content:"",height:"26px",width:"26px",left:r?"30px":"4px",bottom:"4px",backgroundColor:"white",transition:"0.4s",borderRadius:"50%"}})})]})]},t)}),(0,g.jsxs)(n.$,{onClick:async()=>{b(!0);try{(await c.A.put("".concat(f,"/api/cms/settings/marketplace-visibility"),S)).data.success&&p.oR.success("Marketplace visibility saved successfully!")}catch(e){console.error("Error saving marketplace visibility:",e),p.oR.error("Failed to save marketplace visibility")}finally{b(!1)}},disabled:h,style:{background:"linear-gradient(135deg, #10B981, #059669)",border:"none",padding:"1rem",fontSize:"16px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[(0,g.jsx)(d.Q7l,{size:18}),h?"Saving...":"Save Visibility Settings"]})]})]}),"display"===t&&(0,g.jsxs)(l.Zp,{style:{background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"16px",padding:"2rem"},children:[(0,g.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#fff",marginBottom:"1.5rem"},children:"Display & Sorting Settings"}),(0,g.jsxs)("div",{style:{display:"grid",gap:"1.5rem"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Default Sort Order"}),(0,g.jsxs)("select",{value:w.sort_by,onChange:e=>z((0,i.A)((0,i.A)({},w),{},{sort_by:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"},children:[(0,g.jsx)("option",{value:"best_price",children:"Best Price First"}),(0,g.jsx)("option",{value:"rating",children:"Highest Rating First"}),(0,g.jsx)("option",{value:"trades",children:"Most Trades First"}),(0,g.jsx)("option",{value:"newest",children:"Newest First"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Default Cryptocurrency"}),(0,g.jsxs)("select",{value:w.default_crypto,onChange:e=>z((0,i.A)((0,i.A)({},w),{},{default_crypto:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"},children:[(0,g.jsx)("option",{value:"BTC",children:"Bitcoin (BTC)"}),(0,g.jsx)("option",{value:"ETH",children:"Ethereum (ETH)"}),(0,g.jsx)("option",{value:"USDT",children:"Tether (USDT)"}),(0,g.jsx)("option",{value:"BNB",children:"Binance Coin (BNB)"}),(0,g.jsx)("option",{value:"SOL",children:"Solana (SOL)"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Default Fiat Currency"}),(0,g.jsxs)("select",{value:w.default_fiat,onChange:e=>z((0,i.A)((0,i.A)({},w),{},{default_fiat:e.target.value})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"},children:[(0,g.jsx)("option",{value:"GBP",children:"British Pound (GBP)"}),(0,g.jsx)("option",{value:"EUR",children:"Euro (EUR)"}),(0,g.jsx)("option",{value:"USD",children:"US Dollar (USD)"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#fff",marginBottom:"0.5rem"},children:"Offers Per Page"}),(0,g.jsx)("input",{type:"number",value:w.offers_per_page,onChange:e=>z((0,i.A)((0,i.A)({},w),{},{offers_per_page:parseInt(e.target.value)})),style:{width:"100%",padding:"0.75rem",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 240, 255, 0.3)",borderRadius:"8px",color:"#fff",fontSize:"16px"}})]}),(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",border:"1px solid rgba(0, 240, 255, 0.2)"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{style:{fontSize:"16px",fontWeight:"600",color:"#fff",marginBottom:"0.25rem"},children:"Show Offline Sellers"}),(0,g.jsx)("div",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.6)"},children:"Display sellers who are currently inactive"})]}),(0,g.jsxs)("label",{style:{position:"relative",display:"inline-block",width:"60px",height:"34px"},children:[(0,g.jsx)("input",{type:"checkbox",checked:w.show_offline_sellers,onChange:e=>z((0,i.A)((0,i.A)({},w),{},{show_offline_sellers:e.target.checked})),style:{opacity:0,width:0,height:0}}),(0,g.jsx)("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:w.show_offline_sellers?"#10B981":"#374151",transition:"0.4s",borderRadius:"34px"},children:(0,g.jsx)("span",{style:{position:"absolute",content:"",height:"26px",width:"26px",left:w.show_offline_sellers?"30px":"4px",bottom:"4px",backgroundColor:"white",transition:"0.4s",borderRadius:"50%"}})})]})]}),(0,g.jsxs)(n.$,{onClick:async()=>{b(!0);try{(await c.A.put("".concat(f,"/api/cms/settings/display"),w)).data.success&&p.oR.success("Display settings saved successfully!")}catch(e){console.error("Error saving display settings:",e),p.oR.error("Failed to save display settings")}finally{b(!1)}},disabled:h,style:{background:"linear-gradient(135deg, #10B981, #059669)",border:"none",padding:"1rem",fontSize:"16px",fontWeight:"700",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",marginTop:"1rem"},children:[(0,g.jsx)(d.Q7l,{size:18}),h?"Saving...":"Save Display Settings"]})]})]})]})})}function u(e){return{show_ratings:"Display seller ratings on marketplace offers",show_trade_count:"Display total number of trades completed by sellers",show_completion_rate:"Display seller completion percentage",show_payment_methods:"Display available payment methods on offers",allow_user_offers:"Allow regular users to create P2P offers",require_kyc_to_trade:"Require KYC verification before trading"}[e]||""}}}]);
//# sourceMappingURL=6357.45bb12cf.chunk.js.map